(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function i(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=i(a);fetch(a.href,u)}})();function kv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Vc={exports:{}},Bs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rg;function L_(){if(Rg)return Bs;Rg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,a,u){var c=null;if(u!==void 0&&(c=""+u),a.key!==void 0&&(c=""+a.key),"key"in a){u={};for(var p in a)p!=="key"&&(u[p]=a[p])}else u=a;return a=u.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:u}}return Bs.Fragment=e,Bs.jsx=i,Bs.jsxs=i,Bs}var wg;function P_(){return wg||(wg=1,Vc.exports=L_()),Vc.exports}var S=P_(),kc={exports:{}},ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mg;function V_(){if(Mg)return ge;Mg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),x=Symbol.iterator;function _(M){return M===null||typeof M!="object"?null:(M=x&&M[x]||M["@@iterator"],typeof M=="function"?M:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,A={};function R(M,O,j){this.props=M,this.context=O,this.refs=A,this.updater=j||b}R.prototype.isReactComponent={},R.prototype.setState=function(M,O){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,O,"setState")},R.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function P(){}P.prototype=R.prototype;function U(M,O,j){this.props=M,this.context=O,this.refs=A,this.updater=j||b}var J=U.prototype=new P;J.constructor=U,w(J,R.prototype),J.isPureReactComponent=!0;var H=Array.isArray;function q(){}var z={H:null,A:null,T:null,S:null},Q=Object.prototype.hasOwnProperty;function Z(M,O,j){var ne=j.ref;return{$$typeof:t,type:M,key:O,ref:ne!==void 0?ne:null,props:j}}function ie(M,O){return Z(M.type,O,M.props)}function pe(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function ee(M){var O={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(j){return O[j]})}var re=/\/+/g;function ye(M,O){return typeof M=="object"&&M!==null&&M.key!=null?ee(""+M.key):O.toString(36)}function Ge(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(q,q):(M.status="pending",M.then(function(O){M.status==="pending"&&(M.status="fulfilled",M.value=O)},function(O){M.status==="pending"&&(M.status="rejected",M.reason=O)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function L(M,O,j,ne,ue){var he=typeof M;(he==="undefined"||he==="boolean")&&(M=null);var Se=!1;if(M===null)Se=!0;else switch(he){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(M.$$typeof){case t:case e:Se=!0;break;case v:return Se=M._init,L(Se(M._payload),O,j,ne,ue)}}if(Se)return ue=ue(M),Se=ne===""?"."+ye(M,0):ne,H(ue)?(j="",Se!=null&&(j=Se.replace(re,"$&/")+"/"),L(ue,O,j,"",function(Jo){return Jo})):ue!=null&&(pe(ue)&&(ue=ie(ue,j+(ue.key==null||M&&M.key===ue.key?"":(""+ue.key).replace(re,"$&/")+"/")+Se)),O.push(ue)),1;Se=0;var je=ne===""?".":ne+":";if(H(M))for(var Oe=0;Oe<M.length;Oe++)ne=M[Oe],he=je+ye(ne,Oe),Se+=L(ne,O,j,he,ue);else if(Oe=_(M),typeof Oe=="function")for(M=Oe.call(M),Oe=0;!(ne=M.next()).done;)ne=ne.value,he=je+ye(ne,Oe++),Se+=L(ne,O,j,he,ue);else if(he==="object"){if(typeof M.then=="function")return L(Ge(M),O,j,ne,ue);throw O=String(M),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return Se}function $(M,O,j){if(M==null)return M;var ne=[],ue=0;return L(M,ne,"","",function(he){return O.call(j,he,ue++)}),ne}function se(M){if(M._status===-1){var O=M._result;O=O(),O.then(function(j){(M._status===0||M._status===-1)&&(M._status=1,M._result=j)},function(j){(M._status===0||M._status===-1)&&(M._status=2,M._result=j)}),M._status===-1&&(M._status=0,M._result=O)}if(M._status===1)return M._result.default;throw M._result}var Te=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},W={map:$,forEach:function(M,O,j){$(M,function(){O.apply(this,arguments)},j)},count:function(M){var O=0;return $(M,function(){O++}),O},toArray:function(M){return $(M,function(O){return O})||[]},only:function(M){if(!pe(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return ge.Activity=T,ge.Children=W,ge.Component=R,ge.Fragment=i,ge.Profiler=a,ge.PureComponent=U,ge.StrictMode=s,ge.Suspense=g,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,ge.__COMPILER_RUNTIME={__proto__:null,c:function(M){return z.H.useMemoCache(M)}},ge.cache=function(M){return function(){return M.apply(null,arguments)}},ge.cacheSignal=function(){return null},ge.cloneElement=function(M,O,j){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ne=w({},M.props),ue=M.key;if(O!=null)for(he in O.key!==void 0&&(ue=""+O.key),O)!Q.call(O,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&O.ref===void 0||(ne[he]=O[he]);var he=arguments.length-2;if(he===1)ne.children=j;else if(1<he){for(var Se=Array(he),je=0;je<he;je++)Se[je]=arguments[je+2];ne.children=Se}return Z(M.type,ue,ne)},ge.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},ge.createElement=function(M,O,j){var ne,ue={},he=null;if(O!=null)for(ne in O.key!==void 0&&(he=""+O.key),O)Q.call(O,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(ue[ne]=O[ne]);var Se=arguments.length-2;if(Se===1)ue.children=j;else if(1<Se){for(var je=Array(Se),Oe=0;Oe<Se;Oe++)je[Oe]=arguments[Oe+2];ue.children=je}if(M&&M.defaultProps)for(ne in Se=M.defaultProps,Se)ue[ne]===void 0&&(ue[ne]=Se[ne]);return Z(M,he,ue)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(M){return{$$typeof:p,render:M}},ge.isValidElement=pe,ge.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:se}},ge.memo=function(M,O){return{$$typeof:h,type:M,compare:O===void 0?null:O}},ge.startTransition=function(M){var O=z.T,j={};z.T=j;try{var ne=M(),ue=z.S;ue!==null&&ue(j,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(q,Te)}catch(he){Te(he)}finally{O!==null&&j.types!==null&&(O.types=j.types),z.T=O}},ge.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},ge.use=function(M){return z.H.use(M)},ge.useActionState=function(M,O,j){return z.H.useActionState(M,O,j)},ge.useCallback=function(M,O){return z.H.useCallback(M,O)},ge.useContext=function(M){return z.H.useContext(M)},ge.useDebugValue=function(){},ge.useDeferredValue=function(M,O){return z.H.useDeferredValue(M,O)},ge.useEffect=function(M,O){return z.H.useEffect(M,O)},ge.useEffectEvent=function(M){return z.H.useEffectEvent(M)},ge.useId=function(){return z.H.useId()},ge.useImperativeHandle=function(M,O,j){return z.H.useImperativeHandle(M,O,j)},ge.useInsertionEffect=function(M,O){return z.H.useInsertionEffect(M,O)},ge.useLayoutEffect=function(M,O){return z.H.useLayoutEffect(M,O)},ge.useMemo=function(M,O){return z.H.useMemo(M,O)},ge.useOptimistic=function(M,O){return z.H.useOptimistic(M,O)},ge.useReducer=function(M,O,j){return z.H.useReducer(M,O,j)},ge.useRef=function(M){return z.H.useRef(M)},ge.useState=function(M){return z.H.useState(M)},ge.useSyncExternalStore=function(M,O,j){return z.H.useSyncExternalStore(M,O,j)},ge.useTransition=function(){return z.H.useTransition()},ge.version="19.2.3",ge}var Dg;function Vf(){return Dg||(Dg=1,kc.exports=V_()),kc.exports}var X=Vf();const Gv=kv(X);var Gc={exports:{}},Hs={},Bc={exports:{}},Hc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ig;function k_(){return Ig||(Ig=1,(function(t){function e(L,$){var se=L.length;L.push($);e:for(;0<se;){var Te=se-1>>>1,W=L[Te];if(0<a(W,$))L[Te]=$,L[se]=W,se=Te;else break e}}function i(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var $=L[0],se=L.pop();if(se!==$){L[0]=se;e:for(var Te=0,W=L.length,M=W>>>1;Te<M;){var O=2*(Te+1)-1,j=L[O],ne=O+1,ue=L[ne];if(0>a(j,se))ne<W&&0>a(ue,j)?(L[Te]=ue,L[ne]=se,Te=ne):(L[Te]=j,L[O]=se,Te=O);else if(ne<W&&0>a(ue,se))L[Te]=ue,L[ne]=se,Te=ne;else break e}}return $}function a(L,$){var se=L.sortIndex-$.sortIndex;return se!==0?se:L.id-$.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var c=Date,p=c.now();t.unstable_now=function(){return c.now()-p}}var g=[],h=[],v=1,T=null,x=3,_=!1,b=!1,w=!1,A=!1,R=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function J(L){for(var $=i(h);$!==null;){if($.callback===null)s(h);else if($.startTime<=L)s(h),$.sortIndex=$.expirationTime,e(g,$);else break;$=i(h)}}function H(L){if(w=!1,J(L),!b)if(i(g)!==null)b=!0,q||(q=!0,ee());else{var $=i(h);$!==null&&Ge(H,$.startTime-L)}}var q=!1,z=-1,Q=5,Z=-1;function ie(){return A?!0:!(t.unstable_now()-Z<Q)}function pe(){if(A=!1,q){var L=t.unstable_now();Z=L;var $=!0;try{e:{b=!1,w&&(w=!1,P(z),z=-1),_=!0;var se=x;try{t:{for(J(L),T=i(g);T!==null&&!(T.expirationTime>L&&ie());){var Te=T.callback;if(typeof Te=="function"){T.callback=null,x=T.priorityLevel;var W=Te(T.expirationTime<=L);if(L=t.unstable_now(),typeof W=="function"){T.callback=W,J(L),$=!0;break t}T===i(g)&&s(g),J(L)}else s(g);T=i(g)}if(T!==null)$=!0;else{var M=i(h);M!==null&&Ge(H,M.startTime-L),$=!1}}break e}finally{T=null,x=se,_=!1}$=void 0}}finally{$?ee():q=!1}}}var ee;if(typeof U=="function")ee=function(){U(pe)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ye=re.port2;re.port1.onmessage=pe,ee=function(){ye.postMessage(null)}}else ee=function(){R(pe,0)};function Ge(L,$){z=R(function(){L(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(L){switch(x){case 1:case 2:case 3:var $=3;break;default:$=x}var se=x;x=$;try{return L()}finally{x=se}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(L,$){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var se=x;x=L;try{return $()}finally{x=se}},t.unstable_scheduleCallback=function(L,$,se){var Te=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Te+se:Te):se=Te,L){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=se+W,L={id:v++,callback:$,priorityLevel:L,startTime:se,expirationTime:W,sortIndex:-1},se>Te?(L.sortIndex=se,e(h,L),i(g)===null&&L===i(h)&&(w?(P(z),z=-1):w=!0,Ge(H,se-Te))):(L.sortIndex=W,e(g,L),b||_||(b=!0,q||(q=!0,ee()))),L},t.unstable_shouldYield=ie,t.unstable_wrapCallback=function(L){var $=x;return function(){var se=x;x=$;try{return L.apply(this,arguments)}finally{x=se}}}})(Hc)),Hc}var Ug;function G_(){return Ug||(Ug=1,Bc.exports=k_()),Bc.exports}var zc={exports:{}},ht={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lg;function B_(){if(Lg)return ht;Lg=1;var t=Vf();function e(g){var h="https://react.dev/errors/"+g;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},a=Symbol.for("react.portal");function u(g,h,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:g,containerInfo:h,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,h){if(g==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ht.createPortal=function(g,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return u(g,h,null,v)},ht.flushSync=function(g){var h=c.T,v=s.p;try{if(c.T=null,s.p=2,g)return g()}finally{c.T=h,s.p=v,s.d.f()}},ht.preconnect=function(g,h){typeof g=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(g,h))},ht.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},ht.preinit=function(g,h){if(typeof g=="string"&&h&&typeof h.as=="string"){var v=h.as,T=p(v,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?s.d.S(g,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:T,integrity:x,fetchPriority:_}):v==="script"&&s.d.X(g,{crossOrigin:T,integrity:x,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},ht.preinitModule=function(g,h){if(typeof g=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=p(h.as,h.crossOrigin);s.d.M(g,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(g)},ht.preload=function(g,h){if(typeof g=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,T=p(v,h.crossOrigin);s.d.L(g,v,{crossOrigin:T,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},ht.preloadModule=function(g,h){if(typeof g=="string")if(h){var v=p(h.as,h.crossOrigin);s.d.m(g,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(g)},ht.requestFormReset=function(g){s.d.r(g)},ht.unstable_batchedUpdates=function(g,h){return g(h)},ht.useFormState=function(g,h,v){return c.H.useFormState(g,h,v)},ht.useFormStatus=function(){return c.H.useHostTransitionStatus()},ht.version="19.2.3",ht}var Pg;function H_(){if(Pg)return zc.exports;Pg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zc.exports=B_(),zc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vg;function z_(){if(Vg)return Hs;Vg=1;var t=G_(),e=Vf(),i=H_();function s(n){var o="https://react.dev/errors/"+n;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var o=n,l=n;if(n.alternate)for(;o.return;)o=o.return;else{n=o;do o=n,(o.flags&4098)!==0&&(l=o.return),n=o.return;while(n)}return o.tag===3?l:null}function c(n){if(n.tag===13){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function p(n){if(n.tag===31){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function g(n){if(u(n)!==n)throw Error(s(188))}function h(n){var o=n.alternate;if(!o){if(o=u(n),o===null)throw Error(s(188));return o!==n?null:n}for(var l=n,r=o;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(r=m.return,r!==null){l=r;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return g(m),n;if(y===r)return g(m),o;y=y.sibling}throw Error(s(188))}if(l.return!==r.return)l=m,r=y;else{for(var E=!1,C=m.child;C;){if(C===l){E=!0,l=m,r=y;break}if(C===r){E=!0,r=m,l=y;break}C=C.sibling}if(!E){for(C=y.child;C;){if(C===l){E=!0,l=y,r=m;break}if(C===r){E=!0,r=y,l=m;break}C=C.sibling}if(!E)throw Error(s(189))}}if(l.alternate!==r)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?n:o}function v(n){var o=n.tag;if(o===5||o===26||o===27||o===6)return n;for(n=n.child;n!==null;){if(o=v(n),o!==null)return o;n=n.sibling}return null}var T=Object.assign,x=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),U=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),pe=Symbol.iterator;function ee(n){return n===null||typeof n!="object"?null:(n=pe&&n[pe]||n["@@iterator"],typeof n=="function"?n:null)}var re=Symbol.for("react.client.reference");function ye(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===re?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case w:return"Fragment";case R:return"Profiler";case A:return"StrictMode";case H:return"Suspense";case q:return"SuspenseList";case Z:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case b:return"Portal";case U:return n.displayName||"Context";case P:return(n._context.displayName||"Context")+".Consumer";case J:var o=n.render;return n=n.displayName,n||(n=o.displayName||o.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case z:return o=n.displayName||null,o!==null?o:ye(n.type)||"Memo";case Q:o=n._payload,n=n._init;try{return ye(n(o))}catch{}}return null}var Ge=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},Te=[],W=-1;function M(n){return{current:n}}function O(n){0>W||(n.current=Te[W],Te[W]=null,W--)}function j(n,o){W++,Te[W]=n.current,n.current=o}var ne=M(null),ue=M(null),he=M(null),Se=M(null);function je(n,o){switch(j(he,o),j(ue,n),j(ne,null),o.nodeType){case 9:case 11:n=(n=o.documentElement)&&(n=n.namespaceURI)?Zm(n):0;break;default:if(n=o.tagName,o=o.namespaceURI)o=Zm(o),n=jm(o,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}O(ne),j(ne,n)}function Oe(){O(ne),O(ue),O(he)}function Jo(n){n.memoizedState!==null&&j(Se,n);var o=ne.current,l=jm(o,n.type);o!==l&&(j(ue,n),j(ne,l))}function ul(n){ue.current===n&&(O(ne),O(ue)),Se.current===n&&(O(Se),Ps._currentValue=se)}var vr,Nd;function gi(n){if(vr===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);vr=o&&o[1]||"",Nd=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vr+n+Nd}var Tr=!1;function xr(n,o){if(!n||Tr)return"";Tr=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(o){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(B){var G=B}Reflect.construct(n,[],K)}else{try{K.call()}catch(B){G=B}n.call(K.prototype)}}else{try{throw Error()}catch(B){G=B}(K=n())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(B){if(B&&G&&typeof B.stack=="string")return[B.stack,G.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=r.DetermineComponentFrameRoot(),E=y[0],C=y[1];if(E&&C){var N=E.split(`
`),k=C.split(`
`);for(m=r=0;r<N.length&&!N[r].includes("DetermineComponentFrameRoot");)r++;for(;m<k.length&&!k[m].includes("DetermineComponentFrameRoot");)m++;if(r===N.length||m===k.length)for(r=N.length-1,m=k.length-1;1<=r&&0<=m&&N[r]!==k[m];)m--;for(;1<=r&&0<=m;r--,m--)if(N[r]!==k[m]){if(r!==1||m!==1)do if(r--,m--,0>m||N[r]!==k[m]){var F=`
`+N[r].replace(" at new "," at ");return n.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",n.displayName)),F}while(1<=r&&0<=m);break}}}finally{Tr=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?gi(l):""}function fS(n,o){switch(n.tag){case 26:case 27:case 5:return gi(n.type);case 16:return gi("Lazy");case 13:return n.child!==o&&o!==null?gi("Suspense Fallback"):gi("Suspense");case 19:return gi("SuspenseList");case 0:case 15:return xr(n.type,!1);case 11:return xr(n.type.render,!1);case 1:return xr(n.type,!0);case 31:return gi("Activity");default:return""}}function Rd(n){try{var o="",l=null;do o+=fS(n,l),l=n,n=n.return;while(n);return o}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Sr=Object.prototype.hasOwnProperty,Er=t.unstable_scheduleCallback,_r=t.unstable_cancelCallback,dS=t.unstable_shouldYield,pS=t.unstable_requestPaint,Rt=t.unstable_now,hS=t.unstable_getCurrentPriorityLevel,wd=t.unstable_ImmediatePriority,Md=t.unstable_UserBlockingPriority,cl=t.unstable_NormalPriority,mS=t.unstable_LowPriority,Dd=t.unstable_IdlePriority,gS=t.log,yS=t.unstable_setDisableYieldValue,Ko=null,wt=null;function Hn(n){if(typeof gS=="function"&&yS(n),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(Ko,n)}catch{}}var Mt=Math.clz32?Math.clz32:xS,vS=Math.log,TS=Math.LN2;function xS(n){return n>>>=0,n===0?32:31-(vS(n)/TS|0)|0}var fl=256,dl=262144,pl=4194304;function yi(n){var o=n&42;if(o!==0)return o;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function hl(n,o,l){var r=n.pendingLanes;if(r===0)return 0;var m=0,y=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var C=r&134217727;return C!==0?(r=C&~y,r!==0?m=yi(r):(E&=C,E!==0?m=yi(E):l||(l=C&~n,l!==0&&(m=yi(l))))):(C=r&~y,C!==0?m=yi(C):E!==0?m=yi(E):l||(l=r&~n,l!==0&&(m=yi(l)))),m===0?0:o!==0&&o!==m&&(o&y)===0&&(y=m&-m,l=o&-o,y>=l||y===32&&(l&4194048)!==0)?o:m}function Xo(n,o){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&o)===0}function SS(n,o){switch(n){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Id(){var n=pl;return pl<<=1,(pl&62914560)===0&&(pl=4194304),n}function Cr(n){for(var o=[],l=0;31>l;l++)o.push(n);return o}function Qo(n,o){n.pendingLanes|=o,o!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function ES(n,o,l,r,m,y){var E=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var C=n.entanglements,N=n.expirationTimes,k=n.hiddenUpdates;for(l=E&~l;0<l;){var F=31-Mt(l),K=1<<F;C[F]=0,N[F]=-1;var G=k[F];if(G!==null)for(k[F]=null,F=0;F<G.length;F++){var B=G[F];B!==null&&(B.lane&=-536870913)}l&=~K}r!==0&&Ud(n,r,0),y!==0&&m===0&&n.tag!==0&&(n.suspendedLanes|=y&~(E&~o))}function Ud(n,o,l){n.pendingLanes|=o,n.suspendedLanes&=~o;var r=31-Mt(o);n.entangledLanes|=o,n.entanglements[r]=n.entanglements[r]|1073741824|l&261930}function Ld(n,o){var l=n.entangledLanes|=o;for(n=n.entanglements;l;){var r=31-Mt(l),m=1<<r;m&o|n[r]&o&&(n[r]|=o),l&=~m}}function Pd(n,o){var l=o&-o;return l=(l&42)!==0?1:Ar(l),(l&(n.suspendedLanes|o))!==0?0:l}function Ar(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function br(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Vd(){var n=$.p;return n!==0?n:(n=window.event,n===void 0?32:Sg(n.type))}function kd(n,o){var l=$.p;try{return $.p=n,o()}finally{$.p=l}}var zn=Math.random().toString(36).slice(2),at="__reactFiber$"+zn,St="__reactProps$"+zn,qi="__reactContainer$"+zn,Nr="__reactEvents$"+zn,_S="__reactListeners$"+zn,CS="__reactHandles$"+zn,Gd="__reactResources$"+zn,$o="__reactMarker$"+zn;function Rr(n){delete n[at],delete n[St],delete n[Nr],delete n[_S],delete n[CS]}function Fi(n){var o=n[at];if(o)return o;for(var l=n.parentNode;l;){if(o=l[qi]||l[at]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(n=sg(n);n!==null;){if(l=n[at])return l;n=sg(n)}return o}n=l,l=n.parentNode}return null}function Yi(n){if(n=n[at]||n[qi]){var o=n.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return n}return null}function Zo(n){var o=n.tag;if(o===5||o===26||o===27||o===6)return n.stateNode;throw Error(s(33))}function Ji(n){var o=n[Gd];return o||(o=n[Gd]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function ot(n){n[$o]=!0}var Bd=new Set,Hd={};function vi(n,o){Ki(n,o),Ki(n+"Capture",o)}function Ki(n,o){for(Hd[n]=o,n=0;n<o.length;n++)Bd.add(o[n])}var AS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zd={},Od={};function bS(n){return Sr.call(Od,n)?!0:Sr.call(zd,n)?!1:AS.test(n)?Od[n]=!0:(zd[n]=!0,!1)}function ml(n,o,l){if(bS(o))if(l===null)n.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(o);return;case"boolean":var r=o.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){n.removeAttribute(o);return}}n.setAttribute(o,""+l)}}function gl(n,o,l){if(l===null)n.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttribute(o,""+l)}}function mn(n,o,l,r){if(r===null)n.removeAttribute(l);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(o,l,""+r)}}function zt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function qd(n){var o=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function NS(n,o,l){var r=Object.getOwnPropertyDescriptor(n.constructor.prototype,o);if(!n.hasOwnProperty(o)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var m=r.get,y=r.set;return Object.defineProperty(n,o,{configurable:!0,get:function(){return m.call(this)},set:function(E){l=""+E,y.call(this,E)}}),Object.defineProperty(n,o,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[o]}}}}function wr(n){if(!n._valueTracker){var o=qd(n)?"checked":"value";n._valueTracker=NS(n,o,""+n[o])}}function Fd(n){if(!n)return!1;var o=n._valueTracker;if(!o)return!0;var l=o.getValue(),r="";return n&&(r=qd(n)?n.checked?"true":"false":n.value),n=r,n!==l?(o.setValue(n),!0):!1}function yl(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var RS=/[\n"\\]/g;function Ot(n){return n.replace(RS,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Mr(n,o,l,r,m,y,E,C){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),o!=null?E==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+zt(o)):n.value!==""+zt(o)&&(n.value=""+zt(o)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),o!=null?Dr(n,E,zt(o)):l!=null?Dr(n,E,zt(l)):r!=null&&n.removeAttribute("value"),m==null&&y!=null&&(n.defaultChecked=!!y),m!=null&&(n.checked=m&&typeof m!="function"&&typeof m!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.name=""+zt(C):n.removeAttribute("name")}function Yd(n,o,l,r,m,y,E,C){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),o!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||o!=null)){wr(n);return}l=l!=null?""+zt(l):"",o=o!=null?""+zt(o):l,C||o===n.value||(n.value=o),n.defaultValue=o}r=r??m,r=typeof r!="function"&&typeof r!="symbol"&&!!r,n.checked=C?n.checked:!!r,n.defaultChecked=!!r,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E),wr(n)}function Dr(n,o,l){o==="number"&&yl(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function Xi(n,o,l,r){if(n=n.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<n.length;l++)m=o.hasOwnProperty("$"+n[l].value),n[l].selected!==m&&(n[l].selected=m),m&&r&&(n[l].defaultSelected=!0)}else{for(l=""+zt(l),o=null,m=0;m<n.length;m++){if(n[m].value===l){n[m].selected=!0,r&&(n[m].defaultSelected=!0);return}o!==null||n[m].disabled||(o=n[m])}o!==null&&(o.selected=!0)}}function Jd(n,o,l){if(o!=null&&(o=""+zt(o),o!==n.value&&(n.value=o),l==null)){n.defaultValue!==o&&(n.defaultValue=o);return}n.defaultValue=l!=null?""+zt(l):""}function Kd(n,o,l,r){if(o==null){if(r!=null){if(l!=null)throw Error(s(92));if(Ge(r)){if(1<r.length)throw Error(s(93));r=r[0]}l=r}l==null&&(l=""),o=l}l=zt(o),n.defaultValue=l,r=n.textContent,r===l&&r!==""&&r!==null&&(n.value=r),wr(n)}function Qi(n,o){if(o){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=o;return}}n.textContent=o}var wS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xd(n,o,l){var r=o.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?r?n.setProperty(o,""):o==="float"?n.cssFloat="":n[o]="":r?n.setProperty(o,l):typeof l!="number"||l===0||wS.has(o)?o==="float"?n.cssFloat=l:n[o]=(""+l).trim():n[o]=l+"px"}function Qd(n,o,l){if(o!=null&&typeof o!="object")throw Error(s(62));if(n=n.style,l!=null){for(var r in l)!l.hasOwnProperty(r)||o!=null&&o.hasOwnProperty(r)||(r.indexOf("--")===0?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="");for(var m in o)r=o[m],o.hasOwnProperty(m)&&l[m]!==r&&Xd(n,m,r)}else for(var y in o)o.hasOwnProperty(y)&&Xd(n,y,o[y])}function Ir(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var MS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),DS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vl(n){return DS.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function gn(){}var Ur=null;function Lr(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var $i=null,Zi=null;function $d(n){var o=Yi(n);if(o&&(n=o.stateNode)){var l=n[St]||null;e:switch(n=o.stateNode,o.type){case"input":if(Mr(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),o=l.name,l.type==="radio"&&o!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ot(""+o)+'"][type="radio"]'),o=0;o<l.length;o++){var r=l[o];if(r!==n&&r.form===n.form){var m=r[St]||null;if(!m)throw Error(s(90));Mr(r,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(o=0;o<l.length;o++)r=l[o],r.form===n.form&&Fd(r)}break e;case"textarea":Jd(n,l.value,l.defaultValue);break e;case"select":o=l.value,o!=null&&Xi(n,!!l.multiple,o,!1)}}}var Pr=!1;function Zd(n,o,l){if(Pr)return n(o,l);Pr=!0;try{var r=n(o);return r}finally{if(Pr=!1,($i!==null||Zi!==null)&&(sa(),$i&&(o=$i,n=Zi,Zi=$i=null,$d(o),n)))for(o=0;o<n.length;o++)$d(n[o])}}function jo(n,o){var l=n.stateNode;if(l===null)return null;var r=l[St]||null;if(r===null)return null;l=r[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(s(231,o,typeof l));return l}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vr=!1;if(yn)try{var Wo={};Object.defineProperty(Wo,"passive",{get:function(){Vr=!0}}),window.addEventListener("test",Wo,Wo),window.removeEventListener("test",Wo,Wo)}catch{Vr=!1}var On=null,kr=null,Tl=null;function jd(){if(Tl)return Tl;var n,o=kr,l=o.length,r,m="value"in On?On.value:On.textContent,y=m.length;for(n=0;n<l&&o[n]===m[n];n++);var E=l-n;for(r=1;r<=E&&o[l-r]===m[y-r];r++);return Tl=m.slice(n,1<r?1-r:void 0)}function xl(n){var o=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&o===13&&(n=13)):n=o,n===10&&(n=13),32<=n||n===13?n:0}function Sl(){return!0}function Wd(){return!1}function Et(n){function o(l,r,m,y,E){this._reactName=l,this._targetInst=m,this.type=r,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(l=n[C],this[C]=l?l(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Sl:Wd,this.isPropagationStopped=Wd,this}return T(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Sl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Sl)},persist:function(){},isPersistent:Sl}),o}var Ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},El=Et(Ti),es=T({},Ti,{view:0,detail:0}),IS=Et(es),Gr,Br,ts,_l=T({},es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ts&&(ts&&n.type==="mousemove"?(Gr=n.screenX-ts.screenX,Br=n.screenY-ts.screenY):Br=Gr=0,ts=n),Gr)},movementY:function(n){return"movementY"in n?n.movementY:Br}}),ep=Et(_l),US=T({},_l,{dataTransfer:0}),LS=Et(US),PS=T({},es,{relatedTarget:0}),Hr=Et(PS),VS=T({},Ti,{animationName:0,elapsedTime:0,pseudoElement:0}),kS=Et(VS),GS=T({},Ti,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),BS=Et(GS),HS=T({},Ti,{data:0}),tp=Et(HS),zS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FS(n){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(n):(n=qS[n])?!!o[n]:!1}function zr(){return FS}var YS=T({},es,{key:function(n){if(n.key){var o=zS[n.key]||n.key;if(o!=="Unidentified")return o}return n.type==="keypress"?(n=xl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?OS[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zr,charCode:function(n){return n.type==="keypress"?xl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?xl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),JS=Et(YS),KS=T({},_l,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),np=Et(KS),XS=T({},es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zr}),QS=Et(XS),$S=T({},Ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZS=Et($S),jS=T({},_l,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),WS=Et(jS),eE=T({},Ti,{newState:0,oldState:0}),tE=Et(eE),nE=[9,13,27,32],Or=yn&&"CompositionEvent"in window,ns=null;yn&&"documentMode"in document&&(ns=document.documentMode);var iE=yn&&"TextEvent"in window&&!ns,ip=yn&&(!Or||ns&&8<ns&&11>=ns),op=" ",sp=!1;function lp(n,o){switch(n){case"keyup":return nE.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ap(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ji=!1;function oE(n,o){switch(n){case"compositionend":return ap(o);case"keypress":return o.which!==32?null:(sp=!0,op);case"textInput":return n=o.data,n===op&&sp?null:n;default:return null}}function sE(n,o){if(ji)return n==="compositionend"||!Or&&lp(n,o)?(n=jd(),Tl=kr=On=null,ji=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ip&&o.locale!=="ko"?null:o.data;default:return null}}var lE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rp(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o==="input"?!!lE[n.type]:o==="textarea"}function up(n,o,l,r){$i?Zi?Zi.push(r):Zi=[r]:$i=r,o=da(o,"onChange"),0<o.length&&(l=new El("onChange","change",null,l,r),n.push({event:l,listeners:o}))}var is=null,os=null;function aE(n){Ym(n,0)}function Cl(n){var o=Zo(n);if(Fd(o))return n}function cp(n,o){if(n==="change")return o}var fp=!1;if(yn){var qr;if(yn){var Fr="oninput"in document;if(!Fr){var dp=document.createElement("div");dp.setAttribute("oninput","return;"),Fr=typeof dp.oninput=="function"}qr=Fr}else qr=!1;fp=qr&&(!document.documentMode||9<document.documentMode)}function pp(){is&&(is.detachEvent("onpropertychange",hp),os=is=null)}function hp(n){if(n.propertyName==="value"&&Cl(os)){var o=[];up(o,os,n,Lr(n)),Zd(aE,o)}}function rE(n,o,l){n==="focusin"?(pp(),is=o,os=l,is.attachEvent("onpropertychange",hp)):n==="focusout"&&pp()}function uE(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Cl(os)}function cE(n,o){if(n==="click")return Cl(o)}function fE(n,o){if(n==="input"||n==="change")return Cl(o)}function dE(n,o){return n===o&&(n!==0||1/n===1/o)||n!==n&&o!==o}var Dt=typeof Object.is=="function"?Object.is:dE;function ss(n,o){if(Dt(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;var l=Object.keys(n),r=Object.keys(o);if(l.length!==r.length)return!1;for(r=0;r<l.length;r++){var m=l[r];if(!Sr.call(o,m)||!Dt(n[m],o[m]))return!1}return!0}function mp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function gp(n,o){var l=mp(n);n=0;for(var r;l;){if(l.nodeType===3){if(r=n+l.textContent.length,n<=o&&r>=o)return{node:l,offset:o-n};n=r}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=mp(l)}}function yp(n,o){return n&&o?n===o?!0:n&&n.nodeType===3?!1:o&&o.nodeType===3?yp(n,o.parentNode):"contains"in n?n.contains(o):n.compareDocumentPosition?!!(n.compareDocumentPosition(o)&16):!1:!1}function vp(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var o=yl(n.document);o instanceof n.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)n=o.contentWindow;else break;o=yl(n.document)}return o}function Yr(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o&&(o==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||o==="textarea"||n.contentEditable==="true")}var pE=yn&&"documentMode"in document&&11>=document.documentMode,Wi=null,Jr=null,ls=null,Kr=!1;function Tp(n,o,l){var r=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Kr||Wi==null||Wi!==yl(r)||(r=Wi,"selectionStart"in r&&Yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ls&&ss(ls,r)||(ls=r,r=da(Jr,"onSelect"),0<r.length&&(o=new El("onSelect","select",null,o,l),n.push({event:o,listeners:r}),o.target=Wi)))}function xi(n,o){var l={};return l[n.toLowerCase()]=o.toLowerCase(),l["Webkit"+n]="webkit"+o,l["Moz"+n]="moz"+o,l}var eo={animationend:xi("Animation","AnimationEnd"),animationiteration:xi("Animation","AnimationIteration"),animationstart:xi("Animation","AnimationStart"),transitionrun:xi("Transition","TransitionRun"),transitionstart:xi("Transition","TransitionStart"),transitioncancel:xi("Transition","TransitionCancel"),transitionend:xi("Transition","TransitionEnd")},Xr={},xp={};yn&&(xp=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function Si(n){if(Xr[n])return Xr[n];if(!eo[n])return n;var o=eo[n],l;for(l in o)if(o.hasOwnProperty(l)&&l in xp)return Xr[n]=o[l];return n}var Sp=Si("animationend"),Ep=Si("animationiteration"),_p=Si("animationstart"),hE=Si("transitionrun"),mE=Si("transitionstart"),gE=Si("transitioncancel"),Cp=Si("transitionend"),Ap=new Map,Qr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qr.push("scrollEnd");function tn(n,o){Ap.set(n,o),vi(o,[n])}var Al=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},qt=[],to=0,$r=0;function bl(){for(var n=to,o=$r=to=0;o<n;){var l=qt[o];qt[o++]=null;var r=qt[o];qt[o++]=null;var m=qt[o];qt[o++]=null;var y=qt[o];if(qt[o++]=null,r!==null&&m!==null){var E=r.pending;E===null?m.next=m:(m.next=E.next,E.next=m),r.pending=m}y!==0&&bp(l,m,y)}}function Nl(n,o,l,r){qt[to++]=n,qt[to++]=o,qt[to++]=l,qt[to++]=r,$r|=r,n.lanes|=r,n=n.alternate,n!==null&&(n.lanes|=r)}function Zr(n,o,l,r){return Nl(n,o,l,r),Rl(n)}function Ei(n,o){return Nl(n,null,null,o),Rl(n)}function bp(n,o,l){n.lanes|=l;var r=n.alternate;r!==null&&(r.lanes|=l);for(var m=!1,y=n.return;y!==null;)y.childLanes|=l,r=y.alternate,r!==null&&(r.childLanes|=l),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(m=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,m&&o!==null&&(m=31-Mt(l),n=y.hiddenUpdates,r=n[m],r===null?n[m]=[o]:r.push(o),o.lane=l|536870912),y):null}function Rl(n){if(50<Rs)throw Rs=0,lc=null,Error(s(185));for(var o=n.return;o!==null;)n=o,o=n.return;return n.tag===3?n.stateNode:null}var no={};function yE(n,o,l,r){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(n,o,l,r){return new yE(n,o,l,r)}function jr(n){return n=n.prototype,!(!n||!n.isReactComponent)}function vn(n,o){var l=n.alternate;return l===null?(l=It(n.tag,o,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=o,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,o=n.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function Np(n,o){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=o,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,o=l.dependencies,n.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),n}function wl(n,o,l,r,m,y){var E=0;if(r=n,typeof n=="function")jr(n)&&(E=1);else if(typeof n=="string")E=E_(n,l,ne.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case Z:return n=It(31,l,o,m),n.elementType=Z,n.lanes=y,n;case w:return _i(l.children,m,y,o);case A:E=8,m|=24;break;case R:return n=It(12,l,o,m|2),n.elementType=R,n.lanes=y,n;case H:return n=It(13,l,o,m),n.elementType=H,n.lanes=y,n;case q:return n=It(19,l,o,m),n.elementType=q,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case U:E=10;break e;case P:E=9;break e;case J:E=11;break e;case z:E=14;break e;case Q:E=16,r=null;break e}E=29,l=Error(s(130,n===null?"null":typeof n,"")),r=null}return o=It(E,l,o,m),o.elementType=n,o.type=r,o.lanes=y,o}function _i(n,o,l,r){return n=It(7,n,r,o),n.lanes=l,n}function Wr(n,o,l){return n=It(6,n,null,o),n.lanes=l,n}function Rp(n){var o=It(18,null,null,0);return o.stateNode=n,o}function eu(n,o,l){return o=It(4,n.children!==null?n.children:[],n.key,o),o.lanes=l,o.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},o}var wp=new WeakMap;function Ft(n,o){if(typeof n=="object"&&n!==null){var l=wp.get(n);return l!==void 0?l:(o={value:n,source:o,stack:Rd(o)},wp.set(n,o),o)}return{value:n,source:o,stack:Rd(o)}}var io=[],oo=0,Ml=null,as=0,Yt=[],Jt=0,qn=null,un=1,cn="";function Tn(n,o){io[oo++]=as,io[oo++]=Ml,Ml=n,as=o}function Mp(n,o,l){Yt[Jt++]=un,Yt[Jt++]=cn,Yt[Jt++]=qn,qn=n;var r=un;n=cn;var m=32-Mt(r)-1;r&=~(1<<m),l+=1;var y=32-Mt(o)+m;if(30<y){var E=m-m%5;y=(r&(1<<E)-1).toString(32),r>>=E,m-=E,un=1<<32-Mt(o)+m|l<<m|r,cn=y+n}else un=1<<y|l<<m|r,cn=n}function tu(n){n.return!==null&&(Tn(n,1),Mp(n,1,0))}function nu(n){for(;n===Ml;)Ml=io[--oo],io[oo]=null,as=io[--oo],io[oo]=null;for(;n===qn;)qn=Yt[--Jt],Yt[Jt]=null,cn=Yt[--Jt],Yt[Jt]=null,un=Yt[--Jt],Yt[Jt]=null}function Dp(n,o){Yt[Jt++]=un,Yt[Jt++]=cn,Yt[Jt++]=qn,un=o.id,cn=o.overflow,qn=n}var rt=null,Be=null,be=!1,Fn=null,Kt=!1,iu=Error(s(519));function Yn(n){var o=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rs(Ft(o,n)),iu}function Ip(n){var o=n.stateNode,l=n.type,r=n.memoizedProps;switch(o[at]=n,o[St]=r,l){case"dialog":_e("cancel",o),_e("close",o);break;case"iframe":case"object":case"embed":_e("load",o);break;case"video":case"audio":for(l=0;l<Ms.length;l++)_e(Ms[l],o);break;case"source":_e("error",o);break;case"img":case"image":case"link":_e("error",o),_e("load",o);break;case"details":_e("toggle",o);break;case"input":_e("invalid",o),Yd(o,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":_e("invalid",o);break;case"textarea":_e("invalid",o),Kd(o,r.value,r.defaultValue,r.children)}l=r.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||o.textContent===""+l||r.suppressHydrationWarning===!0||Qm(o.textContent,l)?(r.popover!=null&&(_e("beforetoggle",o),_e("toggle",o)),r.onScroll!=null&&_e("scroll",o),r.onScrollEnd!=null&&_e("scrollend",o),r.onClick!=null&&(o.onclick=gn),o=!0):o=!1,o||Yn(n,!0)}function Up(n){for(rt=n.return;rt;)switch(rt.tag){case 5:case 31:case 13:Kt=!1;return;case 27:case 3:Kt=!0;return;default:rt=rt.return}}function so(n){if(n!==rt)return!1;if(!be)return Up(n),be=!0,!1;var o=n.tag,l;if((l=o!==3&&o!==27)&&((l=o===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||Sc(n.type,n.memoizedProps)),l=!l),l&&Be&&Yn(n),Up(n),o===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));Be=og(n)}else if(o===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));Be=og(n)}else o===27?(o=Be,si(n.type)?(n=bc,bc=null,Be=n):Be=o):Be=rt?Qt(n.stateNode.nextSibling):null;return!0}function Ci(){Be=rt=null,be=!1}function ou(){var n=Fn;return n!==null&&(bt===null?bt=n:bt.push.apply(bt,n),Fn=null),n}function rs(n){Fn===null?Fn=[n]:Fn.push(n)}var su=M(null),Ai=null,xn=null;function Jn(n,o,l){j(su,o._currentValue),o._currentValue=l}function Sn(n){n._currentValue=su.current,O(su)}function lu(n,o,l){for(;n!==null;){var r=n.alternate;if((n.childLanes&o)!==o?(n.childLanes|=o,r!==null&&(r.childLanes|=o)):r!==null&&(r.childLanes&o)!==o&&(r.childLanes|=o),n===l)break;n=n.return}}function au(n,o,l,r){var m=n.child;for(m!==null&&(m.return=n);m!==null;){var y=m.dependencies;if(y!==null){var E=m.child;y=y.firstContext;e:for(;y!==null;){var C=y;y=m;for(var N=0;N<o.length;N++)if(C.context===o[N]){y.lanes|=l,C=y.alternate,C!==null&&(C.lanes|=l),lu(y.return,l,n),r||(E=null);break e}y=C.next}}else if(m.tag===18){if(E=m.return,E===null)throw Error(s(341));E.lanes|=l,y=E.alternate,y!==null&&(y.lanes|=l),lu(E,l,n),E=null}else E=m.child;if(E!==null)E.return=m;else for(E=m;E!==null;){if(E===n){E=null;break}if(m=E.sibling,m!==null){m.return=E.return,E=m;break}E=E.return}m=E}}function lo(n,o,l,r){n=null;for(var m=o,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var E=m.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var C=m.type;Dt(m.pendingProps.value,E.value)||(n!==null?n.push(C):n=[C])}}else if(m===Se.current){if(E=m.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(n!==null?n.push(Ps):n=[Ps])}m=m.return}n!==null&&au(o,n,l,r),o.flags|=262144}function Dl(n){for(n=n.firstContext;n!==null;){if(!Dt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function bi(n){Ai=n,xn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function ut(n){return Lp(Ai,n)}function Il(n,o){return Ai===null&&bi(n),Lp(n,o)}function Lp(n,o){var l=o._currentValue;if(o={context:o,memoizedValue:l,next:null},xn===null){if(n===null)throw Error(s(308));xn=o,n.dependencies={lanes:0,firstContext:o},n.flags|=524288}else xn=xn.next=o;return l}var vE=typeof AbortController<"u"?AbortController:function(){var n=[],o=this.signal={aborted:!1,addEventListener:function(l,r){n.push(r)}};this.abort=function(){o.aborted=!0,n.forEach(function(l){return l()})}},TE=t.unstable_scheduleCallback,xE=t.unstable_NormalPriority,We={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ru(){return{controller:new vE,data:new Map,refCount:0}}function us(n){n.refCount--,n.refCount===0&&TE(xE,function(){n.controller.abort()})}var cs=null,uu=0,ao=0,ro=null;function SE(n,o){if(cs===null){var l=cs=[];uu=0,ao=dc(),ro={status:"pending",value:void 0,then:function(r){l.push(r)}}}return uu++,o.then(Pp,Pp),o}function Pp(){if(--uu===0&&cs!==null){ro!==null&&(ro.status="fulfilled");var n=cs;cs=null,ao=0,ro=null;for(var o=0;o<n.length;o++)(0,n[o])()}}function EE(n,o){var l=[],r={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return n.then(function(){r.status="fulfilled",r.value=o;for(var m=0;m<l.length;m++)(0,l[m])(o)},function(m){for(r.status="rejected",r.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),r}var Vp=L.S;L.S=function(n,o){Tm=Rt(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&SE(n,o),Vp!==null&&Vp(n,o)};var Ni=M(null);function cu(){var n=Ni.current;return n!==null?n:ke.pooledCache}function Ul(n,o){o===null?j(Ni,Ni.current):j(Ni,o.pool)}function kp(){var n=cu();return n===null?null:{parent:We._currentValue,pool:n}}var uo=Error(s(460)),fu=Error(s(474)),Ll=Error(s(542)),Pl={then:function(){}};function Gp(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Bp(n,o,l){switch(l=n[l],l===void 0?n.push(o):l!==o&&(o.then(gn,gn),o=l),o.status){case"fulfilled":return o.value;case"rejected":throw n=o.reason,zp(n),n;default:if(typeof o.status=="string")o.then(gn,gn);else{if(n=ke,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=o,n.status="pending",n.then(function(r){if(o.status==="pending"){var m=o;m.status="fulfilled",m.value=r}},function(r){if(o.status==="pending"){var m=o;m.status="rejected",m.reason=r}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw n=o.reason,zp(n),n}throw wi=o,uo}}function Ri(n){try{var o=n._init;return o(n._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(wi=l,uo):l}}var wi=null;function Hp(){if(wi===null)throw Error(s(459));var n=wi;return wi=null,n}function zp(n){if(n===uo||n===Ll)throw Error(s(483))}var co=null,fs=0;function Vl(n){var o=fs;return fs+=1,co===null&&(co=[]),Bp(co,n,o)}function ds(n,o){o=o.props.ref,n.ref=o!==void 0?o:null}function kl(n,o){throw o.$$typeof===x?Error(s(525)):(n=Object.prototype.toString.call(o),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":n)))}function Op(n){function o(I,D){if(n){var V=I.deletions;V===null?(I.deletions=[D],I.flags|=16):V.push(D)}}function l(I,D){if(!n)return null;for(;D!==null;)o(I,D),D=D.sibling;return null}function r(I){for(var D=new Map;I!==null;)I.key!==null?D.set(I.key,I):D.set(I.index,I),I=I.sibling;return D}function m(I,D){return I=vn(I,D),I.index=0,I.sibling=null,I}function y(I,D,V){return I.index=V,n?(V=I.alternate,V!==null?(V=V.index,V<D?(I.flags|=67108866,D):V):(I.flags|=67108866,D)):(I.flags|=1048576,D)}function E(I){return n&&I.alternate===null&&(I.flags|=67108866),I}function C(I,D,V,Y){return D===null||D.tag!==6?(D=Wr(V,I.mode,Y),D.return=I,D):(D=m(D,V),D.return=I,D)}function N(I,D,V,Y){var ae=V.type;return ae===w?F(I,D,V.props.children,Y,V.key):D!==null&&(D.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===Q&&Ri(ae)===D.type)?(D=m(D,V.props),ds(D,V),D.return=I,D):(D=wl(V.type,V.key,V.props,null,I.mode,Y),ds(D,V),D.return=I,D)}function k(I,D,V,Y){return D===null||D.tag!==4||D.stateNode.containerInfo!==V.containerInfo||D.stateNode.implementation!==V.implementation?(D=eu(V,I.mode,Y),D.return=I,D):(D=m(D,V.children||[]),D.return=I,D)}function F(I,D,V,Y,ae){return D===null||D.tag!==7?(D=_i(V,I.mode,Y,ae),D.return=I,D):(D=m(D,V),D.return=I,D)}function K(I,D,V){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Wr(""+D,I.mode,V),D.return=I,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case _:return V=wl(D.type,D.key,D.props,null,I.mode,V),ds(V,D),V.return=I,V;case b:return D=eu(D,I.mode,V),D.return=I,D;case Q:return D=Ri(D),K(I,D,V)}if(Ge(D)||ee(D))return D=_i(D,I.mode,V,null),D.return=I,D;if(typeof D.then=="function")return K(I,Vl(D),V);if(D.$$typeof===U)return K(I,Il(I,D),V);kl(I,D)}return null}function G(I,D,V,Y){var ae=D!==null?D.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return ae!==null?null:C(I,D,""+V,Y);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case _:return V.key===ae?N(I,D,V,Y):null;case b:return V.key===ae?k(I,D,V,Y):null;case Q:return V=Ri(V),G(I,D,V,Y)}if(Ge(V)||ee(V))return ae!==null?null:F(I,D,V,Y,null);if(typeof V.then=="function")return G(I,D,Vl(V),Y);if(V.$$typeof===U)return G(I,D,Il(I,V),Y);kl(I,V)}return null}function B(I,D,V,Y,ae){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return I=I.get(V)||null,C(D,I,""+Y,ae);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case _:return I=I.get(Y.key===null?V:Y.key)||null,N(D,I,Y,ae);case b:return I=I.get(Y.key===null?V:Y.key)||null,k(D,I,Y,ae);case Q:return Y=Ri(Y),B(I,D,V,Y,ae)}if(Ge(Y)||ee(Y))return I=I.get(V)||null,F(D,I,Y,ae,null);if(typeof Y.then=="function")return B(I,D,V,Vl(Y),ae);if(Y.$$typeof===U)return B(I,D,V,Il(D,Y),ae);kl(D,Y)}return null}function oe(I,D,V,Y){for(var ae=null,Re=null,le=D,xe=D=0,Ae=null;le!==null&&xe<V.length;xe++){le.index>xe?(Ae=le,le=null):Ae=le.sibling;var we=G(I,le,V[xe],Y);if(we===null){le===null&&(le=Ae);break}n&&le&&we.alternate===null&&o(I,le),D=y(we,D,xe),Re===null?ae=we:Re.sibling=we,Re=we,le=Ae}if(xe===V.length)return l(I,le),be&&Tn(I,xe),ae;if(le===null){for(;xe<V.length;xe++)le=K(I,V[xe],Y),le!==null&&(D=y(le,D,xe),Re===null?ae=le:Re.sibling=le,Re=le);return be&&Tn(I,xe),ae}for(le=r(le);xe<V.length;xe++)Ae=B(le,I,xe,V[xe],Y),Ae!==null&&(n&&Ae.alternate!==null&&le.delete(Ae.key===null?xe:Ae.key),D=y(Ae,D,xe),Re===null?ae=Ae:Re.sibling=Ae,Re=Ae);return n&&le.forEach(function(ci){return o(I,ci)}),be&&Tn(I,xe),ae}function ce(I,D,V,Y){if(V==null)throw Error(s(151));for(var ae=null,Re=null,le=D,xe=D=0,Ae=null,we=V.next();le!==null&&!we.done;xe++,we=V.next()){le.index>xe?(Ae=le,le=null):Ae=le.sibling;var ci=G(I,le,we.value,Y);if(ci===null){le===null&&(le=Ae);break}n&&le&&ci.alternate===null&&o(I,le),D=y(ci,D,xe),Re===null?ae=ci:Re.sibling=ci,Re=ci,le=Ae}if(we.done)return l(I,le),be&&Tn(I,xe),ae;if(le===null){for(;!we.done;xe++,we=V.next())we=K(I,we.value,Y),we!==null&&(D=y(we,D,xe),Re===null?ae=we:Re.sibling=we,Re=we);return be&&Tn(I,xe),ae}for(le=r(le);!we.done;xe++,we=V.next())we=B(le,I,xe,we.value,Y),we!==null&&(n&&we.alternate!==null&&le.delete(we.key===null?xe:we.key),D=y(we,D,xe),Re===null?ae=we:Re.sibling=we,Re=we);return n&&le.forEach(function(U_){return o(I,U_)}),be&&Tn(I,xe),ae}function Ve(I,D,V,Y){if(typeof V=="object"&&V!==null&&V.type===w&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case _:e:{for(var ae=V.key;D!==null;){if(D.key===ae){if(ae=V.type,ae===w){if(D.tag===7){l(I,D.sibling),Y=m(D,V.props.children),Y.return=I,I=Y;break e}}else if(D.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===Q&&Ri(ae)===D.type){l(I,D.sibling),Y=m(D,V.props),ds(Y,V),Y.return=I,I=Y;break e}l(I,D);break}else o(I,D);D=D.sibling}V.type===w?(Y=_i(V.props.children,I.mode,Y,V.key),Y.return=I,I=Y):(Y=wl(V.type,V.key,V.props,null,I.mode,Y),ds(Y,V),Y.return=I,I=Y)}return E(I);case b:e:{for(ae=V.key;D!==null;){if(D.key===ae)if(D.tag===4&&D.stateNode.containerInfo===V.containerInfo&&D.stateNode.implementation===V.implementation){l(I,D.sibling),Y=m(D,V.children||[]),Y.return=I,I=Y;break e}else{l(I,D);break}else o(I,D);D=D.sibling}Y=eu(V,I.mode,Y),Y.return=I,I=Y}return E(I);case Q:return V=Ri(V),Ve(I,D,V,Y)}if(Ge(V))return oe(I,D,V,Y);if(ee(V)){if(ae=ee(V),typeof ae!="function")throw Error(s(150));return V=ae.call(V),ce(I,D,V,Y)}if(typeof V.then=="function")return Ve(I,D,Vl(V),Y);if(V.$$typeof===U)return Ve(I,D,Il(I,V),Y);kl(I,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,D!==null&&D.tag===6?(l(I,D.sibling),Y=m(D,V),Y.return=I,I=Y):(l(I,D),Y=Wr(V,I.mode,Y),Y.return=I,I=Y),E(I)):l(I,D)}return function(I,D,V,Y){try{fs=0;var ae=Ve(I,D,V,Y);return co=null,ae}catch(le){if(le===uo||le===Ll)throw le;var Re=It(29,le,null,I.mode);return Re.lanes=Y,Re.return=I,Re}finally{}}}var Mi=Op(!0),qp=Op(!1),Kn=!1;function du(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pu(n,o){n=n.updateQueue,o.updateQueue===n&&(o.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Xn(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Qn(n,o,l){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,(De&2)!==0){var m=r.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),r.pending=o,o=Rl(n),bp(n,null,l),o}return Nl(n,r,o,l),Rl(n)}function ps(n,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194048)!==0)){var r=o.lanes;r&=n.pendingLanes,l|=r,o.lanes=l,Ld(n,l)}}function hu(n,o){var l=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,l===r)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var E={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?m=y=E:y=y.next=E,l=l.next}while(l!==null);y===null?m=y=o:y=y.next=o}else m=y=o;l={baseState:r.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:r.shared,callbacks:r.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=o:n.next=o,l.lastBaseUpdate=o}var mu=!1;function hs(){if(mu){var n=ro;if(n!==null)throw n}}function ms(n,o,l,r){mu=!1;var m=n.updateQueue;Kn=!1;var y=m.firstBaseUpdate,E=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var N=C,k=N.next;N.next=null,E===null?y=k:E.next=k,E=N;var F=n.alternate;F!==null&&(F=F.updateQueue,C=F.lastBaseUpdate,C!==E&&(C===null?F.firstBaseUpdate=k:C.next=k,F.lastBaseUpdate=N))}if(y!==null){var K=m.baseState;E=0,F=k=N=null,C=y;do{var G=C.lane&-536870913,B=G!==C.lane;if(B?(Ce&G)===G:(r&G)===G){G!==0&&G===ao&&(mu=!0),F!==null&&(F=F.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var oe=n,ce=C;G=o;var Ve=l;switch(ce.tag){case 1:if(oe=ce.payload,typeof oe=="function"){K=oe.call(Ve,K,G);break e}K=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=ce.payload,G=typeof oe=="function"?oe.call(Ve,K,G):oe,G==null)break e;K=T({},K,G);break e;case 2:Kn=!0}}G=C.callback,G!==null&&(n.flags|=64,B&&(n.flags|=8192),B=m.callbacks,B===null?m.callbacks=[G]:B.push(G))}else B={lane:G,tag:C.tag,payload:C.payload,callback:C.callback,next:null},F===null?(k=F=B,N=K):F=F.next=B,E|=G;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;B=C,C=B.next,B.next=null,m.lastBaseUpdate=B,m.shared.pending=null}}while(!0);F===null&&(N=K),m.baseState=N,m.firstBaseUpdate=k,m.lastBaseUpdate=F,y===null&&(m.shared.lanes=0),ei|=E,n.lanes=E,n.memoizedState=K}}function Fp(n,o){if(typeof n!="function")throw Error(s(191,n));n.call(o)}function Yp(n,o){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)Fp(l[n],o)}var fo=M(null),Gl=M(0);function Jp(n,o){n=Mn,j(Gl,n),j(fo,o),Mn=n|o.baseLanes}function gu(){j(Gl,Mn),j(fo,fo.current)}function yu(){Mn=Gl.current,O(fo),O(Gl)}var Ut=M(null),Xt=null;function $n(n){var o=n.alternate;j(Qe,Qe.current&1),j(Ut,n),Xt===null&&(o===null||fo.current!==null||o.memoizedState!==null)&&(Xt=n)}function vu(n){j(Qe,Qe.current),j(Ut,n),Xt===null&&(Xt=n)}function Kp(n){n.tag===22?(j(Qe,Qe.current),j(Ut,n),Xt===null&&(Xt=n)):Zn()}function Zn(){j(Qe,Qe.current),j(Ut,Ut.current)}function Lt(n){O(Ut),Xt===n&&(Xt=null),O(Qe)}var Qe=M(0);function Bl(n){for(var o=n;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Cc(l)||Ac(l)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var En=0,ve=null,Le=null,et=null,Hl=!1,po=!1,Di=!1,zl=0,gs=0,ho=null,_E=0;function Je(){throw Error(s(321))}function Tu(n,o){if(o===null)return!1;for(var l=0;l<o.length&&l<n.length;l++)if(!Dt(n[l],o[l]))return!1;return!0}function xu(n,o,l,r,m,y){return En=y,ve=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,L.H=n===null||n.memoizedState===null?Mh:Pu,Di=!1,y=l(r,m),Di=!1,po&&(y=Qp(o,l,r,m)),Xp(n),y}function Xp(n){L.H=Ts;var o=Le!==null&&Le.next!==null;if(En=0,et=Le=ve=null,Hl=!1,gs=0,ho=null,o)throw Error(s(300));n===null||tt||(n=n.dependencies,n!==null&&Dl(n)&&(tt=!0))}function Qp(n,o,l,r){ve=n;var m=0;do{if(po&&(ho=null),gs=0,po=!1,25<=m)throw Error(s(301));if(m+=1,et=Le=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}L.H=Dh,y=o(l,r)}while(po);return y}function CE(){var n=L.H,o=n.useState()[0];return o=typeof o.then=="function"?ys(o):o,n=n.useState()[0],(Le!==null?Le.memoizedState:null)!==n&&(ve.flags|=1024),o}function Su(){var n=zl!==0;return zl=0,n}function Eu(n,o,l){o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~l}function _u(n){if(Hl){for(n=n.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}Hl=!1}En=0,et=Le=ve=null,po=!1,gs=zl=0,ho=null}function vt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?ve.memoizedState=et=n:et=et.next=n,et}function $e(){if(Le===null){var n=ve.alternate;n=n!==null?n.memoizedState:null}else n=Le.next;var o=et===null?ve.memoizedState:et.next;if(o!==null)et=o,Le=n;else{if(n===null)throw ve.alternate===null?Error(s(467)):Error(s(310));Le=n,n={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},et===null?ve.memoizedState=et=n:et=et.next=n}return et}function Ol(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ys(n){var o=gs;return gs+=1,ho===null&&(ho=[]),n=Bp(ho,n,o),o=ve,(et===null?o.memoizedState:et.next)===null&&(o=o.alternate,L.H=o===null||o.memoizedState===null?Mh:Pu),n}function ql(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return ys(n);if(n.$$typeof===U)return ut(n)}throw Error(s(438,String(n)))}function Cu(n){var o=null,l=ve.updateQueue;if(l!==null&&(o=l.memoCache),o==null){var r=ve.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(o={data:r.data.map(function(m){return m.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),l===null&&(l=Ol(),ve.updateQueue=l),l.memoCache=o,l=o.data[o.index],l===void 0)for(l=o.data[o.index]=Array(n),r=0;r<n;r++)l[r]=ie;return o.index++,l}function _n(n,o){return typeof o=="function"?o(n):o}function Fl(n){var o=$e();return Au(o,Le,n)}function Au(n,o,l){var r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=l;var m=n.baseQueue,y=r.pending;if(y!==null){if(m!==null){var E=m.next;m.next=y.next,y.next=E}o.baseQueue=m=y,r.pending=null}if(y=n.baseState,m===null)n.memoizedState=y;else{o=m.next;var C=E=null,N=null,k=o,F=!1;do{var K=k.lane&-536870913;if(K!==k.lane?(Ce&K)===K:(En&K)===K){var G=k.revertLane;if(G===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),K===ao&&(F=!0);else if((En&G)===G){k=k.next,G===ao&&(F=!0);continue}else K={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},N===null?(C=N=K,E=y):N=N.next=K,ve.lanes|=G,ei|=G;K=k.action,Di&&l(y,K),y=k.hasEagerState?k.eagerState:l(y,K)}else G={lane:K,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},N===null?(C=N=G,E=y):N=N.next=G,ve.lanes|=K,ei|=K;k=k.next}while(k!==null&&k!==o);if(N===null?E=y:N.next=C,!Dt(y,n.memoizedState)&&(tt=!0,F&&(l=ro,l!==null)))throw l;n.memoizedState=y,n.baseState=E,n.baseQueue=N,r.lastRenderedState=y}return m===null&&(r.lanes=0),[n.memoizedState,r.dispatch]}function bu(n){var o=$e(),l=o.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=n;var r=l.dispatch,m=l.pending,y=o.memoizedState;if(m!==null){l.pending=null;var E=m=m.next;do y=n(y,E.action),E=E.next;while(E!==m);Dt(y,o.memoizedState)||(tt=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),l.lastRenderedState=y}return[y,r]}function $p(n,o,l){var r=ve,m=$e(),y=be;if(y){if(l===void 0)throw Error(s(407));l=l()}else l=o();var E=!Dt((Le||m).memoizedState,l);if(E&&(m.memoizedState=l,tt=!0),m=m.queue,wu(Wp.bind(null,r,m,n),[n]),m.getSnapshot!==o||E||et!==null&&et.memoizedState.tag&1){if(r.flags|=2048,mo(9,{destroy:void 0},jp.bind(null,r,m,l,o),null),ke===null)throw Error(s(349));y||(En&127)!==0||Zp(r,o,l)}return l}function Zp(n,o,l){n.flags|=16384,n={getSnapshot:o,value:l},o=ve.updateQueue,o===null?(o=Ol(),ve.updateQueue=o,o.stores=[n]):(l=o.stores,l===null?o.stores=[n]:l.push(n))}function jp(n,o,l,r){o.value=l,o.getSnapshot=r,eh(o)&&th(n)}function Wp(n,o,l){return l(function(){eh(o)&&th(n)})}function eh(n){var o=n.getSnapshot;n=n.value;try{var l=o();return!Dt(n,l)}catch{return!0}}function th(n){var o=Ei(n,2);o!==null&&Nt(o,n,2)}function Nu(n){var o=vt();if(typeof n=="function"){var l=n;if(n=l(),Di){Hn(!0);try{l()}finally{Hn(!1)}}}return o.memoizedState=o.baseState=n,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:n},o}function nh(n,o,l,r){return n.baseState=l,Au(n,Le,typeof r=="function"?r:_n)}function AE(n,o,l,r,m){if(Kl(n))throw Error(s(485));if(n=o.action,n!==null){var y={payload:m,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};L.T!==null?l(!0):y.isTransition=!1,r(y),l=o.pending,l===null?(y.next=o.pending=y,ih(o,y)):(y.next=l.next,o.pending=l.next=y)}}function ih(n,o){var l=o.action,r=o.payload,m=n.state;if(o.isTransition){var y=L.T,E={};L.T=E;try{var C=l(m,r),N=L.S;N!==null&&N(E,C),oh(n,o,C)}catch(k){Ru(n,o,k)}finally{y!==null&&E.types!==null&&(y.types=E.types),L.T=y}}else try{y=l(m,r),oh(n,o,y)}catch(k){Ru(n,o,k)}}function oh(n,o,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(r){sh(n,o,r)},function(r){return Ru(n,o,r)}):sh(n,o,l)}function sh(n,o,l){o.status="fulfilled",o.value=l,lh(o),n.state=l,o=n.pending,o!==null&&(l=o.next,l===o?n.pending=null:(l=l.next,o.next=l,ih(n,l)))}function Ru(n,o,l){var r=n.pending;if(n.pending=null,r!==null){r=r.next;do o.status="rejected",o.reason=l,lh(o),o=o.next;while(o!==r)}n.action=null}function lh(n){n=n.listeners;for(var o=0;o<n.length;o++)(0,n[o])()}function ah(n,o){return o}function rh(n,o){if(be){var l=ke.formState;if(l!==null){e:{var r=ve;if(be){if(Be){t:{for(var m=Be,y=Kt;m.nodeType!==8;){if(!y){m=null;break t}if(m=Qt(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){Be=Qt(m.nextSibling),r=m.data==="F!";break e}}Yn(r)}r=!1}r&&(o=l[0])}}return l=vt(),l.memoizedState=l.baseState=o,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ah,lastRenderedState:o},l.queue=r,l=Nh.bind(null,ve,r),r.dispatch=l,r=Nu(!1),y=Lu.bind(null,ve,!1,r.queue),r=vt(),m={state:o,dispatch:null,action:n,pending:null},r.queue=m,l=AE.bind(null,ve,m,y,l),m.dispatch=l,r.memoizedState=n,[o,l,!1]}function uh(n){var o=$e();return ch(o,Le,n)}function ch(n,o,l){if(o=Au(n,o,ah)[0],n=Fl(_n)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var r=ys(o)}catch(E){throw E===uo?Ll:E}else r=o;o=$e();var m=o.queue,y=m.dispatch;return l!==o.memoizedState&&(ve.flags|=2048,mo(9,{destroy:void 0},bE.bind(null,m,l),null)),[r,y,n]}function bE(n,o){n.action=o}function fh(n){var o=$e(),l=Le;if(l!==null)return ch(o,l,n);$e(),o=o.memoizedState,l=$e();var r=l.queue.dispatch;return l.memoizedState=n,[o,r,!1]}function mo(n,o,l,r){return n={tag:n,create:l,deps:r,inst:o,next:null},o=ve.updateQueue,o===null&&(o=Ol(),ve.updateQueue=o),l=o.lastEffect,l===null?o.lastEffect=n.next=n:(r=l.next,l.next=n,n.next=r,o.lastEffect=n),n}function dh(){return $e().memoizedState}function Yl(n,o,l,r){var m=vt();ve.flags|=n,m.memoizedState=mo(1|o,{destroy:void 0},l,r===void 0?null:r)}function Jl(n,o,l,r){var m=$e();r=r===void 0?null:r;var y=m.memoizedState.inst;Le!==null&&r!==null&&Tu(r,Le.memoizedState.deps)?m.memoizedState=mo(o,y,l,r):(ve.flags|=n,m.memoizedState=mo(1|o,y,l,r))}function ph(n,o){Yl(8390656,8,n,o)}function wu(n,o){Jl(2048,8,n,o)}function NE(n){ve.flags|=4;var o=ve.updateQueue;if(o===null)o=Ol(),ve.updateQueue=o,o.events=[n];else{var l=o.events;l===null?o.events=[n]:l.push(n)}}function hh(n){var o=$e().memoizedState;return NE({ref:o,nextImpl:n}),function(){if((De&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}function mh(n,o){return Jl(4,2,n,o)}function gh(n,o){return Jl(4,4,n,o)}function yh(n,o){if(typeof o=="function"){n=n();var l=o(n);return function(){typeof l=="function"?l():o(null)}}if(o!=null)return n=n(),o.current=n,function(){o.current=null}}function vh(n,o,l){l=l!=null?l.concat([n]):null,Jl(4,4,yh.bind(null,o,n),l)}function Mu(){}function Th(n,o){var l=$e();o=o===void 0?null:o;var r=l.memoizedState;return o!==null&&Tu(o,r[1])?r[0]:(l.memoizedState=[n,o],n)}function xh(n,o){var l=$e();o=o===void 0?null:o;var r=l.memoizedState;if(o!==null&&Tu(o,r[1]))return r[0];if(r=n(),Di){Hn(!0);try{n()}finally{Hn(!1)}}return l.memoizedState=[r,o],r}function Du(n,o,l){return l===void 0||(En&1073741824)!==0&&(Ce&261930)===0?n.memoizedState=o:(n.memoizedState=l,n=Sm(),ve.lanes|=n,ei|=n,l)}function Sh(n,o,l,r){return Dt(l,o)?l:fo.current!==null?(n=Du(n,l,r),Dt(n,o)||(tt=!0),n):(En&42)===0||(En&1073741824)!==0&&(Ce&261930)===0?(tt=!0,n.memoizedState=l):(n=Sm(),ve.lanes|=n,ei|=n,o)}function Eh(n,o,l,r,m){var y=$.p;$.p=y!==0&&8>y?y:8;var E=L.T,C={};L.T=C,Lu(n,!1,o,l);try{var N=m(),k=L.S;if(k!==null&&k(C,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var F=EE(N,r);vs(n,o,F,kt(n))}else vs(n,o,r,kt(n))}catch(K){vs(n,o,{then:function(){},status:"rejected",reason:K},kt())}finally{$.p=y,E!==null&&C.types!==null&&(E.types=C.types),L.T=E}}function RE(){}function Iu(n,o,l,r){if(n.tag!==5)throw Error(s(476));var m=_h(n).queue;Eh(n,m,o,se,l===null?RE:function(){return Ch(n),l(r)})}function _h(n){var o=n.memoizedState;if(o!==null)return o;o={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:se},next:null};var l={};return o.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:l},next:null},n.memoizedState=o,n=n.alternate,n!==null&&(n.memoizedState=o),o}function Ch(n){var o=_h(n);o.next===null&&(o=n.alternate.memoizedState),vs(n,o.next.queue,{},kt())}function Uu(){return ut(Ps)}function Ah(){return $e().memoizedState}function bh(){return $e().memoizedState}function wE(n){for(var o=n.return;o!==null;){switch(o.tag){case 24:case 3:var l=kt();n=Xn(l);var r=Qn(o,n,l);r!==null&&(Nt(r,o,l),ps(r,o,l)),o={cache:ru()},n.payload=o;return}o=o.return}}function ME(n,o,l){var r=kt();l={lane:r,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Kl(n)?Rh(o,l):(l=Zr(n,o,l,r),l!==null&&(Nt(l,n,r),wh(l,o,r)))}function Nh(n,o,l){var r=kt();vs(n,o,l,r)}function vs(n,o,l,r){var m={lane:r,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Kl(n))Rh(o,m);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var E=o.lastRenderedState,C=y(E,l);if(m.hasEagerState=!0,m.eagerState=C,Dt(C,E))return Nl(n,o,m,0),ke===null&&bl(),!1}catch{}finally{}if(l=Zr(n,o,m,r),l!==null)return Nt(l,n,r),wh(l,o,r),!0}return!1}function Lu(n,o,l,r){if(r={lane:2,revertLane:dc(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Kl(n)){if(o)throw Error(s(479))}else o=Zr(n,l,r,2),o!==null&&Nt(o,n,2)}function Kl(n){var o=n.alternate;return n===ve||o!==null&&o===ve}function Rh(n,o){po=Hl=!0;var l=n.pending;l===null?o.next=o:(o.next=l.next,l.next=o),n.pending=o}function wh(n,o,l){if((l&4194048)!==0){var r=o.lanes;r&=n.pendingLanes,l|=r,o.lanes=l,Ld(n,l)}}var Ts={readContext:ut,use:ql,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useLayoutEffect:Je,useInsertionEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useSyncExternalStore:Je,useId:Je,useHostTransitionStatus:Je,useFormState:Je,useActionState:Je,useOptimistic:Je,useMemoCache:Je,useCacheRefresh:Je};Ts.useEffectEvent=Je;var Mh={readContext:ut,use:ql,useCallback:function(n,o){return vt().memoizedState=[n,o===void 0?null:o],n},useContext:ut,useEffect:ph,useImperativeHandle:function(n,o,l){l=l!=null?l.concat([n]):null,Yl(4194308,4,yh.bind(null,o,n),l)},useLayoutEffect:function(n,o){return Yl(4194308,4,n,o)},useInsertionEffect:function(n,o){Yl(4,2,n,o)},useMemo:function(n,o){var l=vt();o=o===void 0?null:o;var r=n();if(Di){Hn(!0);try{n()}finally{Hn(!1)}}return l.memoizedState=[r,o],r},useReducer:function(n,o,l){var r=vt();if(l!==void 0){var m=l(o);if(Di){Hn(!0);try{l(o)}finally{Hn(!1)}}}else m=o;return r.memoizedState=r.baseState=m,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:m},r.queue=n,n=n.dispatch=ME.bind(null,ve,n),[r.memoizedState,n]},useRef:function(n){var o=vt();return n={current:n},o.memoizedState=n},useState:function(n){n=Nu(n);var o=n.queue,l=Nh.bind(null,ve,o);return o.dispatch=l,[n.memoizedState,l]},useDebugValue:Mu,useDeferredValue:function(n,o){var l=vt();return Du(l,n,o)},useTransition:function(){var n=Nu(!1);return n=Eh.bind(null,ve,n.queue,!0,!1),vt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,o,l){var r=ve,m=vt();if(be){if(l===void 0)throw Error(s(407));l=l()}else{if(l=o(),ke===null)throw Error(s(349));(Ce&127)!==0||Zp(r,o,l)}m.memoizedState=l;var y={value:l,getSnapshot:o};return m.queue=y,ph(Wp.bind(null,r,y,n),[n]),r.flags|=2048,mo(9,{destroy:void 0},jp.bind(null,r,y,l,o),null),l},useId:function(){var n=vt(),o=ke.identifierPrefix;if(be){var l=cn,r=un;l=(r&~(1<<32-Mt(r)-1)).toString(32)+l,o="_"+o+"R_"+l,l=zl++,0<l&&(o+="H"+l.toString(32)),o+="_"}else l=_E++,o="_"+o+"r_"+l.toString(32)+"_";return n.memoizedState=o},useHostTransitionStatus:Uu,useFormState:rh,useActionState:rh,useOptimistic:function(n){var o=vt();o.memoizedState=o.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=l,o=Lu.bind(null,ve,!0,l),l.dispatch=o,[n,o]},useMemoCache:Cu,useCacheRefresh:function(){return vt().memoizedState=wE.bind(null,ve)},useEffectEvent:function(n){var o=vt(),l={impl:n};return o.memoizedState=l,function(){if((De&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},Pu={readContext:ut,use:ql,useCallback:Th,useContext:ut,useEffect:wu,useImperativeHandle:vh,useInsertionEffect:mh,useLayoutEffect:gh,useMemo:xh,useReducer:Fl,useRef:dh,useState:function(){return Fl(_n)},useDebugValue:Mu,useDeferredValue:function(n,o){var l=$e();return Sh(l,Le.memoizedState,n,o)},useTransition:function(){var n=Fl(_n)[0],o=$e().memoizedState;return[typeof n=="boolean"?n:ys(n),o]},useSyncExternalStore:$p,useId:Ah,useHostTransitionStatus:Uu,useFormState:uh,useActionState:uh,useOptimistic:function(n,o){var l=$e();return nh(l,Le,n,o)},useMemoCache:Cu,useCacheRefresh:bh};Pu.useEffectEvent=hh;var Dh={readContext:ut,use:ql,useCallback:Th,useContext:ut,useEffect:wu,useImperativeHandle:vh,useInsertionEffect:mh,useLayoutEffect:gh,useMemo:xh,useReducer:bu,useRef:dh,useState:function(){return bu(_n)},useDebugValue:Mu,useDeferredValue:function(n,o){var l=$e();return Le===null?Du(l,n,o):Sh(l,Le.memoizedState,n,o)},useTransition:function(){var n=bu(_n)[0],o=$e().memoizedState;return[typeof n=="boolean"?n:ys(n),o]},useSyncExternalStore:$p,useId:Ah,useHostTransitionStatus:Uu,useFormState:fh,useActionState:fh,useOptimistic:function(n,o){var l=$e();return Le!==null?nh(l,Le,n,o):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:Cu,useCacheRefresh:bh};Dh.useEffectEvent=hh;function Vu(n,o,l,r){o=n.memoizedState,l=l(r,o),l=l==null?o:T({},o,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var ku={enqueueSetState:function(n,o,l){n=n._reactInternals;var r=kt(),m=Xn(r);m.payload=o,l!=null&&(m.callback=l),o=Qn(n,m,r),o!==null&&(Nt(o,n,r),ps(o,n,r))},enqueueReplaceState:function(n,o,l){n=n._reactInternals;var r=kt(),m=Xn(r);m.tag=1,m.payload=o,l!=null&&(m.callback=l),o=Qn(n,m,r),o!==null&&(Nt(o,n,r),ps(o,n,r))},enqueueForceUpdate:function(n,o){n=n._reactInternals;var l=kt(),r=Xn(l);r.tag=2,o!=null&&(r.callback=o),o=Qn(n,r,l),o!==null&&(Nt(o,n,l),ps(o,n,l))}};function Ih(n,o,l,r,m,y,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,y,E):o.prototype&&o.prototype.isPureReactComponent?!ss(l,r)||!ss(m,y):!0}function Uh(n,o,l,r){n=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,r),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,r),o.state!==n&&ku.enqueueReplaceState(o,o.state,null)}function Ii(n,o){var l=o;if("ref"in o){l={};for(var r in o)r!=="ref"&&(l[r]=o[r])}if(n=n.defaultProps){l===o&&(l=T({},l));for(var m in n)l[m]===void 0&&(l[m]=n[m])}return l}function Lh(n){Al(n)}function Ph(n){console.error(n)}function Vh(n){Al(n)}function Xl(n,o){try{var l=n.onUncaughtError;l(o.value,{componentStack:o.stack})}catch(r){setTimeout(function(){throw r})}}function kh(n,o,l){try{var r=n.onCaughtError;r(l.value,{componentStack:l.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Gu(n,o,l){return l=Xn(l),l.tag=3,l.payload={element:null},l.callback=function(){Xl(n,o)},l}function Gh(n){return n=Xn(n),n.tag=3,n}function Bh(n,o,l,r){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var y=r.value;n.payload=function(){return m(y)},n.callback=function(){kh(o,l,r)}}var E=l.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){kh(o,l,r),typeof m!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var C=r.stack;this.componentDidCatch(r.value,{componentStack:C!==null?C:""})})}function DE(n,o,l,r,m){if(l.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(o=l.alternate,o!==null&&lo(o,l,m,!0),l=Ut.current,l!==null){switch(l.tag){case 31:case 13:return Xt===null?la():l.alternate===null&&Ke===0&&(Ke=3),l.flags&=-257,l.flags|=65536,l.lanes=m,r===Pl?l.flags|=16384:(o=l.updateQueue,o===null?l.updateQueue=new Set([r]):o.add(r),uc(n,r,m)),!1;case 22:return l.flags|=65536,r===Pl?l.flags|=16384:(o=l.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([r])},l.updateQueue=o):(l=o.retryQueue,l===null?o.retryQueue=new Set([r]):l.add(r)),uc(n,r,m)),!1}throw Error(s(435,l.tag))}return uc(n,r,m),la(),!1}if(be)return o=Ut.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=m,r!==iu&&(n=Error(s(422),{cause:r}),rs(Ft(n,l)))):(r!==iu&&(o=Error(s(423),{cause:r}),rs(Ft(o,l))),n=n.current.alternate,n.flags|=65536,m&=-m,n.lanes|=m,r=Ft(r,l),m=Gu(n.stateNode,r,m),hu(n,m),Ke!==4&&(Ke=2)),!1;var y=Error(s(520),{cause:r});if(y=Ft(y,l),Ns===null?Ns=[y]:Ns.push(y),Ke!==4&&(Ke=2),o===null)return!0;r=Ft(r,l),l=o;do{switch(l.tag){case 3:return l.flags|=65536,n=m&-m,l.lanes|=n,n=Gu(l.stateNode,r,n),hu(l,n),!1;case 1:if(o=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ti===null||!ti.has(y))))return l.flags|=65536,m&=-m,l.lanes|=m,m=Gh(m),Bh(m,n,l,r),hu(l,m),!1}l=l.return}while(l!==null);return!1}var Bu=Error(s(461)),tt=!1;function ct(n,o,l,r){o.child=n===null?qp(o,null,l,r):Mi(o,n.child,l,r)}function Hh(n,o,l,r,m){l=l.render;var y=o.ref;if("ref"in r){var E={};for(var C in r)C!=="ref"&&(E[C]=r[C])}else E=r;return bi(o),r=xu(n,o,l,E,y,m),C=Su(),n!==null&&!tt?(Eu(n,o,m),Cn(n,o,m)):(be&&C&&tu(o),o.flags|=1,ct(n,o,r,m),o.child)}function zh(n,o,l,r,m){if(n===null){var y=l.type;return typeof y=="function"&&!jr(y)&&y.defaultProps===void 0&&l.compare===null?(o.tag=15,o.type=y,Oh(n,o,y,r,m)):(n=wl(l.type,null,r,o,o.mode,m),n.ref=o.ref,n.return=o,o.child=n)}if(y=n.child,!Ku(n,m)){var E=y.memoizedProps;if(l=l.compare,l=l!==null?l:ss,l(E,r)&&n.ref===o.ref)return Cn(n,o,m)}return o.flags|=1,n=vn(y,r),n.ref=o.ref,n.return=o,o.child=n}function Oh(n,o,l,r,m){if(n!==null){var y=n.memoizedProps;if(ss(y,r)&&n.ref===o.ref)if(tt=!1,o.pendingProps=r=y,Ku(n,m))(n.flags&131072)!==0&&(tt=!0);else return o.lanes=n.lanes,Cn(n,o,m)}return Hu(n,o,l,r,m)}function qh(n,o,l,r){var m=r.children,y=n!==null?n.memoizedState:null;if(n===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((o.flags&128)!==0){if(y=y!==null?y.baseLanes|l:l,n!==null){for(r=o.child=n.child,m=0;r!==null;)m=m|r.lanes|r.childLanes,r=r.sibling;r=m&~y}else r=0,o.child=null;return Fh(n,o,y,l,r)}if((l&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},n!==null&&Ul(o,y!==null?y.cachePool:null),y!==null?Jp(o,y):gu(),Kp(o);else return r=o.lanes=536870912,Fh(n,o,y!==null?y.baseLanes|l:l,l,r)}else y!==null?(Ul(o,y.cachePool),Jp(o,y),Zn(),o.memoizedState=null):(n!==null&&Ul(o,null),gu(),Zn());return ct(n,o,m,l),o.child}function xs(n,o){return n!==null&&n.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Fh(n,o,l,r,m){var y=cu();return y=y===null?null:{parent:We._currentValue,pool:y},o.memoizedState={baseLanes:l,cachePool:y},n!==null&&Ul(o,null),gu(),Kp(o),n!==null&&lo(n,o,r,!0),o.childLanes=m,null}function Ql(n,o){return o=Zl({mode:o.mode,children:o.children},n.mode),o.ref=n.ref,n.child=o,o.return=n,o}function Yh(n,o,l){return Mi(o,n.child,null,l),n=Ql(o,o.pendingProps),n.flags|=2,Lt(o),o.memoizedState=null,n}function IE(n,o,l){var r=o.pendingProps,m=(o.flags&128)!==0;if(o.flags&=-129,n===null){if(be){if(r.mode==="hidden")return n=Ql(o,r),o.lanes=536870912,xs(null,n);if(vu(o),(n=Be)?(n=ig(n,Kt),n=n!==null&&n.data==="&"?n:null,n!==null&&(o.memoizedState={dehydrated:n,treeContext:qn!==null?{id:un,overflow:cn}:null,retryLane:536870912,hydrationErrors:null},l=Rp(n),l.return=o,o.child=l,rt=o,Be=null)):n=null,n===null)throw Yn(o);return o.lanes=536870912,null}return Ql(o,r)}var y=n.memoizedState;if(y!==null){var E=y.dehydrated;if(vu(o),m)if(o.flags&256)o.flags&=-257,o=Yh(n,o,l);else if(o.memoizedState!==null)o.child=n.child,o.flags|=128,o=null;else throw Error(s(558));else if(tt||lo(n,o,l,!1),m=(l&n.childLanes)!==0,tt||m){if(r=ke,r!==null&&(E=Pd(r,l),E!==0&&E!==y.retryLane))throw y.retryLane=E,Ei(n,E),Nt(r,n,E),Bu;la(),o=Yh(n,o,l)}else n=y.treeContext,Be=Qt(E.nextSibling),rt=o,be=!0,Fn=null,Kt=!1,n!==null&&Dp(o,n),o=Ql(o,r),o.flags|=4096;return o}return n=vn(n.child,{mode:r.mode,children:r.children}),n.ref=o.ref,o.child=n,n.return=o,n}function $l(n,o){var l=o.ref;if(l===null)n!==null&&n.ref!==null&&(o.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(n===null||n.ref!==l)&&(o.flags|=4194816)}}function Hu(n,o,l,r,m){return bi(o),l=xu(n,o,l,r,void 0,m),r=Su(),n!==null&&!tt?(Eu(n,o,m),Cn(n,o,m)):(be&&r&&tu(o),o.flags|=1,ct(n,o,l,m),o.child)}function Jh(n,o,l,r,m,y){return bi(o),o.updateQueue=null,l=Qp(o,r,l,m),Xp(n),r=Su(),n!==null&&!tt?(Eu(n,o,y),Cn(n,o,y)):(be&&r&&tu(o),o.flags|=1,ct(n,o,l,y),o.child)}function Kh(n,o,l,r,m){if(bi(o),o.stateNode===null){var y=no,E=l.contextType;typeof E=="object"&&E!==null&&(y=ut(E)),y=new l(r,y),o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=ku,o.stateNode=y,y._reactInternals=o,y=o.stateNode,y.props=r,y.state=o.memoizedState,y.refs={},du(o),E=l.contextType,y.context=typeof E=="object"&&E!==null?ut(E):no,y.state=o.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(Vu(o,l,E,r),y.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&ku.enqueueReplaceState(y,y.state,null),ms(o,r,y,m),hs(),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308),r=!0}else if(n===null){y=o.stateNode;var C=o.memoizedProps,N=Ii(l,C);y.props=N;var k=y.context,F=l.contextType;E=no,typeof F=="object"&&F!==null&&(E=ut(F));var K=l.getDerivedStateFromProps;F=typeof K=="function"||typeof y.getSnapshotBeforeUpdate=="function",C=o.pendingProps!==C,F||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C||k!==E)&&Uh(o,y,r,E),Kn=!1;var G=o.memoizedState;y.state=G,ms(o,r,y,m),hs(),k=o.memoizedState,C||G!==k||Kn?(typeof K=="function"&&(Vu(o,l,K,r),k=o.memoizedState),(N=Kn||Ih(o,l,N,r,G,k,E))?(F||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(o.flags|=4194308)):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=r,o.memoizedState=k),y.props=r,y.state=k,y.context=E,r=N):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),r=!1)}else{y=o.stateNode,pu(n,o),E=o.memoizedProps,F=Ii(l,E),y.props=F,K=o.pendingProps,G=y.context,k=l.contextType,N=no,typeof k=="object"&&k!==null&&(N=ut(k)),C=l.getDerivedStateFromProps,(k=typeof C=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==K||G!==N)&&Uh(o,y,r,N),Kn=!1,G=o.memoizedState,y.state=G,ms(o,r,y,m),hs();var B=o.memoizedState;E!==K||G!==B||Kn||n!==null&&n.dependencies!==null&&Dl(n.dependencies)?(typeof C=="function"&&(Vu(o,l,C,r),B=o.memoizedState),(F=Kn||Ih(o,l,F,r,G,B,N)||n!==null&&n.dependencies!==null&&Dl(n.dependencies))?(k||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(r,B,N),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(r,B,N)),typeof y.componentDidUpdate=="function"&&(o.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(o.flags|=1024),o.memoizedProps=r,o.memoizedState=B),y.props=r,y.state=B,y.context=N,r=F):(typeof y.componentDidUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(o.flags|=1024),r=!1)}return y=r,$l(n,o),r=(o.flags&128)!==0,y||r?(y=o.stateNode,l=r&&typeof l.getDerivedStateFromError!="function"?null:y.render(),o.flags|=1,n!==null&&r?(o.child=Mi(o,n.child,null,m),o.child=Mi(o,null,l,m)):ct(n,o,l,m),o.memoizedState=y.state,n=o.child):n=Cn(n,o,m),n}function Xh(n,o,l,r){return Ci(),o.flags|=256,ct(n,o,l,r),o.child}var zu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ou(n){return{baseLanes:n,cachePool:kp()}}function qu(n,o,l){return n=n!==null?n.childLanes&~l:0,o&&(n|=Vt),n}function Qh(n,o,l){var r=o.pendingProps,m=!1,y=(o.flags&128)!==0,E;if((E=y)||(E=n!==null&&n.memoizedState===null?!1:(Qe.current&2)!==0),E&&(m=!0,o.flags&=-129),E=(o.flags&32)!==0,o.flags&=-33,n===null){if(be){if(m?$n(o):Zn(),(n=Be)?(n=ig(n,Kt),n=n!==null&&n.data!=="&"?n:null,n!==null&&(o.memoizedState={dehydrated:n,treeContext:qn!==null?{id:un,overflow:cn}:null,retryLane:536870912,hydrationErrors:null},l=Rp(n),l.return=o,o.child=l,rt=o,Be=null)):n=null,n===null)throw Yn(o);return Ac(n)?o.lanes=32:o.lanes=536870912,null}var C=r.children;return r=r.fallback,m?(Zn(),m=o.mode,C=Zl({mode:"hidden",children:C},m),r=_i(r,m,l,null),C.return=o,r.return=o,C.sibling=r,o.child=C,r=o.child,r.memoizedState=Ou(l),r.childLanes=qu(n,E,l),o.memoizedState=zu,xs(null,r)):($n(o),Fu(o,C))}var N=n.memoizedState;if(N!==null&&(C=N.dehydrated,C!==null)){if(y)o.flags&256?($n(o),o.flags&=-257,o=Yu(n,o,l)):o.memoizedState!==null?(Zn(),o.child=n.child,o.flags|=128,o=null):(Zn(),C=r.fallback,m=o.mode,r=Zl({mode:"visible",children:r.children},m),C=_i(C,m,l,null),C.flags|=2,r.return=o,C.return=o,r.sibling=C,o.child=r,Mi(o,n.child,null,l),r=o.child,r.memoizedState=Ou(l),r.childLanes=qu(n,E,l),o.memoizedState=zu,o=xs(null,r));else if($n(o),Ac(C)){if(E=C.nextSibling&&C.nextSibling.dataset,E)var k=E.dgst;E=k,r=Error(s(419)),r.stack="",r.digest=E,rs({value:r,source:null,stack:null}),o=Yu(n,o,l)}else if(tt||lo(n,o,l,!1),E=(l&n.childLanes)!==0,tt||E){if(E=ke,E!==null&&(r=Pd(E,l),r!==0&&r!==N.retryLane))throw N.retryLane=r,Ei(n,r),Nt(E,n,r),Bu;Cc(C)||la(),o=Yu(n,o,l)}else Cc(C)?(o.flags|=192,o.child=n.child,o=null):(n=N.treeContext,Be=Qt(C.nextSibling),rt=o,be=!0,Fn=null,Kt=!1,n!==null&&Dp(o,n),o=Fu(o,r.children),o.flags|=4096);return o}return m?(Zn(),C=r.fallback,m=o.mode,N=n.child,k=N.sibling,r=vn(N,{mode:"hidden",children:r.children}),r.subtreeFlags=N.subtreeFlags&65011712,k!==null?C=vn(k,C):(C=_i(C,m,l,null),C.flags|=2),C.return=o,r.return=o,r.sibling=C,o.child=r,xs(null,r),r=o.child,C=n.child.memoizedState,C===null?C=Ou(l):(m=C.cachePool,m!==null?(N=We._currentValue,m=m.parent!==N?{parent:N,pool:N}:m):m=kp(),C={baseLanes:C.baseLanes|l,cachePool:m}),r.memoizedState=C,r.childLanes=qu(n,E,l),o.memoizedState=zu,xs(n.child,r)):($n(o),l=n.child,n=l.sibling,l=vn(l,{mode:"visible",children:r.children}),l.return=o,l.sibling=null,n!==null&&(E=o.deletions,E===null?(o.deletions=[n],o.flags|=16):E.push(n)),o.child=l,o.memoizedState=null,l)}function Fu(n,o){return o=Zl({mode:"visible",children:o},n.mode),o.return=n,n.child=o}function Zl(n,o){return n=It(22,n,null,o),n.lanes=0,n}function Yu(n,o,l){return Mi(o,n.child,null,l),n=Fu(o,o.pendingProps.children),n.flags|=2,o.memoizedState=null,n}function $h(n,o,l){n.lanes|=o;var r=n.alternate;r!==null&&(r.lanes|=o),lu(n.return,o,l)}function Ju(n,o,l,r,m,y){var E=n.memoizedState;E===null?n.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:r,tail:l,tailMode:m,treeForkCount:y}:(E.isBackwards=o,E.rendering=null,E.renderingStartTime=0,E.last=r,E.tail=l,E.tailMode=m,E.treeForkCount=y)}function Zh(n,o,l){var r=o.pendingProps,m=r.revealOrder,y=r.tail;r=r.children;var E=Qe.current,C=(E&2)!==0;if(C?(E=E&1|2,o.flags|=128):E&=1,j(Qe,E),ct(n,o,r,l),r=be?as:0,!C&&n!==null&&(n.flags&128)!==0)e:for(n=o.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&$h(n,l,o);else if(n.tag===19)$h(n,l,o);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===o)break e;for(;n.sibling===null;){if(n.return===null||n.return===o)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(m){case"forwards":for(l=o.child,m=null;l!==null;)n=l.alternate,n!==null&&Bl(n)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),Ju(o,!1,m,l,y,r);break;case"backwards":case"unstable_legacy-backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(n=m.alternate,n!==null&&Bl(n)===null){o.child=m;break}n=m.sibling,m.sibling=l,l=m,m=n}Ju(o,!0,l,null,y,r);break;case"together":Ju(o,!1,null,null,void 0,r);break;default:o.memoizedState=null}return o.child}function Cn(n,o,l){if(n!==null&&(o.dependencies=n.dependencies),ei|=o.lanes,(l&o.childLanes)===0)if(n!==null){if(lo(n,o,l,!1),(l&o.childLanes)===0)return null}else return null;if(n!==null&&o.child!==n.child)throw Error(s(153));if(o.child!==null){for(n=o.child,l=vn(n,n.pendingProps),o.child=l,l.return=o;n.sibling!==null;)n=n.sibling,l=l.sibling=vn(n,n.pendingProps),l.return=o;l.sibling=null}return o.child}function Ku(n,o){return(n.lanes&o)!==0?!0:(n=n.dependencies,!!(n!==null&&Dl(n)))}function UE(n,o,l){switch(o.tag){case 3:je(o,o.stateNode.containerInfo),Jn(o,We,n.memoizedState.cache),Ci();break;case 27:case 5:Jo(o);break;case 4:je(o,o.stateNode.containerInfo);break;case 10:Jn(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,vu(o),null;break;case 13:var r=o.memoizedState;if(r!==null)return r.dehydrated!==null?($n(o),o.flags|=128,null):(l&o.child.childLanes)!==0?Qh(n,o,l):($n(o),n=Cn(n,o,l),n!==null?n.sibling:null);$n(o);break;case 19:var m=(n.flags&128)!==0;if(r=(l&o.childLanes)!==0,r||(lo(n,o,l,!1),r=(l&o.childLanes)!==0),m){if(r)return Zh(n,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),j(Qe,Qe.current),r)break;return null;case 22:return o.lanes=0,qh(n,o,l,o.pendingProps);case 24:Jn(o,We,n.memoizedState.cache)}return Cn(n,o,l)}function jh(n,o,l){if(n!==null)if(n.memoizedProps!==o.pendingProps)tt=!0;else{if(!Ku(n,l)&&(o.flags&128)===0)return tt=!1,UE(n,o,l);tt=(n.flags&131072)!==0}else tt=!1,be&&(o.flags&1048576)!==0&&Mp(o,as,o.index);switch(o.lanes=0,o.tag){case 16:e:{var r=o.pendingProps;if(n=Ri(o.elementType),o.type=n,typeof n=="function")jr(n)?(r=Ii(n,r),o.tag=1,o=Kh(null,o,n,r,l)):(o.tag=0,o=Hu(null,o,n,r,l));else{if(n!=null){var m=n.$$typeof;if(m===J){o.tag=11,o=Hh(null,o,n,r,l);break e}else if(m===z){o.tag=14,o=zh(null,o,n,r,l);break e}}throw o=ye(n)||n,Error(s(306,o,""))}}return o;case 0:return Hu(n,o,o.type,o.pendingProps,l);case 1:return r=o.type,m=Ii(r,o.pendingProps),Kh(n,o,r,m,l);case 3:e:{if(je(o,o.stateNode.containerInfo),n===null)throw Error(s(387));r=o.pendingProps;var y=o.memoizedState;m=y.element,pu(n,o),ms(o,r,null,l);var E=o.memoizedState;if(r=E.cache,Jn(o,We,r),r!==y.cache&&au(o,[We],l,!0),hs(),r=E.element,y.isDehydrated)if(y={element:r,isDehydrated:!1,cache:E.cache},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){o=Xh(n,o,r,l);break e}else if(r!==m){m=Ft(Error(s(424)),o),rs(m),o=Xh(n,o,r,l);break e}else{switch(n=o.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Be=Qt(n.firstChild),rt=o,be=!0,Fn=null,Kt=!0,l=qp(o,null,r,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ci(),r===m){o=Cn(n,o,l);break e}ct(n,o,r,l)}o=o.child}return o;case 26:return $l(n,o),n===null?(l=ug(o.type,null,o.pendingProps,null))?o.memoizedState=l:be||(l=o.type,n=o.pendingProps,r=pa(he.current).createElement(l),r[at]=o,r[St]=n,ft(r,l,n),ot(r),o.stateNode=r):o.memoizedState=ug(o.type,n.memoizedProps,o.pendingProps,n.memoizedState),null;case 27:return Jo(o),n===null&&be&&(r=o.stateNode=lg(o.type,o.pendingProps,he.current),rt=o,Kt=!0,m=Be,si(o.type)?(bc=m,Be=Qt(r.firstChild)):Be=m),ct(n,o,o.pendingProps.children,l),$l(n,o),n===null&&(o.flags|=4194304),o.child;case 5:return n===null&&be&&((m=r=Be)&&(r=u_(r,o.type,o.pendingProps,Kt),r!==null?(o.stateNode=r,rt=o,Be=Qt(r.firstChild),Kt=!1,m=!0):m=!1),m||Yn(o)),Jo(o),m=o.type,y=o.pendingProps,E=n!==null?n.memoizedProps:null,r=y.children,Sc(m,y)?r=null:E!==null&&Sc(m,E)&&(o.flags|=32),o.memoizedState!==null&&(m=xu(n,o,CE,null,null,l),Ps._currentValue=m),$l(n,o),ct(n,o,r,l),o.child;case 6:return n===null&&be&&((n=l=Be)&&(l=c_(l,o.pendingProps,Kt),l!==null?(o.stateNode=l,rt=o,Be=null,n=!0):n=!1),n||Yn(o)),null;case 13:return Qh(n,o,l);case 4:return je(o,o.stateNode.containerInfo),r=o.pendingProps,n===null?o.child=Mi(o,null,r,l):ct(n,o,r,l),o.child;case 11:return Hh(n,o,o.type,o.pendingProps,l);case 7:return ct(n,o,o.pendingProps,l),o.child;case 8:return ct(n,o,o.pendingProps.children,l),o.child;case 12:return ct(n,o,o.pendingProps.children,l),o.child;case 10:return r=o.pendingProps,Jn(o,o.type,r.value),ct(n,o,r.children,l),o.child;case 9:return m=o.type._context,r=o.pendingProps.children,bi(o),m=ut(m),r=r(m),o.flags|=1,ct(n,o,r,l),o.child;case 14:return zh(n,o,o.type,o.pendingProps,l);case 15:return Oh(n,o,o.type,o.pendingProps,l);case 19:return Zh(n,o,l);case 31:return IE(n,o,l);case 22:return qh(n,o,l,o.pendingProps);case 24:return bi(o),r=ut(We),n===null?(m=cu(),m===null&&(m=ke,y=ru(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=l),m=y),o.memoizedState={parent:r,cache:m},du(o),Jn(o,We,m)):((n.lanes&l)!==0&&(pu(n,o),ms(o,null,null,l),hs()),m=n.memoizedState,y=o.memoizedState,m.parent!==r?(m={parent:r,cache:r},o.memoizedState=m,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=m),Jn(o,We,r)):(r=y.cache,Jn(o,We,r),r!==m.cache&&au(o,[We],l,!0))),ct(n,o,o.pendingProps.children,l),o.child;case 29:throw o.pendingProps}throw Error(s(156,o.tag))}function An(n){n.flags|=4}function Xu(n,o,l,r,m){if((o=(n.mode&32)!==0)&&(o=!1),o){if(n.flags|=16777216,(m&335544128)===m)if(n.stateNode.complete)n.flags|=8192;else if(Am())n.flags|=8192;else throw wi=Pl,fu}else n.flags&=-16777217}function Wh(n,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!hg(o))if(Am())n.flags|=8192;else throw wi=Pl,fu}function jl(n,o){o!==null&&(n.flags|=4),n.flags&16384&&(o=n.tag!==22?Id():536870912,n.lanes|=o,To|=o)}function Ss(n,o){if(!be)switch(n.tailMode){case"hidden":o=n.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var r=null;l!==null;)l.alternate!==null&&(r=l),l=l.sibling;r===null?o||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function He(n){var o=n.alternate!==null&&n.alternate.child===n.child,l=0,r=0;if(o)for(var m=n.child;m!==null;)l|=m.lanes|m.childLanes,r|=m.subtreeFlags&65011712,r|=m.flags&65011712,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)l|=m.lanes|m.childLanes,r|=m.subtreeFlags,r|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=r,n.childLanes=l,o}function LE(n,o,l){var r=o.pendingProps;switch(nu(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(o),null;case 1:return He(o),null;case 3:return l=o.stateNode,r=null,n!==null&&(r=n.memoizedState.cache),o.memoizedState.cache!==r&&(o.flags|=2048),Sn(We),Oe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(so(o)?An(o):n===null||n.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ou())),He(o),null;case 26:var m=o.type,y=o.memoizedState;return n===null?(An(o),y!==null?(He(o),Wh(o,y)):(He(o),Xu(o,m,null,r,l))):y?y!==n.memoizedState?(An(o),He(o),Wh(o,y)):(He(o),o.flags&=-16777217):(n=n.memoizedProps,n!==r&&An(o),He(o),Xu(o,m,n,r,l)),null;case 27:if(ul(o),l=he.current,m=o.type,n!==null&&o.stateNode!=null)n.memoizedProps!==r&&An(o);else{if(!r){if(o.stateNode===null)throw Error(s(166));return He(o),null}n=ne.current,so(o)?Ip(o):(n=lg(m,r,l),o.stateNode=n,An(o))}return He(o),null;case 5:if(ul(o),m=o.type,n!==null&&o.stateNode!=null)n.memoizedProps!==r&&An(o);else{if(!r){if(o.stateNode===null)throw Error(s(166));return He(o),null}if(y=ne.current,so(o))Ip(o);else{var E=pa(he.current);switch(y){case 1:y=E.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:y=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":y=E.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":y=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":y=E.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof r.is=="string"?E.createElement("select",{is:r.is}):E.createElement("select"),r.multiple?y.multiple=!0:r.size&&(y.size=r.size);break;default:y=typeof r.is=="string"?E.createElement(m,{is:r.is}):E.createElement(m)}}y[at]=o,y[St]=r;e:for(E=o.child;E!==null;){if(E.tag===5||E.tag===6)y.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===o)break e;for(;E.sibling===null;){if(E.return===null||E.return===o)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}o.stateNode=y;e:switch(ft(y,m,r),m){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&An(o)}}return He(o),Xu(o,o.type,n===null?null:n.memoizedProps,o.pendingProps,l),null;case 6:if(n&&o.stateNode!=null)n.memoizedProps!==r&&An(o);else{if(typeof r!="string"&&o.stateNode===null)throw Error(s(166));if(n=he.current,so(o)){if(n=o.stateNode,l=o.memoizedProps,r=null,m=rt,m!==null)switch(m.tag){case 27:case 5:r=m.memoizedProps}n[at]=o,n=!!(n.nodeValue===l||r!==null&&r.suppressHydrationWarning===!0||Qm(n.nodeValue,l)),n||Yn(o,!0)}else n=pa(n).createTextNode(r),n[at]=o,o.stateNode=n}return He(o),null;case 31:if(l=o.memoizedState,n===null||n.memoizedState!==null){if(r=so(o),l!==null){if(n===null){if(!r)throw Error(s(318));if(n=o.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[at]=o}else Ci(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;He(o),n=!1}else l=ou(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=l),n=!0;if(!n)return o.flags&256?(Lt(o),o):(Lt(o),null);if((o.flags&128)!==0)throw Error(s(558))}return He(o),null;case 13:if(r=o.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(m=so(o),r!==null&&r.dehydrated!==null){if(n===null){if(!m)throw Error(s(318));if(m=o.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[at]=o}else Ci(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;He(o),m=!1}else m=ou(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=m),m=!0;if(!m)return o.flags&256?(Lt(o),o):(Lt(o),null)}return Lt(o),(o.flags&128)!==0?(o.lanes=l,o):(l=r!==null,n=n!==null&&n.memoizedState!==null,l&&(r=o.child,m=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(m=r.alternate.memoizedState.cachePool.pool),y=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(y=r.memoizedState.cachePool.pool),y!==m&&(r.flags|=2048)),l!==n&&l&&(o.child.flags|=8192),jl(o,o.updateQueue),He(o),null);case 4:return Oe(),n===null&&gc(o.stateNode.containerInfo),He(o),null;case 10:return Sn(o.type),He(o),null;case 19:if(O(Qe),r=o.memoizedState,r===null)return He(o),null;if(m=(o.flags&128)!==0,y=r.rendering,y===null)if(m)Ss(r,!1);else{if(Ke!==0||n!==null&&(n.flags&128)!==0)for(n=o.child;n!==null;){if(y=Bl(n),y!==null){for(o.flags|=128,Ss(r,!1),n=y.updateQueue,o.updateQueue=n,jl(o,n),o.subtreeFlags=0,n=l,l=o.child;l!==null;)Np(l,n),l=l.sibling;return j(Qe,Qe.current&1|2),be&&Tn(o,r.treeForkCount),o.child}n=n.sibling}r.tail!==null&&Rt()>ia&&(o.flags|=128,m=!0,Ss(r,!1),o.lanes=4194304)}else{if(!m)if(n=Bl(y),n!==null){if(o.flags|=128,m=!0,n=n.updateQueue,o.updateQueue=n,jl(o,n),Ss(r,!0),r.tail===null&&r.tailMode==="hidden"&&!y.alternate&&!be)return He(o),null}else 2*Rt()-r.renderingStartTime>ia&&l!==536870912&&(o.flags|=128,m=!0,Ss(r,!1),o.lanes=4194304);r.isBackwards?(y.sibling=o.child,o.child=y):(n=r.last,n!==null?n.sibling=y:o.child=y,r.last=y)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.renderingStartTime=Rt(),n.sibling=null,l=Qe.current,j(Qe,m?l&1|2:l&1),be&&Tn(o,r.treeForkCount),n):(He(o),null);case 22:case 23:return Lt(o),yu(),r=o.memoizedState!==null,n!==null?n.memoizedState!==null!==r&&(o.flags|=8192):r&&(o.flags|=8192),r?(l&536870912)!==0&&(o.flags&128)===0&&(He(o),o.subtreeFlags&6&&(o.flags|=8192)):He(o),l=o.updateQueue,l!==null&&jl(o,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==l&&(o.flags|=2048),n!==null&&O(Ni),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),Sn(We),He(o),null;case 25:return null;case 30:return null}throw Error(s(156,o.tag))}function PE(n,o){switch(nu(o),o.tag){case 1:return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 3:return Sn(We),Oe(),n=o.flags,(n&65536)!==0&&(n&128)===0?(o.flags=n&-65537|128,o):null;case 26:case 27:case 5:return ul(o),null;case 31:if(o.memoizedState!==null){if(Lt(o),o.alternate===null)throw Error(s(340));Ci()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 13:if(Lt(o),n=o.memoizedState,n!==null&&n.dehydrated!==null){if(o.alternate===null)throw Error(s(340));Ci()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 19:return O(Qe),null;case 4:return Oe(),null;case 10:return Sn(o.type),null;case 22:case 23:return Lt(o),yu(),n!==null&&O(Ni),n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 24:return Sn(We),null;case 25:return null;default:return null}}function em(n,o){switch(nu(o),o.tag){case 3:Sn(We),Oe();break;case 26:case 27:case 5:ul(o);break;case 4:Oe();break;case 31:o.memoizedState!==null&&Lt(o);break;case 13:Lt(o);break;case 19:O(Qe);break;case 10:Sn(o.type);break;case 22:case 23:Lt(o),yu(),n!==null&&O(Ni);break;case 24:Sn(We)}}function Es(n,o){try{var l=o.updateQueue,r=l!==null?l.lastEffect:null;if(r!==null){var m=r.next;l=m;do{if((l.tag&n)===n){r=void 0;var y=l.create,E=l.inst;r=y(),E.destroy=r}l=l.next}while(l!==m)}}catch(C){Ue(o,o.return,C)}}function jn(n,o,l){try{var r=o.updateQueue,m=r!==null?r.lastEffect:null;if(m!==null){var y=m.next;r=y;do{if((r.tag&n)===n){var E=r.inst,C=E.destroy;if(C!==void 0){E.destroy=void 0,m=o;var N=l,k=C;try{k()}catch(F){Ue(m,N,F)}}}r=r.next}while(r!==y)}}catch(F){Ue(o,o.return,F)}}function tm(n){var o=n.updateQueue;if(o!==null){var l=n.stateNode;try{Yp(o,l)}catch(r){Ue(n,n.return,r)}}}function nm(n,o,l){l.props=Ii(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(r){Ue(n,o,r)}}function _s(n,o){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var r=n.stateNode;break;case 30:r=n.stateNode;break;default:r=n.stateNode}typeof l=="function"?n.refCleanup=l(r):l.current=r}}catch(m){Ue(n,o,m)}}function fn(n,o){var l=n.ref,r=n.refCleanup;if(l!==null)if(typeof r=="function")try{r()}catch(m){Ue(n,o,m)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){Ue(n,o,m)}else l.current=null}function im(n){var o=n.type,l=n.memoizedProps,r=n.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break e;case"img":l.src?r.src=l.src:l.srcSet&&(r.srcset=l.srcSet)}}catch(m){Ue(n,n.return,m)}}function Qu(n,o,l){try{var r=n.stateNode;i_(r,n.type,l,o),r[St]=o}catch(m){Ue(n,n.return,m)}}function om(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&si(n.type)||n.tag===4}function $u(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||om(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&si(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Zu(n,o,l){var r=n.tag;if(r===5||r===6)n=n.stateNode,o?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,o):(o=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,o.appendChild(n),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=gn));else if(r!==4&&(r===27&&si(n.type)&&(l=n.stateNode,o=null),n=n.child,n!==null))for(Zu(n,o,l),n=n.sibling;n!==null;)Zu(n,o,l),n=n.sibling}function Wl(n,o,l){var r=n.tag;if(r===5||r===6)n=n.stateNode,o?l.insertBefore(n,o):l.appendChild(n);else if(r!==4&&(r===27&&si(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(Wl(n,o,l),n=n.sibling;n!==null;)Wl(n,o,l),n=n.sibling}function sm(n){var o=n.stateNode,l=n.memoizedProps;try{for(var r=n.type,m=o.attributes;m.length;)o.removeAttributeNode(m[0]);ft(o,r,l),o[at]=n,o[St]=l}catch(y){Ue(n,n.return,y)}}var bn=!1,nt=!1,ju=!1,lm=typeof WeakSet=="function"?WeakSet:Set,st=null;function VE(n,o){if(n=n.containerInfo,Tc=xa,n=vp(n),Yr(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var r=l.getSelection&&l.getSelection();if(r&&r.rangeCount!==0){l=r.anchorNode;var m=r.anchorOffset,y=r.focusNode;r=r.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var E=0,C=-1,N=-1,k=0,F=0,K=n,G=null;t:for(;;){for(var B;K!==l||m!==0&&K.nodeType!==3||(C=E+m),K!==y||r!==0&&K.nodeType!==3||(N=E+r),K.nodeType===3&&(E+=K.nodeValue.length),(B=K.firstChild)!==null;)G=K,K=B;for(;;){if(K===n)break t;if(G===l&&++k===m&&(C=E),G===y&&++F===r&&(N=E),(B=K.nextSibling)!==null)break;K=G,G=K.parentNode}K=B}l=C===-1||N===-1?null:{start:C,end:N}}else l=null}l=l||{start:0,end:0}}else l=null;for(xc={focusedElem:n,selectionRange:l},xa=!1,st=o;st!==null;)if(o=st,n=o.child,(o.subtreeFlags&1028)!==0&&n!==null)n.return=o,st=n;else for(;st!==null;){switch(o=st,y=o.alternate,n=o.flags,o.tag){case 0:if((n&4)!==0&&(n=o.updateQueue,n=n!==null?n.events:null,n!==null))for(l=0;l<n.length;l++)m=n[l],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,l=o,m=y.memoizedProps,y=y.memoizedState,r=l.stateNode;try{var oe=Ii(l.type,m);n=r.getSnapshotBeforeUpdate(oe,y),r.__reactInternalSnapshotBeforeUpdate=n}catch(ce){Ue(l,l.return,ce)}}break;case 3:if((n&1024)!==0){if(n=o.stateNode.containerInfo,l=n.nodeType,l===9)_c(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":_c(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=o.sibling,n!==null){n.return=o.return,st=n;break}st=o.return}}function am(n,o,l){var r=l.flags;switch(l.tag){case 0:case 11:case 15:Rn(n,l),r&4&&Es(5,l);break;case 1:if(Rn(n,l),r&4)if(n=l.stateNode,o===null)try{n.componentDidMount()}catch(E){Ue(l,l.return,E)}else{var m=Ii(l.type,o.memoizedProps);o=o.memoizedState;try{n.componentDidUpdate(m,o,n.__reactInternalSnapshotBeforeUpdate)}catch(E){Ue(l,l.return,E)}}r&64&&tm(l),r&512&&_s(l,l.return);break;case 3:if(Rn(n,l),r&64&&(n=l.updateQueue,n!==null)){if(o=null,l.child!==null)switch(l.child.tag){case 27:case 5:o=l.child.stateNode;break;case 1:o=l.child.stateNode}try{Yp(n,o)}catch(E){Ue(l,l.return,E)}}break;case 27:o===null&&r&4&&sm(l);case 26:case 5:Rn(n,l),o===null&&r&4&&im(l),r&512&&_s(l,l.return);break;case 12:Rn(n,l);break;case 31:Rn(n,l),r&4&&cm(n,l);break;case 13:Rn(n,l),r&4&&fm(n,l),r&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=YE.bind(null,l),f_(n,l))));break;case 22:if(r=l.memoizedState!==null||bn,!r){o=o!==null&&o.memoizedState!==null||nt,m=bn;var y=nt;bn=r,(nt=o)&&!y?wn(n,l,(l.subtreeFlags&8772)!==0):Rn(n,l),bn=m,nt=y}break;case 30:break;default:Rn(n,l)}}function rm(n){var o=n.alternate;o!==null&&(n.alternate=null,rm(o)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(o=n.stateNode,o!==null&&Rr(o)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var qe=null,_t=!1;function Nn(n,o,l){for(l=l.child;l!==null;)um(n,o,l),l=l.sibling}function um(n,o,l){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(Ko,l)}catch{}switch(l.tag){case 26:nt||fn(l,o),Nn(n,o,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:nt||fn(l,o);var r=qe,m=_t;si(l.type)&&(qe=l.stateNode,_t=!1),Nn(n,o,l),Is(l.stateNode),qe=r,_t=m;break;case 5:nt||fn(l,o);case 6:if(r=qe,m=_t,qe=null,Nn(n,o,l),qe=r,_t=m,qe!==null)if(_t)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(l.stateNode)}catch(y){Ue(l,o,y)}else try{qe.removeChild(l.stateNode)}catch(y){Ue(l,o,y)}break;case 18:qe!==null&&(_t?(n=qe,tg(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),No(n)):tg(qe,l.stateNode));break;case 4:r=qe,m=_t,qe=l.stateNode.containerInfo,_t=!0,Nn(n,o,l),qe=r,_t=m;break;case 0:case 11:case 14:case 15:jn(2,l,o),nt||jn(4,l,o),Nn(n,o,l);break;case 1:nt||(fn(l,o),r=l.stateNode,typeof r.componentWillUnmount=="function"&&nm(l,o,r)),Nn(n,o,l);break;case 21:Nn(n,o,l);break;case 22:nt=(r=nt)||l.memoizedState!==null,Nn(n,o,l),nt=r;break;default:Nn(n,o,l)}}function cm(n,o){if(o.memoizedState===null&&(n=o.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{No(n)}catch(l){Ue(o,o.return,l)}}}function fm(n,o){if(o.memoizedState===null&&(n=o.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{No(n)}catch(l){Ue(o,o.return,l)}}function kE(n){switch(n.tag){case 31:case 13:case 19:var o=n.stateNode;return o===null&&(o=n.stateNode=new lm),o;case 22:return n=n.stateNode,o=n._retryCache,o===null&&(o=n._retryCache=new lm),o;default:throw Error(s(435,n.tag))}}function ea(n,o){var l=kE(n);o.forEach(function(r){if(!l.has(r)){l.add(r);var m=JE.bind(null,n,r);r.then(m,m)}})}function Ct(n,o){var l=o.deletions;if(l!==null)for(var r=0;r<l.length;r++){var m=l[r],y=n,E=o,C=E;e:for(;C!==null;){switch(C.tag){case 27:if(si(C.type)){qe=C.stateNode,_t=!1;break e}break;case 5:qe=C.stateNode,_t=!1;break e;case 3:case 4:qe=C.stateNode.containerInfo,_t=!0;break e}C=C.return}if(qe===null)throw Error(s(160));um(y,E,m),qe=null,_t=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)dm(o,n),o=o.sibling}var nn=null;function dm(n,o){var l=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Ct(o,n),At(n),r&4&&(jn(3,n,n.return),Es(3,n),jn(5,n,n.return));break;case 1:Ct(o,n),At(n),r&512&&(nt||l===null||fn(l,l.return)),r&64&&bn&&(n=n.updateQueue,n!==null&&(r=n.callbacks,r!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?r:l.concat(r))));break;case 26:var m=nn;if(Ct(o,n),At(n),r&512&&(nt||l===null||fn(l,l.return)),r&4){var y=l!==null?l.memoizedState:null;if(r=n.memoizedState,l===null)if(r===null)if(n.stateNode===null){e:{r=n.type,l=n.memoizedProps,m=m.ownerDocument||m;t:switch(r){case"title":y=m.getElementsByTagName("title")[0],(!y||y[$o]||y[at]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(r),m.head.insertBefore(y,m.querySelector("head > title"))),ft(y,r,l),y[at]=n,ot(y),r=y;break e;case"link":var E=dg("link","href",m).get(r+(l.href||""));if(E){for(var C=0;C<E.length;C++)if(y=E[C],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){E.splice(C,1);break t}}y=m.createElement(r),ft(y,r,l),m.head.appendChild(y);break;case"meta":if(E=dg("meta","content",m).get(r+(l.content||""))){for(C=0;C<E.length;C++)if(y=E[C],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){E.splice(C,1);break t}}y=m.createElement(r),ft(y,r,l),m.head.appendChild(y);break;default:throw Error(s(468,r))}y[at]=n,ot(y),r=y}n.stateNode=r}else pg(m,n.type,n.stateNode);else n.stateNode=fg(m,r,n.memoizedProps);else y!==r?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,r===null?pg(m,n.type,n.stateNode):fg(m,r,n.memoizedProps)):r===null&&n.stateNode!==null&&Qu(n,n.memoizedProps,l.memoizedProps)}break;case 27:Ct(o,n),At(n),r&512&&(nt||l===null||fn(l,l.return)),l!==null&&r&4&&Qu(n,n.memoizedProps,l.memoizedProps);break;case 5:if(Ct(o,n),At(n),r&512&&(nt||l===null||fn(l,l.return)),n.flags&32){m=n.stateNode;try{Qi(m,"")}catch(oe){Ue(n,n.return,oe)}}r&4&&n.stateNode!=null&&(m=n.memoizedProps,Qu(n,m,l!==null?l.memoizedProps:m)),r&1024&&(ju=!0);break;case 6:if(Ct(o,n),At(n),r&4){if(n.stateNode===null)throw Error(s(162));r=n.memoizedProps,l=n.stateNode;try{l.nodeValue=r}catch(oe){Ue(n,n.return,oe)}}break;case 3:if(ga=null,m=nn,nn=ha(o.containerInfo),Ct(o,n),nn=m,At(n),r&4&&l!==null&&l.memoizedState.isDehydrated)try{No(o.containerInfo)}catch(oe){Ue(n,n.return,oe)}ju&&(ju=!1,pm(n));break;case 4:r=nn,nn=ha(n.stateNode.containerInfo),Ct(o,n),At(n),nn=r;break;case 12:Ct(o,n),At(n);break;case 31:Ct(o,n),At(n),r&4&&(r=n.updateQueue,r!==null&&(n.updateQueue=null,ea(n,r)));break;case 13:Ct(o,n),At(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(na=Rt()),r&4&&(r=n.updateQueue,r!==null&&(n.updateQueue=null,ea(n,r)));break;case 22:m=n.memoizedState!==null;var N=l!==null&&l.memoizedState!==null,k=bn,F=nt;if(bn=k||m,nt=F||N,Ct(o,n),nt=F,bn=k,At(n),r&8192)e:for(o=n.stateNode,o._visibility=m?o._visibility&-2:o._visibility|1,m&&(l===null||N||bn||nt||Ui(n)),l=null,o=n;;){if(o.tag===5||o.tag===26){if(l===null){N=l=o;try{if(y=N.stateNode,m)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{C=N.stateNode;var K=N.memoizedProps.style,G=K!=null&&K.hasOwnProperty("display")?K.display:null;C.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(oe){Ue(N,N.return,oe)}}}else if(o.tag===6){if(l===null){N=o;try{N.stateNode.nodeValue=m?"":N.memoizedProps}catch(oe){Ue(N,N.return,oe)}}}else if(o.tag===18){if(l===null){N=o;try{var B=N.stateNode;m?ng(B,!0):ng(N.stateNode,!1)}catch(oe){Ue(N,N.return,oe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===n)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break e;for(;o.sibling===null;){if(o.return===null||o.return===n)break e;l===o&&(l=null),o=o.return}l===o&&(l=null),o.sibling.return=o.return,o=o.sibling}r&4&&(r=n.updateQueue,r!==null&&(l=r.retryQueue,l!==null&&(r.retryQueue=null,ea(n,l))));break;case 19:Ct(o,n),At(n),r&4&&(r=n.updateQueue,r!==null&&(n.updateQueue=null,ea(n,r)));break;case 30:break;case 21:break;default:Ct(o,n),At(n)}}function At(n){var o=n.flags;if(o&2){try{for(var l,r=n.return;r!==null;){if(om(r)){l=r;break}r=r.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var m=l.stateNode,y=$u(n);Wl(n,y,m);break;case 5:var E=l.stateNode;l.flags&32&&(Qi(E,""),l.flags&=-33);var C=$u(n);Wl(n,C,E);break;case 3:case 4:var N=l.stateNode.containerInfo,k=$u(n);Zu(n,k,N);break;default:throw Error(s(161))}}catch(F){Ue(n,n.return,F)}n.flags&=-3}o&4096&&(n.flags&=-4097)}function pm(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var o=n;pm(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),n=n.sibling}}function Rn(n,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)am(n,o.alternate,o),o=o.sibling}function Ui(n){for(n=n.child;n!==null;){var o=n;switch(o.tag){case 0:case 11:case 14:case 15:jn(4,o,o.return),Ui(o);break;case 1:fn(o,o.return);var l=o.stateNode;typeof l.componentWillUnmount=="function"&&nm(o,o.return,l),Ui(o);break;case 27:Is(o.stateNode);case 26:case 5:fn(o,o.return),Ui(o);break;case 22:o.memoizedState===null&&Ui(o);break;case 30:Ui(o);break;default:Ui(o)}n=n.sibling}}function wn(n,o,l){for(l=l&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var r=o.alternate,m=n,y=o,E=y.flags;switch(y.tag){case 0:case 11:case 15:wn(m,y,l),Es(4,y);break;case 1:if(wn(m,y,l),r=y,m=r.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(k){Ue(r,r.return,k)}if(r=y,m=r.updateQueue,m!==null){var C=r.stateNode;try{var N=m.shared.hiddenCallbacks;if(N!==null)for(m.shared.hiddenCallbacks=null,m=0;m<N.length;m++)Fp(N[m],C)}catch(k){Ue(r,r.return,k)}}l&&E&64&&tm(y),_s(y,y.return);break;case 27:sm(y);case 26:case 5:wn(m,y,l),l&&r===null&&E&4&&im(y),_s(y,y.return);break;case 12:wn(m,y,l);break;case 31:wn(m,y,l),l&&E&4&&cm(m,y);break;case 13:wn(m,y,l),l&&E&4&&fm(m,y);break;case 22:y.memoizedState===null&&wn(m,y,l),_s(y,y.return);break;case 30:break;default:wn(m,y,l)}o=o.sibling}}function Wu(n,o){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(n=o.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&us(l))}function ec(n,o){n=null,o.alternate!==null&&(n=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==n&&(o.refCount++,n!=null&&us(n))}function on(n,o,l,r){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)hm(n,o,l,r),o=o.sibling}function hm(n,o,l,r){var m=o.flags;switch(o.tag){case 0:case 11:case 15:on(n,o,l,r),m&2048&&Es(9,o);break;case 1:on(n,o,l,r);break;case 3:on(n,o,l,r),m&2048&&(n=null,o.alternate!==null&&(n=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==n&&(o.refCount++,n!=null&&us(n)));break;case 12:if(m&2048){on(n,o,l,r),n=o.stateNode;try{var y=o.memoizedProps,E=y.id,C=y.onPostCommit;typeof C=="function"&&C(E,o.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){Ue(o,o.return,N)}}else on(n,o,l,r);break;case 31:on(n,o,l,r);break;case 13:on(n,o,l,r);break;case 23:break;case 22:y=o.stateNode,E=o.alternate,o.memoizedState!==null?y._visibility&2?on(n,o,l,r):Cs(n,o):y._visibility&2?on(n,o,l,r):(y._visibility|=2,go(n,o,l,r,(o.subtreeFlags&10256)!==0||!1)),m&2048&&Wu(E,o);break;case 24:on(n,o,l,r),m&2048&&ec(o.alternate,o);break;default:on(n,o,l,r)}}function go(n,o,l,r,m){for(m=m&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var y=n,E=o,C=l,N=r,k=E.flags;switch(E.tag){case 0:case 11:case 15:go(y,E,C,N,m),Es(8,E);break;case 23:break;case 22:var F=E.stateNode;E.memoizedState!==null?F._visibility&2?go(y,E,C,N,m):Cs(y,E):(F._visibility|=2,go(y,E,C,N,m)),m&&k&2048&&Wu(E.alternate,E);break;case 24:go(y,E,C,N,m),m&&k&2048&&ec(E.alternate,E);break;default:go(y,E,C,N,m)}o=o.sibling}}function Cs(n,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var l=n,r=o,m=r.flags;switch(r.tag){case 22:Cs(l,r),m&2048&&Wu(r.alternate,r);break;case 24:Cs(l,r),m&2048&&ec(r.alternate,r);break;default:Cs(l,r)}o=o.sibling}}var As=8192;function yo(n,o,l){if(n.subtreeFlags&As)for(n=n.child;n!==null;)mm(n,o,l),n=n.sibling}function mm(n,o,l){switch(n.tag){case 26:yo(n,o,l),n.flags&As&&n.memoizedState!==null&&__(l,nn,n.memoizedState,n.memoizedProps);break;case 5:yo(n,o,l);break;case 3:case 4:var r=nn;nn=ha(n.stateNode.containerInfo),yo(n,o,l),nn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=As,As=16777216,yo(n,o,l),As=r):yo(n,o,l));break;default:yo(n,o,l)}}function gm(n){var o=n.alternate;if(o!==null&&(n=o.child,n!==null)){o.child=null;do o=n.sibling,n.sibling=null,n=o;while(n!==null)}}function bs(n){var o=n.deletions;if((n.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var r=o[l];st=r,vm(r,n)}gm(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ym(n),n=n.sibling}function ym(n){switch(n.tag){case 0:case 11:case 15:bs(n),n.flags&2048&&jn(9,n,n.return);break;case 3:bs(n);break;case 12:bs(n);break;case 22:var o=n.stateNode;n.memoizedState!==null&&o._visibility&2&&(n.return===null||n.return.tag!==13)?(o._visibility&=-3,ta(n)):bs(n);break;default:bs(n)}}function ta(n){var o=n.deletions;if((n.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var r=o[l];st=r,vm(r,n)}gm(n)}for(n=n.child;n!==null;){switch(o=n,o.tag){case 0:case 11:case 15:jn(8,o,o.return),ta(o);break;case 22:l=o.stateNode,l._visibility&2&&(l._visibility&=-3,ta(o));break;default:ta(o)}n=n.sibling}}function vm(n,o){for(;st!==null;){var l=st;switch(l.tag){case 0:case 11:case 15:jn(8,l,o);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var r=l.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:us(l.memoizedState.cache)}if(r=l.child,r!==null)r.return=l,st=r;else e:for(l=n;st!==null;){r=st;var m=r.sibling,y=r.return;if(rm(r),r===l){st=null;break e}if(m!==null){m.return=y,st=m;break e}st=y}}}var GE={getCacheForType:function(n){var o=ut(We),l=o.data.get(n);return l===void 0&&(l=n(),o.data.set(n,l)),l},cacheSignal:function(){return ut(We).controller.signal}},BE=typeof WeakMap=="function"?WeakMap:Map,De=0,ke=null,Ee=null,Ce=0,Ie=0,Pt=null,Wn=!1,vo=!1,tc=!1,Mn=0,Ke=0,ei=0,Li=0,nc=0,Vt=0,To=0,Ns=null,bt=null,ic=!1,na=0,Tm=0,ia=1/0,oa=null,ti=null,it=0,ni=null,xo=null,Dn=0,oc=0,sc=null,xm=null,Rs=0,lc=null;function kt(){return(De&2)!==0&&Ce!==0?Ce&-Ce:L.T!==null?dc():Vd()}function Sm(){if(Vt===0)if((Ce&536870912)===0||be){var n=dl;dl<<=1,(dl&3932160)===0&&(dl=262144),Vt=n}else Vt=536870912;return n=Ut.current,n!==null&&(n.flags|=32),Vt}function Nt(n,o,l){(n===ke&&(Ie===2||Ie===9)||n.cancelPendingCommit!==null)&&(So(n,0),ii(n,Ce,Vt,!1)),Qo(n,l),((De&2)===0||n!==ke)&&(n===ke&&((De&2)===0&&(Li|=l),Ke===4&&ii(n,Ce,Vt,!1)),dn(n))}function Em(n,o,l){if((De&6)!==0)throw Error(s(327));var r=!l&&(o&127)===0&&(o&n.expiredLanes)===0||Xo(n,o),m=r?OE(n,o):rc(n,o,!0),y=r;do{if(m===0){vo&&!r&&ii(n,o,0,!1);break}else{if(l=n.current.alternate,y&&!HE(l)){m=rc(n,o,!1),y=!1;continue}if(m===2){if(y=o,n.errorRecoveryDisabledLanes&y)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){o=E;e:{var C=n;m=Ns;var N=C.current.memoizedState.isDehydrated;if(N&&(So(C,E).flags|=256),E=rc(C,E,!1),E!==2){if(tc&&!N){C.errorRecoveryDisabledLanes|=y,Li|=y,m=4;break e}y=bt,bt=m,y!==null&&(bt===null?bt=y:bt.push.apply(bt,y))}m=E}if(y=!1,m!==2)continue}}if(m===1){So(n,0),ii(n,o,0,!0);break}e:{switch(r=n,y=m,y){case 0:case 1:throw Error(s(345));case 4:if((o&4194048)!==o)break;case 6:ii(r,o,Vt,!Wn);break e;case 2:bt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((o&62914560)===o&&(m=na+300-Rt(),10<m)){if(ii(r,o,Vt,!Wn),hl(r,0,!0)!==0)break e;Dn=o,r.timeoutHandle=Wm(_m.bind(null,r,l,bt,oa,ic,o,Vt,Li,To,Wn,y,"Throttled",-0,0),m);break e}_m(r,l,bt,oa,ic,o,Vt,Li,To,Wn,y,null,-0,0)}}break}while(!0);dn(n)}function _m(n,o,l,r,m,y,E,C,N,k,F,K,G,B){if(n.timeoutHandle=-1,K=o.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gn},mm(o,y,K);var oe=(y&62914560)===y?na-Rt():(y&4194048)===y?Tm-Rt():0;if(oe=C_(K,oe),oe!==null){Dn=y,n.cancelPendingCommit=oe(Dm.bind(null,n,o,y,l,r,m,E,C,N,F,K,null,G,B)),ii(n,y,E,!k);return}}Dm(n,o,y,l,r,m,E,C,N)}function HE(n){for(var o=n;;){var l=o.tag;if((l===0||l===11||l===15)&&o.flags&16384&&(l=o.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var r=0;r<l.length;r++){var m=l[r],y=m.getSnapshot;m=m.value;try{if(!Dt(y(),m))return!1}catch{return!1}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ii(n,o,l,r){o&=~nc,o&=~Li,n.suspendedLanes|=o,n.pingedLanes&=~o,r&&(n.warmLanes|=o),r=n.expirationTimes;for(var m=o;0<m;){var y=31-Mt(m),E=1<<y;r[y]=-1,m&=~E}l!==0&&Ud(n,l,o)}function sa(){return(De&6)===0?(ws(0),!1):!0}function ac(){if(Ee!==null){if(Ie===0)var n=Ee.return;else n=Ee,xn=Ai=null,_u(n),co=null,fs=0,n=Ee;for(;n!==null;)em(n.alternate,n),n=n.return;Ee=null}}function So(n,o){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,l_(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),Dn=0,ac(),ke=n,Ee=l=vn(n.current,null),Ce=o,Ie=0,Pt=null,Wn=!1,vo=Xo(n,o),tc=!1,To=Vt=nc=Li=ei=Ke=0,bt=Ns=null,ic=!1,(o&8)!==0&&(o|=o&32);var r=n.entangledLanes;if(r!==0)for(n=n.entanglements,r&=o;0<r;){var m=31-Mt(r),y=1<<m;o|=n[m],r&=~y}return Mn=o,bl(),l}function Cm(n,o){ve=null,L.H=Ts,o===uo||o===Ll?(o=Hp(),Ie=3):o===fu?(o=Hp(),Ie=4):Ie=o===Bu?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Pt=o,Ee===null&&(Ke=1,Xl(n,Ft(o,n.current)))}function Am(){var n=Ut.current;return n===null?!0:(Ce&4194048)===Ce?Xt===null:(Ce&62914560)===Ce||(Ce&536870912)!==0?n===Xt:!1}function bm(){var n=L.H;return L.H=Ts,n===null?Ts:n}function Nm(){var n=L.A;return L.A=GE,n}function la(){Ke=4,Wn||(Ce&4194048)!==Ce&&Ut.current!==null||(vo=!0),(ei&134217727)===0&&(Li&134217727)===0||ke===null||ii(ke,Ce,Vt,!1)}function rc(n,o,l){var r=De;De|=2;var m=bm(),y=Nm();(ke!==n||Ce!==o)&&(oa=null,So(n,o)),o=!1;var E=Ke;e:do try{if(Ie!==0&&Ee!==null){var C=Ee,N=Pt;switch(Ie){case 8:ac(),E=6;break e;case 3:case 2:case 9:case 6:Ut.current===null&&(o=!0);var k=Ie;if(Ie=0,Pt=null,Eo(n,C,N,k),l&&vo){E=0;break e}break;default:k=Ie,Ie=0,Pt=null,Eo(n,C,N,k)}}zE(),E=Ke;break}catch(F){Cm(n,F)}while(!0);return o&&n.shellSuspendCounter++,xn=Ai=null,De=r,L.H=m,L.A=y,Ee===null&&(ke=null,Ce=0,bl()),E}function zE(){for(;Ee!==null;)Rm(Ee)}function OE(n,o){var l=De;De|=2;var r=bm(),m=Nm();ke!==n||Ce!==o?(oa=null,ia=Rt()+500,So(n,o)):vo=Xo(n,o);e:do try{if(Ie!==0&&Ee!==null){o=Ee;var y=Pt;t:switch(Ie){case 1:Ie=0,Pt=null,Eo(n,o,y,1);break;case 2:case 9:if(Gp(y)){Ie=0,Pt=null,wm(o);break}o=function(){Ie!==2&&Ie!==9||ke!==n||(Ie=7),dn(n)},y.then(o,o);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:Gp(y)?(Ie=0,Pt=null,wm(o)):(Ie=0,Pt=null,Eo(n,o,y,7));break;case 5:var E=null;switch(Ee.tag){case 26:E=Ee.memoizedState;case 5:case 27:var C=Ee;if(E?hg(E):C.stateNode.complete){Ie=0,Pt=null;var N=C.sibling;if(N!==null)Ee=N;else{var k=C.return;k!==null?(Ee=k,aa(k)):Ee=null}break t}}Ie=0,Pt=null,Eo(n,o,y,5);break;case 6:Ie=0,Pt=null,Eo(n,o,y,6);break;case 8:ac(),Ke=6;break e;default:throw Error(s(462))}}qE();break}catch(F){Cm(n,F)}while(!0);return xn=Ai=null,L.H=r,L.A=m,De=l,Ee!==null?0:(ke=null,Ce=0,bl(),Ke)}function qE(){for(;Ee!==null&&!dS();)Rm(Ee)}function Rm(n){var o=jh(n.alternate,n,Mn);n.memoizedProps=n.pendingProps,o===null?aa(n):Ee=o}function wm(n){var o=n,l=o.alternate;switch(o.tag){case 15:case 0:o=Jh(l,o,o.pendingProps,o.type,void 0,Ce);break;case 11:o=Jh(l,o,o.pendingProps,o.type.render,o.ref,Ce);break;case 5:_u(o);default:em(l,o),o=Ee=Np(o,Mn),o=jh(l,o,Mn)}n.memoizedProps=n.pendingProps,o===null?aa(n):Ee=o}function Eo(n,o,l,r){xn=Ai=null,_u(o),co=null,fs=0;var m=o.return;try{if(DE(n,m,o,l,Ce)){Ke=1,Xl(n,Ft(l,n.current)),Ee=null;return}}catch(y){if(m!==null)throw Ee=m,y;Ke=1,Xl(n,Ft(l,n.current)),Ee=null;return}o.flags&32768?(be||r===1?n=!0:vo||(Ce&536870912)!==0?n=!1:(Wn=n=!0,(r===2||r===9||r===3||r===6)&&(r=Ut.current,r!==null&&r.tag===13&&(r.flags|=16384))),Mm(o,n)):aa(o)}function aa(n){var o=n;do{if((o.flags&32768)!==0){Mm(o,Wn);return}n=o.return;var l=LE(o.alternate,o,Mn);if(l!==null){Ee=l;return}if(o=o.sibling,o!==null){Ee=o;return}Ee=o=n}while(o!==null);Ke===0&&(Ke=5)}function Mm(n,o){do{var l=PE(n.alternate,n);if(l!==null){l.flags&=32767,Ee=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!o&&(n=n.sibling,n!==null)){Ee=n;return}Ee=n=l}while(n!==null);Ke=6,Ee=null}function Dm(n,o,l,r,m,y,E,C,N){n.cancelPendingCommit=null;do ra();while(it!==0);if((De&6)!==0)throw Error(s(327));if(o!==null){if(o===n.current)throw Error(s(177));if(y=o.lanes|o.childLanes,y|=$r,ES(n,l,y,E,C,N),n===ke&&(Ee=ke=null,Ce=0),xo=o,ni=n,Dn=l,oc=y,sc=m,xm=r,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,KE(cl,function(){return Vm(),null})):(n.callbackNode=null,n.callbackPriority=0),r=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||r){r=L.T,L.T=null,m=$.p,$.p=2,E=De,De|=4;try{VE(n,o,l)}finally{De=E,$.p=m,L.T=r}}it=1,Im(),Um(),Lm()}}function Im(){if(it===1){it=0;var n=ni,o=xo,l=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||l){l=L.T,L.T=null;var r=$.p;$.p=2;var m=De;De|=4;try{dm(o,n);var y=xc,E=vp(n.containerInfo),C=y.focusedElem,N=y.selectionRange;if(E!==C&&C&&C.ownerDocument&&yp(C.ownerDocument.documentElement,C)){if(N!==null&&Yr(C)){var k=N.start,F=N.end;if(F===void 0&&(F=k),"selectionStart"in C)C.selectionStart=k,C.selectionEnd=Math.min(F,C.value.length);else{var K=C.ownerDocument||document,G=K&&K.defaultView||window;if(G.getSelection){var B=G.getSelection(),oe=C.textContent.length,ce=Math.min(N.start,oe),Ve=N.end===void 0?ce:Math.min(N.end,oe);!B.extend&&ce>Ve&&(E=Ve,Ve=ce,ce=E);var I=gp(C,ce),D=gp(C,Ve);if(I&&D&&(B.rangeCount!==1||B.anchorNode!==I.node||B.anchorOffset!==I.offset||B.focusNode!==D.node||B.focusOffset!==D.offset)){var V=K.createRange();V.setStart(I.node,I.offset),B.removeAllRanges(),ce>Ve?(B.addRange(V),B.extend(D.node,D.offset)):(V.setEnd(D.node,D.offset),B.addRange(V))}}}}for(K=[],B=C;B=B.parentNode;)B.nodeType===1&&K.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<K.length;C++){var Y=K[C];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}xa=!!Tc,xc=Tc=null}finally{De=m,$.p=r,L.T=l}}n.current=o,it=2}}function Um(){if(it===2){it=0;var n=ni,o=xo,l=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||l){l=L.T,L.T=null;var r=$.p;$.p=2;var m=De;De|=4;try{am(n,o.alternate,o)}finally{De=m,$.p=r,L.T=l}}it=3}}function Lm(){if(it===4||it===3){it=0,pS();var n=ni,o=xo,l=Dn,r=xm;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?it=5:(it=0,xo=ni=null,Pm(n,n.pendingLanes));var m=n.pendingLanes;if(m===0&&(ti=null),br(l),o=o.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(Ko,o,void 0,(o.current.flags&128)===128)}catch{}if(r!==null){o=L.T,m=$.p,$.p=2,L.T=null;try{for(var y=n.onRecoverableError,E=0;E<r.length;E++){var C=r[E];y(C.value,{componentStack:C.stack})}}finally{L.T=o,$.p=m}}(Dn&3)!==0&&ra(),dn(n),m=n.pendingLanes,(l&261930)!==0&&(m&42)!==0?n===lc?Rs++:(Rs=0,lc=n):Rs=0,ws(0)}}function Pm(n,o){(n.pooledCacheLanes&=o)===0&&(o=n.pooledCache,o!=null&&(n.pooledCache=null,us(o)))}function ra(){return Im(),Um(),Lm(),Vm()}function Vm(){if(it!==5)return!1;var n=ni,o=oc;oc=0;var l=br(Dn),r=L.T,m=$.p;try{$.p=32>l?32:l,L.T=null,l=sc,sc=null;var y=ni,E=Dn;if(it=0,xo=ni=null,Dn=0,(De&6)!==0)throw Error(s(331));var C=De;if(De|=4,ym(y.current),hm(y,y.current,E,l),De=C,ws(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(Ko,y)}catch{}return!0}finally{$.p=m,L.T=r,Pm(n,o)}}function km(n,o,l){o=Ft(l,o),o=Gu(n.stateNode,o,2),n=Qn(n,o,2),n!==null&&(Qo(n,2),dn(n))}function Ue(n,o,l){if(n.tag===3)km(n,n,l);else for(;o!==null;){if(o.tag===3){km(o,n,l);break}else if(o.tag===1){var r=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ti===null||!ti.has(r))){n=Ft(l,n),l=Gh(2),r=Qn(o,l,2),r!==null&&(Bh(l,r,o,n),Qo(r,2),dn(r));break}}o=o.return}}function uc(n,o,l){var r=n.pingCache;if(r===null){r=n.pingCache=new BE;var m=new Set;r.set(o,m)}else m=r.get(o),m===void 0&&(m=new Set,r.set(o,m));m.has(l)||(tc=!0,m.add(l),n=FE.bind(null,n,o,l),o.then(n,n))}function FE(n,o,l){var r=n.pingCache;r!==null&&r.delete(o),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,ke===n&&(Ce&l)===l&&(Ke===4||Ke===3&&(Ce&62914560)===Ce&&300>Rt()-na?(De&2)===0&&So(n,0):nc|=l,To===Ce&&(To=0)),dn(n)}function Gm(n,o){o===0&&(o=Id()),n=Ei(n,o),n!==null&&(Qo(n,o),dn(n))}function YE(n){var o=n.memoizedState,l=0;o!==null&&(l=o.retryLane),Gm(n,l)}function JE(n,o){var l=0;switch(n.tag){case 31:case 13:var r=n.stateNode,m=n.memoizedState;m!==null&&(l=m.retryLane);break;case 19:r=n.stateNode;break;case 22:r=n.stateNode._retryCache;break;default:throw Error(s(314))}r!==null&&r.delete(o),Gm(n,l)}function KE(n,o){return Er(n,o)}var ua=null,_o=null,cc=!1,ca=!1,fc=!1,oi=0;function dn(n){n!==_o&&n.next===null&&(_o===null?ua=_o=n:_o=_o.next=n),ca=!0,cc||(cc=!0,QE())}function ws(n,o){if(!fc&&ca){fc=!0;do for(var l=!1,r=ua;r!==null;){if(n!==0){var m=r.pendingLanes;if(m===0)var y=0;else{var E=r.suspendedLanes,C=r.pingedLanes;y=(1<<31-Mt(42|n)+1)-1,y&=m&~(E&~C),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,Om(r,y))}else y=Ce,y=hl(r,r===ke?y:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(y&3)===0||Xo(r,y)||(l=!0,Om(r,y));r=r.next}while(l);fc=!1}}function XE(){Bm()}function Bm(){ca=cc=!1;var n=0;oi!==0&&s_()&&(n=oi);for(var o=Rt(),l=null,r=ua;r!==null;){var m=r.next,y=Hm(r,o);y===0?(r.next=null,l===null?ua=m:l.next=m,m===null&&(_o=l)):(l=r,(n!==0||(y&3)!==0)&&(ca=!0)),r=m}it!==0&&it!==5||ws(n),oi!==0&&(oi=0)}function Hm(n,o){for(var l=n.suspendedLanes,r=n.pingedLanes,m=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var E=31-Mt(y),C=1<<E,N=m[E];N===-1?((C&l)===0||(C&r)!==0)&&(m[E]=SS(C,o)):N<=o&&(n.expiredLanes|=C),y&=~C}if(o=ke,l=Ce,l=hl(n,n===o?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),r=n.callbackNode,l===0||n===o&&(Ie===2||Ie===9)||n.cancelPendingCommit!==null)return r!==null&&r!==null&&_r(r),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||Xo(n,l)){if(o=l&-l,o===n.callbackPriority)return o;switch(r!==null&&_r(r),br(l)){case 2:case 8:l=Md;break;case 32:l=cl;break;case 268435456:l=Dd;break;default:l=cl}return r=zm.bind(null,n),l=Er(l,r),n.callbackPriority=o,n.callbackNode=l,o}return r!==null&&r!==null&&_r(r),n.callbackPriority=2,n.callbackNode=null,2}function zm(n,o){if(it!==0&&it!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(ra()&&n.callbackNode!==l)return null;var r=Ce;return r=hl(n,n===ke?r:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),r===0?null:(Em(n,r,o),Hm(n,Rt()),n.callbackNode!=null&&n.callbackNode===l?zm.bind(null,n):null)}function Om(n,o){if(ra())return null;Em(n,o,!0)}function QE(){a_(function(){(De&6)!==0?Er(wd,XE):Bm()})}function dc(){if(oi===0){var n=ao;n===0&&(n=fl,fl<<=1,(fl&261888)===0&&(fl=256)),oi=n}return oi}function qm(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:vl(""+n)}function Fm(n,o){var l=o.ownerDocument.createElement("input");return l.name=o.name,l.value=o.value,n.id&&l.setAttribute("form",n.id),o.parentNode.insertBefore(l,o),n=new FormData(n),l.parentNode.removeChild(l),n}function $E(n,o,l,r,m){if(o==="submit"&&l&&l.stateNode===m){var y=qm((m[St]||null).action),E=r.submitter;E&&(o=(o=E[St]||null)?qm(o.formAction):E.getAttribute("formAction"),o!==null&&(y=o,E=null));var C=new El("action","action",null,r,m);n.push({event:C,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(oi!==0){var N=E?Fm(m,E):new FormData(m);Iu(l,{pending:!0,data:N,method:m.method,action:y},null,N)}}else typeof y=="function"&&(C.preventDefault(),N=E?Fm(m,E):new FormData(m),Iu(l,{pending:!0,data:N,method:m.method,action:y},y,N))},currentTarget:m}]})}}for(var pc=0;pc<Qr.length;pc++){var hc=Qr[pc],ZE=hc.toLowerCase(),jE=hc[0].toUpperCase()+hc.slice(1);tn(ZE,"on"+jE)}tn(Sp,"onAnimationEnd"),tn(Ep,"onAnimationIteration"),tn(_p,"onAnimationStart"),tn("dblclick","onDoubleClick"),tn("focusin","onFocus"),tn("focusout","onBlur"),tn(hE,"onTransitionRun"),tn(mE,"onTransitionStart"),tn(gE,"onTransitionCancel"),tn(Cp,"onTransitionEnd"),Ki("onMouseEnter",["mouseout","mouseover"]),Ki("onMouseLeave",["mouseout","mouseover"]),Ki("onPointerEnter",["pointerout","pointerover"]),Ki("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ms));function Ym(n,o){o=(o&4)!==0;for(var l=0;l<n.length;l++){var r=n[l],m=r.event;r=r.listeners;e:{var y=void 0;if(o)for(var E=r.length-1;0<=E;E--){var C=r[E],N=C.instance,k=C.currentTarget;if(C=C.listener,N!==y&&m.isPropagationStopped())break e;y=C,m.currentTarget=k;try{y(m)}catch(F){Al(F)}m.currentTarget=null,y=N}else for(E=0;E<r.length;E++){if(C=r[E],N=C.instance,k=C.currentTarget,C=C.listener,N!==y&&m.isPropagationStopped())break e;y=C,m.currentTarget=k;try{y(m)}catch(F){Al(F)}m.currentTarget=null,y=N}}}}function _e(n,o){var l=o[Nr];l===void 0&&(l=o[Nr]=new Set);var r=n+"__bubble";l.has(r)||(Jm(o,n,2,!1),l.add(r))}function mc(n,o,l){var r=0;o&&(r|=4),Jm(l,n,r,o)}var fa="_reactListening"+Math.random().toString(36).slice(2);function gc(n){if(!n[fa]){n[fa]=!0,Bd.forEach(function(l){l!=="selectionchange"&&(WE.has(l)||mc(l,!1,n),mc(l,!0,n))});var o=n.nodeType===9?n:n.ownerDocument;o===null||o[fa]||(o[fa]=!0,mc("selectionchange",!1,o))}}function Jm(n,o,l,r){switch(Sg(o)){case 2:var m=N_;break;case 8:m=R_;break;default:m=Dc}l=m.bind(null,o,l,n),m=void 0,!Vr||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),r?m!==void 0?n.addEventListener(o,l,{capture:!0,passive:m}):n.addEventListener(o,l,!0):m!==void 0?n.addEventListener(o,l,{passive:m}):n.addEventListener(o,l,!1)}function yc(n,o,l,r,m){var y=r;if((o&1)===0&&(o&2)===0&&r!==null)e:for(;;){if(r===null)return;var E=r.tag;if(E===3||E===4){var C=r.stateNode.containerInfo;if(C===m)break;if(E===4)for(E=r.return;E!==null;){var N=E.tag;if((N===3||N===4)&&E.stateNode.containerInfo===m)return;E=E.return}for(;C!==null;){if(E=Fi(C),E===null)return;if(N=E.tag,N===5||N===6||N===26||N===27){r=y=E;continue e}C=C.parentNode}}r=r.return}Zd(function(){var k=y,F=Lr(l),K=[];e:{var G=Ap.get(n);if(G!==void 0){var B=El,oe=n;switch(n){case"keypress":if(xl(l)===0)break e;case"keydown":case"keyup":B=JS;break;case"focusin":oe="focus",B=Hr;break;case"focusout":oe="blur",B=Hr;break;case"beforeblur":case"afterblur":B=Hr;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=ep;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=LS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=QS;break;case Sp:case Ep:case _p:B=kS;break;case Cp:B=ZS;break;case"scroll":case"scrollend":B=IS;break;case"wheel":B=WS;break;case"copy":case"cut":case"paste":B=BS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=np;break;case"toggle":case"beforetoggle":B=tE}var ce=(o&4)!==0,Ve=!ce&&(n==="scroll"||n==="scrollend"),I=ce?G!==null?G+"Capture":null:G;ce=[];for(var D=k,V;D!==null;){var Y=D;if(V=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||V===null||I===null||(Y=jo(D,I),Y!=null&&ce.push(Ds(D,Y,V))),Ve)break;D=D.return}0<ce.length&&(G=new B(G,oe,null,l,F),K.push({event:G,listeners:ce}))}}if((o&7)===0){e:{if(G=n==="mouseover"||n==="pointerover",B=n==="mouseout"||n==="pointerout",G&&l!==Ur&&(oe=l.relatedTarget||l.fromElement)&&(Fi(oe)||oe[qi]))break e;if((B||G)&&(G=F.window===F?F:(G=F.ownerDocument)?G.defaultView||G.parentWindow:window,B?(oe=l.relatedTarget||l.toElement,B=k,oe=oe?Fi(oe):null,oe!==null&&(Ve=u(oe),ce=oe.tag,oe!==Ve||ce!==5&&ce!==27&&ce!==6)&&(oe=null)):(B=null,oe=k),B!==oe)){if(ce=ep,Y="onMouseLeave",I="onMouseEnter",D="mouse",(n==="pointerout"||n==="pointerover")&&(ce=np,Y="onPointerLeave",I="onPointerEnter",D="pointer"),Ve=B==null?G:Zo(B),V=oe==null?G:Zo(oe),G=new ce(Y,D+"leave",B,l,F),G.target=Ve,G.relatedTarget=V,Y=null,Fi(F)===k&&(ce=new ce(I,D+"enter",oe,l,F),ce.target=V,ce.relatedTarget=Ve,Y=ce),Ve=Y,B&&oe)t:{for(ce=e_,I=B,D=oe,V=0,Y=I;Y;Y=ce(Y))V++;Y=0;for(var ae=D;ae;ae=ce(ae))Y++;for(;0<V-Y;)I=ce(I),V--;for(;0<Y-V;)D=ce(D),Y--;for(;V--;){if(I===D||D!==null&&I===D.alternate){ce=I;break t}I=ce(I),D=ce(D)}ce=null}else ce=null;B!==null&&Km(K,G,B,ce,!1),oe!==null&&Ve!==null&&Km(K,Ve,oe,ce,!0)}}e:{if(G=k?Zo(k):window,B=G.nodeName&&G.nodeName.toLowerCase(),B==="select"||B==="input"&&G.type==="file")var Re=cp;else if(rp(G))if(fp)Re=fE;else{Re=uE;var le=rE}else B=G.nodeName,!B||B.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?k&&Ir(k.elementType)&&(Re=cp):Re=cE;if(Re&&(Re=Re(n,k))){up(K,Re,l,F);break e}le&&le(n,G,k),n==="focusout"&&k&&G.type==="number"&&k.memoizedProps.value!=null&&Dr(G,"number",G.value)}switch(le=k?Zo(k):window,n){case"focusin":(rp(le)||le.contentEditable==="true")&&(Wi=le,Jr=k,ls=null);break;case"focusout":ls=Jr=Wi=null;break;case"mousedown":Kr=!0;break;case"contextmenu":case"mouseup":case"dragend":Kr=!1,Tp(K,l,F);break;case"selectionchange":if(pE)break;case"keydown":case"keyup":Tp(K,l,F)}var xe;if(Or)e:{switch(n){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else ji?lp(n,l)&&(Ae="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Ae="onCompositionStart");Ae&&(ip&&l.locale!=="ko"&&(ji||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&ji&&(xe=jd()):(On=F,kr="value"in On?On.value:On.textContent,ji=!0)),le=da(k,Ae),0<le.length&&(Ae=new tp(Ae,n,null,l,F),K.push({event:Ae,listeners:le}),xe?Ae.data=xe:(xe=ap(l),xe!==null&&(Ae.data=xe)))),(xe=iE?oE(n,l):sE(n,l))&&(Ae=da(k,"onBeforeInput"),0<Ae.length&&(le=new tp("onBeforeInput","beforeinput",null,l,F),K.push({event:le,listeners:Ae}),le.data=xe)),$E(K,n,k,l,F)}Ym(K,o)})}function Ds(n,o,l){return{instance:n,listener:o,currentTarget:l}}function da(n,o){for(var l=o+"Capture",r=[];n!==null;){var m=n,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=jo(n,l),m!=null&&r.unshift(Ds(n,m,y)),m=jo(n,o),m!=null&&r.push(Ds(n,m,y))),n.tag===3)return r;n=n.return}return[]}function e_(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Km(n,o,l,r,m){for(var y=o._reactName,E=[];l!==null&&l!==r;){var C=l,N=C.alternate,k=C.stateNode;if(C=C.tag,N!==null&&N===r)break;C!==5&&C!==26&&C!==27||k===null||(N=k,m?(k=jo(l,y),k!=null&&E.unshift(Ds(l,k,N))):m||(k=jo(l,y),k!=null&&E.push(Ds(l,k,N)))),l=l.return}E.length!==0&&n.push({event:o,listeners:E})}var t_=/\r\n?/g,n_=/\u0000|\uFFFD/g;function Xm(n){return(typeof n=="string"?n:""+n).replace(t_,`
`).replace(n_,"")}function Qm(n,o){return o=Xm(o),Xm(n)===o}function Pe(n,o,l,r,m,y){switch(l){case"children":typeof r=="string"?o==="body"||o==="textarea"&&r===""||Qi(n,r):(typeof r=="number"||typeof r=="bigint")&&o!=="body"&&Qi(n,""+r);break;case"className":gl(n,"class",r);break;case"tabIndex":gl(n,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":gl(n,l,r);break;case"style":Qd(n,r,y);break;case"data":if(o!=="object"){gl(n,"data",r);break}case"src":case"href":if(r===""&&(o!=="a"||l!=="href")){n.removeAttribute(l);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){n.removeAttribute(l);break}r=vl(""+r),n.setAttribute(l,r);break;case"action":case"formAction":if(typeof r=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(o!=="input"&&Pe(n,o,"name",m.name,m,null),Pe(n,o,"formEncType",m.formEncType,m,null),Pe(n,o,"formMethod",m.formMethod,m,null),Pe(n,o,"formTarget",m.formTarget,m,null)):(Pe(n,o,"encType",m.encType,m,null),Pe(n,o,"method",m.method,m,null),Pe(n,o,"target",m.target,m,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){n.removeAttribute(l);break}r=vl(""+r),n.setAttribute(l,r);break;case"onClick":r!=null&&(n.onclick=gn);break;case"onScroll":r!=null&&_e("scroll",n);break;case"onScrollEnd":r!=null&&_e("scrollend",n);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(l=r.__html,l!=null){if(m.children!=null)throw Error(s(60));n.innerHTML=l}}break;case"multiple":n.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":n.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){n.removeAttribute("xlink:href");break}l=vl(""+r),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?n.setAttribute(l,""+r):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":r===!0?n.setAttribute(l,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?n.setAttribute(l,r):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?n.setAttribute(l,r):n.removeAttribute(l);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?n.removeAttribute(l):n.setAttribute(l,r);break;case"popover":_e("beforetoggle",n),_e("toggle",n),ml(n,"popover",r);break;case"xlinkActuate":mn(n,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":mn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":mn(n,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":mn(n,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":mn(n,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":mn(n,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":mn(n,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":mn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":mn(n,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ml(n,"is",r);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=MS.get(l)||l,ml(n,l,r))}}function vc(n,o,l,r,m,y){switch(l){case"style":Qd(n,r,y);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(l=r.__html,l!=null){if(m.children!=null)throw Error(s(60));n.innerHTML=l}}break;case"children":typeof r=="string"?Qi(n,r):(typeof r=="number"||typeof r=="bigint")&&Qi(n,""+r);break;case"onScroll":r!=null&&_e("scroll",n);break;case"onScrollEnd":r!=null&&_e("scrollend",n);break;case"onClick":r!=null&&(n.onclick=gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hd.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),o=l.slice(2,m?l.length-7:void 0),y=n[St]||null,y=y!=null?y[l]:null,typeof y=="function"&&n.removeEventListener(o,y,m),typeof r=="function")){typeof y!="function"&&y!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(o,r,m);break e}l in n?n[l]=r:r===!0?n.setAttribute(l,""):ml(n,l,r)}}}function ft(n,o,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",n),_e("load",n);var r=!1,m=!1,y;for(y in l)if(l.hasOwnProperty(y)){var E=l[y];if(E!=null)switch(y){case"src":r=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:Pe(n,o,y,E,l,null)}}m&&Pe(n,o,"srcSet",l.srcSet,l,null),r&&Pe(n,o,"src",l.src,l,null);return;case"input":_e("invalid",n);var C=y=E=m=null,N=null,k=null;for(r in l)if(l.hasOwnProperty(r)){var F=l[r];if(F!=null)switch(r){case"name":m=F;break;case"type":E=F;break;case"checked":N=F;break;case"defaultChecked":k=F;break;case"value":y=F;break;case"defaultValue":C=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,o));break;default:Pe(n,o,r,F,l,null)}}Yd(n,y,C,N,k,E,m,!1);return;case"select":_e("invalid",n),r=E=y=null;for(m in l)if(l.hasOwnProperty(m)&&(C=l[m],C!=null))switch(m){case"value":y=C;break;case"defaultValue":E=C;break;case"multiple":r=C;default:Pe(n,o,m,C,l,null)}o=y,l=E,n.multiple=!!r,o!=null?Xi(n,!!r,o,!1):l!=null&&Xi(n,!!r,l,!0);return;case"textarea":_e("invalid",n),y=m=r=null;for(E in l)if(l.hasOwnProperty(E)&&(C=l[E],C!=null))switch(E){case"value":r=C;break;case"defaultValue":m=C;break;case"children":y=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:Pe(n,o,E,C,l,null)}Kd(n,r,m,y);return;case"option":for(N in l)if(l.hasOwnProperty(N)&&(r=l[N],r!=null))switch(N){case"selected":n.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Pe(n,o,N,r,l,null)}return;case"dialog":_e("beforetoggle",n),_e("toggle",n),_e("cancel",n),_e("close",n);break;case"iframe":case"object":_e("load",n);break;case"video":case"audio":for(r=0;r<Ms.length;r++)_e(Ms[r],n);break;case"image":_e("error",n),_e("load",n);break;case"details":_e("toggle",n);break;case"embed":case"source":case"link":_e("error",n),_e("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in l)if(l.hasOwnProperty(k)&&(r=l[k],r!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:Pe(n,o,k,r,l,null)}return;default:if(Ir(o)){for(F in l)l.hasOwnProperty(F)&&(r=l[F],r!==void 0&&vc(n,o,F,r,l,void 0));return}}for(C in l)l.hasOwnProperty(C)&&(r=l[C],r!=null&&Pe(n,o,C,r,l,null))}function i_(n,o,l,r){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,E=null,C=null,N=null,k=null,F=null;for(B in l){var K=l[B];if(l.hasOwnProperty(B)&&K!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":N=K;default:r.hasOwnProperty(B)||Pe(n,o,B,null,r,K)}}for(var G in r){var B=r[G];if(K=l[G],r.hasOwnProperty(G)&&(B!=null||K!=null))switch(G){case"type":y=B;break;case"name":m=B;break;case"checked":k=B;break;case"defaultChecked":F=B;break;case"value":E=B;break;case"defaultValue":C=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,o));break;default:B!==K&&Pe(n,o,G,B,r,K)}}Mr(n,E,C,N,k,F,y,m);return;case"select":B=E=C=G=null;for(y in l)if(N=l[y],l.hasOwnProperty(y)&&N!=null)switch(y){case"value":break;case"multiple":B=N;default:r.hasOwnProperty(y)||Pe(n,o,y,null,r,N)}for(m in r)if(y=r[m],N=l[m],r.hasOwnProperty(m)&&(y!=null||N!=null))switch(m){case"value":G=y;break;case"defaultValue":C=y;break;case"multiple":E=y;default:y!==N&&Pe(n,o,m,y,r,N)}o=C,l=E,r=B,G!=null?Xi(n,!!l,G,!1):!!r!=!!l&&(o!=null?Xi(n,!!l,o,!0):Xi(n,!!l,l?[]:"",!1));return;case"textarea":B=G=null;for(C in l)if(m=l[C],l.hasOwnProperty(C)&&m!=null&&!r.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Pe(n,o,C,null,r,m)}for(E in r)if(m=r[E],y=l[E],r.hasOwnProperty(E)&&(m!=null||y!=null))switch(E){case"value":G=m;break;case"defaultValue":B=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==y&&Pe(n,o,E,m,r,y)}Jd(n,G,B);return;case"option":for(var oe in l)if(G=l[oe],l.hasOwnProperty(oe)&&G!=null&&!r.hasOwnProperty(oe))switch(oe){case"selected":n.selected=!1;break;default:Pe(n,o,oe,null,r,G)}for(N in r)if(G=r[N],B=l[N],r.hasOwnProperty(N)&&G!==B&&(G!=null||B!=null))switch(N){case"selected":n.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Pe(n,o,N,G,r,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in l)G=l[ce],l.hasOwnProperty(ce)&&G!=null&&!r.hasOwnProperty(ce)&&Pe(n,o,ce,null,r,G);for(k in r)if(G=r[k],B=l[k],r.hasOwnProperty(k)&&G!==B&&(G!=null||B!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,o));break;default:Pe(n,o,k,G,r,B)}return;default:if(Ir(o)){for(var Ve in l)G=l[Ve],l.hasOwnProperty(Ve)&&G!==void 0&&!r.hasOwnProperty(Ve)&&vc(n,o,Ve,void 0,r,G);for(F in r)G=r[F],B=l[F],!r.hasOwnProperty(F)||G===B||G===void 0&&B===void 0||vc(n,o,F,G,r,B);return}}for(var I in l)G=l[I],l.hasOwnProperty(I)&&G!=null&&!r.hasOwnProperty(I)&&Pe(n,o,I,null,r,G);for(K in r)G=r[K],B=l[K],!r.hasOwnProperty(K)||G===B||G==null&&B==null||Pe(n,o,K,G,r,B)}function $m(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function o_(){if(typeof performance.getEntriesByType=="function"){for(var n=0,o=0,l=performance.getEntriesByType("resource"),r=0;r<l.length;r++){var m=l[r],y=m.transferSize,E=m.initiatorType,C=m.duration;if(y&&C&&$m(E)){for(E=0,C=m.responseEnd,r+=1;r<l.length;r++){var N=l[r],k=N.startTime;if(k>C)break;var F=N.transferSize,K=N.initiatorType;F&&$m(K)&&(N=N.responseEnd,E+=F*(N<C?1:(C-k)/(N-k)))}if(--r,o+=8*(y+E)/(m.duration/1e3),n++,10<n)break}}if(0<n)return o/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Tc=null,xc=null;function pa(n){return n.nodeType===9?n:n.ownerDocument}function Zm(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jm(n,o){if(n===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&o==="foreignObject"?0:n}function Sc(n,o){return n==="textarea"||n==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ec=null;function s_(){var n=window.event;return n&&n.type==="popstate"?n===Ec?!1:(Ec=n,!0):(Ec=null,!1)}var Wm=typeof setTimeout=="function"?setTimeout:void 0,l_=typeof clearTimeout=="function"?clearTimeout:void 0,eg=typeof Promise=="function"?Promise:void 0,a_=typeof queueMicrotask=="function"?queueMicrotask:typeof eg<"u"?function(n){return eg.resolve(null).then(n).catch(r_)}:Wm;function r_(n){setTimeout(function(){throw n})}function si(n){return n==="head"}function tg(n,o){var l=o,r=0;do{var m=l.nextSibling;if(n.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"||l==="/&"){if(r===0){n.removeChild(m),No(o);return}r--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")r++;else if(l==="html")Is(n.ownerDocument.documentElement);else if(l==="head"){l=n.ownerDocument.head,Is(l);for(var y=l.firstChild;y;){var E=y.nextSibling,C=y.nodeName;y[$o]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&y.rel.toLowerCase()==="stylesheet"||l.removeChild(y),y=E}}else l==="body"&&Is(n.ownerDocument.body);l=m}while(l);No(o)}function ng(n,o){var l=n;n=0;do{var r=l.nextSibling;if(l.nodeType===1?o?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(o?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),r&&r.nodeType===8)if(l=r.data,l==="/$"){if(n===0)break;n--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||n++;l=r}while(l)}function _c(n){var o=n.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var l=o;switch(o=o.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":_c(l),Rr(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function u_(n,o,l,r){for(;n.nodeType===1;){var m=l;if(n.nodeName.toLowerCase()!==o.toLowerCase()){if(!r&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(r){if(!n[$o])switch(o){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==m.rel||n.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||n.getAttribute("title")!==(m.title==null?null:m.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(m.src==null?null:m.src)||n.getAttribute("type")!==(m.type==null?null:m.type)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(o==="input"&&n.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=Qt(n.nextSibling),n===null)break}return null}function c_(n,o,l){if(o==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=Qt(n.nextSibling),n===null))return null;return n}function ig(n,o){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=Qt(n.nextSibling),n===null))return null;return n}function Cc(n){return n.data==="$?"||n.data==="$~"}function Ac(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function f_(n,o){var l=n.ownerDocument;if(n.data==="$~")n._reactRetry=o;else if(n.data!=="$?"||l.readyState!=="loading")o();else{var r=function(){o(),l.removeEventListener("DOMContentLoaded",r)};l.addEventListener("DOMContentLoaded",r),n._reactRetry=r}}function Qt(n){for(;n!=null;n=n.nextSibling){var o=n.nodeType;if(o===1||o===3)break;if(o===8){if(o=n.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return n}var bc=null;function og(n){n=n.nextSibling;for(var o=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"||l==="/&"){if(o===0)return Qt(n.nextSibling);o--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||o++}n=n.nextSibling}return null}function sg(n){n=n.previousSibling;for(var o=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(o===0)return n;o--}else l!=="/$"&&l!=="/&"||o++}n=n.previousSibling}return null}function lg(n,o,l){switch(o=pa(l),n){case"html":if(n=o.documentElement,!n)throw Error(s(452));return n;case"head":if(n=o.head,!n)throw Error(s(453));return n;case"body":if(n=o.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Is(n){for(var o=n.attributes;o.length;)n.removeAttributeNode(o[0]);Rr(n)}var $t=new Map,ag=new Set;function ha(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var In=$.d;$.d={f:d_,r:p_,D:h_,C:m_,L:g_,m:y_,X:T_,S:v_,M:x_};function d_(){var n=In.f(),o=sa();return n||o}function p_(n){var o=Yi(n);o!==null&&o.tag===5&&o.type==="form"?Ch(o):In.r(n)}var Co=typeof document>"u"?null:document;function rg(n,o,l){var r=Co;if(r&&typeof o=="string"&&o){var m=Ot(o);m='link[rel="'+n+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),ag.has(m)||(ag.add(m),n={rel:n,crossOrigin:l,href:o},r.querySelector(m)===null&&(o=r.createElement("link"),ft(o,"link",n),ot(o),r.head.appendChild(o)))}}function h_(n){In.D(n),rg("dns-prefetch",n,null)}function m_(n,o){In.C(n,o),rg("preconnect",n,o)}function g_(n,o,l){In.L(n,o,l);var r=Co;if(r&&n&&o){var m='link[rel="preload"][as="'+Ot(o)+'"]';o==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+Ot(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+Ot(l.imageSizes)+'"]')):m+='[href="'+Ot(n)+'"]';var y=m;switch(o){case"style":y=Ao(n);break;case"script":y=bo(n)}$t.has(y)||(n=T({rel:"preload",href:o==="image"&&l&&l.imageSrcSet?void 0:n,as:o},l),$t.set(y,n),r.querySelector(m)!==null||o==="style"&&r.querySelector(Us(y))||o==="script"&&r.querySelector(Ls(y))||(o=r.createElement("link"),ft(o,"link",n),ot(o),r.head.appendChild(o)))}}function y_(n,o){In.m(n,o);var l=Co;if(l&&n){var r=o&&typeof o.as=="string"?o.as:"script",m='link[rel="modulepreload"][as="'+Ot(r)+'"][href="'+Ot(n)+'"]',y=m;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=bo(n)}if(!$t.has(y)&&(n=T({rel:"modulepreload",href:n},o),$t.set(y,n),l.querySelector(m)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Ls(y)))return}r=l.createElement("link"),ft(r,"link",n),ot(r),l.head.appendChild(r)}}}function v_(n,o,l){In.S(n,o,l);var r=Co;if(r&&n){var m=Ji(r).hoistableStyles,y=Ao(n);o=o||"default";var E=m.get(y);if(!E){var C={loading:0,preload:null};if(E=r.querySelector(Us(y)))C.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":o},l),(l=$t.get(y))&&Nc(n,l);var N=E=r.createElement("link");ot(N),ft(N,"link",n),N._p=new Promise(function(k,F){N.onload=k,N.onerror=F}),N.addEventListener("load",function(){C.loading|=1}),N.addEventListener("error",function(){C.loading|=2}),C.loading|=4,ma(E,o,r)}E={type:"stylesheet",instance:E,count:1,state:C},m.set(y,E)}}}function T_(n,o){In.X(n,o);var l=Co;if(l&&n){var r=Ji(l).hoistableScripts,m=bo(n),y=r.get(m);y||(y=l.querySelector(Ls(m)),y||(n=T({src:n,async:!0},o),(o=$t.get(m))&&Rc(n,o),y=l.createElement("script"),ot(y),ft(y,"link",n),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},r.set(m,y))}}function x_(n,o){In.M(n,o);var l=Co;if(l&&n){var r=Ji(l).hoistableScripts,m=bo(n),y=r.get(m);y||(y=l.querySelector(Ls(m)),y||(n=T({src:n,async:!0,type:"module"},o),(o=$t.get(m))&&Rc(n,o),y=l.createElement("script"),ot(y),ft(y,"link",n),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},r.set(m,y))}}function ug(n,o,l,r){var m=(m=he.current)?ha(m):null;if(!m)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(o=Ao(l.href),l=Ji(m).hoistableStyles,r=l.get(o),r||(r={type:"style",instance:null,count:0,state:null},l.set(o,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=Ao(l.href);var y=Ji(m).hoistableStyles,E=y.get(n);if(E||(m=m.ownerDocument||m,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,E),(y=m.querySelector(Us(n)))&&!y._p&&(E.instance=y,E.state.loading=5),$t.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},$t.set(n,l),y||S_(m,n,l,E.state))),o&&r===null)throw Error(s(528,""));return E}if(o&&r!==null)throw Error(s(529,""));return null;case"script":return o=l.async,l=l.src,typeof l=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=bo(l),l=Ji(m).hoistableScripts,r=l.get(o),r||(r={type:"script",instance:null,count:0,state:null},l.set(o,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Ao(n){return'href="'+Ot(n)+'"'}function Us(n){return'link[rel="stylesheet"]['+n+"]"}function cg(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function S_(n,o,l,r){n.querySelector('link[rel="preload"][as="style"]['+o+"]")?r.loading=1:(o=n.createElement("link"),r.preload=o,o.addEventListener("load",function(){return r.loading|=1}),o.addEventListener("error",function(){return r.loading|=2}),ft(o,"link",l),ot(o),n.head.appendChild(o))}function bo(n){return'[src="'+Ot(n)+'"]'}function Ls(n){return"script[async]"+n}function fg(n,o,l){if(o.count++,o.instance===null)switch(o.type){case"style":var r=n.querySelector('style[data-href~="'+Ot(l.href)+'"]');if(r)return o.instance=r,ot(r),r;var m=T({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return r=(n.ownerDocument||n).createElement("style"),ot(r),ft(r,"style",m),ma(r,l.precedence,n),o.instance=r;case"stylesheet":m=Ao(l.href);var y=n.querySelector(Us(m));if(y)return o.state.loading|=4,o.instance=y,ot(y),y;r=cg(l),(m=$t.get(m))&&Nc(r,m),y=(n.ownerDocument||n).createElement("link"),ot(y);var E=y;return E._p=new Promise(function(C,N){E.onload=C,E.onerror=N}),ft(y,"link",r),o.state.loading|=4,ma(y,l.precedence,n),o.instance=y;case"script":return y=bo(l.src),(m=n.querySelector(Ls(y)))?(o.instance=m,ot(m),m):(r=l,(m=$t.get(y))&&(r=T({},l),Rc(r,m)),n=n.ownerDocument||n,m=n.createElement("script"),ot(m),ft(m,"link",r),n.head.appendChild(m),o.instance=m);case"void":return null;default:throw Error(s(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(r=o.instance,o.state.loading|=4,ma(r,l.precedence,n));return o.instance}function ma(n,o,l){for(var r=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=r.length?r[r.length-1]:null,y=m,E=0;E<r.length;E++){var C=r[E];if(C.dataset.precedence===o)y=C;else if(y!==m)break}y?y.parentNode.insertBefore(n,y.nextSibling):(o=l.nodeType===9?l.head:l,o.insertBefore(n,o.firstChild))}function Nc(n,o){n.crossOrigin==null&&(n.crossOrigin=o.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=o.referrerPolicy),n.title==null&&(n.title=o.title)}function Rc(n,o){n.crossOrigin==null&&(n.crossOrigin=o.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=o.referrerPolicy),n.integrity==null&&(n.integrity=o.integrity)}var ga=null;function dg(n,o,l){if(ga===null){var r=new Map,m=ga=new Map;m.set(l,r)}else m=ga,r=m.get(l),r||(r=new Map,m.set(l,r));if(r.has(n))return r;for(r.set(n,null),l=l.getElementsByTagName(n),m=0;m<l.length;m++){var y=l[m];if(!(y[$o]||y[at]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(o)||"";E=n+E;var C=r.get(E);C?C.push(y):r.set(E,[y])}}return r}function pg(n,o,l){n=n.ownerDocument||n,n.head.insertBefore(l,o==="title"?n.querySelector("head > title"):null)}function E_(n,o,l){if(l===1||o.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return n=o.disabled,typeof o.precedence=="string"&&n==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function hg(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function __(n,o,l,r){if(l.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var m=Ao(r.href),y=o.querySelector(Us(m));if(y){o=y._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(n.count++,n=ya.bind(n),o.then(n,n)),l.state.loading|=4,l.instance=y,ot(y);return}y=o.ownerDocument||o,r=cg(r),(m=$t.get(m))&&Nc(r,m),y=y.createElement("link"),ot(y);var E=y;E._p=new Promise(function(C,N){E.onload=C,E.onerror=N}),ft(y,"link",r),l.instance=y}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(l,o),(o=l.state.preload)&&(l.state.loading&3)===0&&(n.count++,l=ya.bind(n),o.addEventListener("load",l),o.addEventListener("error",l))}}var wc=0;function C_(n,o){return n.stylesheets&&n.count===0&&Ta(n,n.stylesheets),0<n.count||0<n.imgCount?function(l){var r=setTimeout(function(){if(n.stylesheets&&Ta(n,n.stylesheets),n.unsuspend){var y=n.unsuspend;n.unsuspend=null,y()}},6e4+o);0<n.imgBytes&&wc===0&&(wc=62500*o_());var m=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Ta(n,n.stylesheets),n.unsuspend)){var y=n.unsuspend;n.unsuspend=null,y()}},(n.imgBytes>wc?50:800)+o);return n.unsuspend=l,function(){n.unsuspend=null,clearTimeout(r),clearTimeout(m)}}:null}function ya(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ta(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var va=null;function Ta(n,o){n.stylesheets=null,n.unsuspend!==null&&(n.count++,va=new Map,o.forEach(A_,n),va=null,ya.call(n))}function A_(n,o){if(!(o.state.loading&4)){var l=va.get(n);if(l)var r=l.get(null);else{l=new Map,va.set(n,l);for(var m=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var E=m[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(l.set(E.dataset.precedence,E),r=E)}r&&l.set(null,r)}m=o.instance,E=m.getAttribute("data-precedence"),y=l.get(E)||r,y===r&&l.set(null,m),l.set(E,m),this.count++,r=ya.bind(this),m.addEventListener("load",r),m.addEventListener("error",r),y?y.parentNode.insertBefore(m,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(m,n.firstChild)),o.state.loading|=4}}var Ps={$$typeof:U,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function b_(n,o,l,r,m,y,E,C,N){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cr(0),this.hiddenUpdates=Cr(null),this.identifierPrefix=r,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function mg(n,o,l,r,m,y,E,C,N,k,F,K){return n=new b_(n,o,l,E,N,k,F,K,C),o=1,y===!0&&(o|=24),y=It(3,null,null,o),n.current=y,y.stateNode=n,o=ru(),o.refCount++,n.pooledCache=o,o.refCount++,y.memoizedState={element:r,isDehydrated:l,cache:o},du(y),n}function gg(n){return n?(n=no,n):no}function yg(n,o,l,r,m,y){m=gg(m),r.context===null?r.context=m:r.pendingContext=m,r=Xn(o),r.payload={element:l},y=y===void 0?null:y,y!==null&&(r.callback=y),l=Qn(n,r,o),l!==null&&(Nt(l,n,o),ps(l,n,o))}function vg(n,o){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<o?l:o}}function Mc(n,o){vg(n,o),(n=n.alternate)&&vg(n,o)}function Tg(n){if(n.tag===13||n.tag===31){var o=Ei(n,67108864);o!==null&&Nt(o,n,67108864),Mc(n,67108864)}}function xg(n){if(n.tag===13||n.tag===31){var o=kt();o=Ar(o);var l=Ei(n,o);l!==null&&Nt(l,n,o),Mc(n,o)}}var xa=!0;function N_(n,o,l,r){var m=L.T;L.T=null;var y=$.p;try{$.p=2,Dc(n,o,l,r)}finally{$.p=y,L.T=m}}function R_(n,o,l,r){var m=L.T;L.T=null;var y=$.p;try{$.p=8,Dc(n,o,l,r)}finally{$.p=y,L.T=m}}function Dc(n,o,l,r){if(xa){var m=Ic(r);if(m===null)yc(n,o,r,Sa,l),Eg(n,r);else if(M_(m,n,o,l,r))r.stopPropagation();else if(Eg(n,r),o&4&&-1<w_.indexOf(n)){for(;m!==null;){var y=Yi(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=yi(y.pendingLanes);if(E!==0){var C=y;for(C.pendingLanes|=2,C.entangledLanes|=2;E;){var N=1<<31-Mt(E);C.entanglements[1]|=N,E&=~N}dn(y),(De&6)===0&&(ia=Rt()+500,ws(0))}}break;case 31:case 13:C=Ei(y,2),C!==null&&Nt(C,y,2),sa(),Mc(y,2)}if(y=Ic(r),y===null&&yc(n,o,r,Sa,l),y===m)break;m=y}m!==null&&r.stopPropagation()}else yc(n,o,r,null,l)}}function Ic(n){return n=Lr(n),Uc(n)}var Sa=null;function Uc(n){if(Sa=null,n=Fi(n),n!==null){var o=u(n);if(o===null)n=null;else{var l=o.tag;if(l===13){if(n=c(o),n!==null)return n;n=null}else if(l===31){if(n=p(o),n!==null)return n;n=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null)}}return Sa=n,null}function Sg(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hS()){case wd:return 2;case Md:return 8;case cl:case mS:return 32;case Dd:return 268435456;default:return 32}default:return 32}}var Lc=!1,li=null,ai=null,ri=null,Vs=new Map,ks=new Map,ui=[],w_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Eg(n,o){switch(n){case"focusin":case"focusout":li=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":ri=null;break;case"pointerover":case"pointerout":Vs.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ks.delete(o.pointerId)}}function Gs(n,o,l,r,m,y){return n===null||n.nativeEvent!==y?(n={blockedOn:o,domEventName:l,eventSystemFlags:r,nativeEvent:y,targetContainers:[m]},o!==null&&(o=Yi(o),o!==null&&Tg(o)),n):(n.eventSystemFlags|=r,o=n.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),n)}function M_(n,o,l,r,m){switch(o){case"focusin":return li=Gs(li,n,o,l,r,m),!0;case"dragenter":return ai=Gs(ai,n,o,l,r,m),!0;case"mouseover":return ri=Gs(ri,n,o,l,r,m),!0;case"pointerover":var y=m.pointerId;return Vs.set(y,Gs(Vs.get(y)||null,n,o,l,r,m)),!0;case"gotpointercapture":return y=m.pointerId,ks.set(y,Gs(ks.get(y)||null,n,o,l,r,m)),!0}return!1}function _g(n){var o=Fi(n.target);if(o!==null){var l=u(o);if(l!==null){if(o=l.tag,o===13){if(o=c(l),o!==null){n.blockedOn=o,kd(n.priority,function(){xg(l)});return}}else if(o===31){if(o=p(l),o!==null){n.blockedOn=o,kd(n.priority,function(){xg(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ea(n){if(n.blockedOn!==null)return!1;for(var o=n.targetContainers;0<o.length;){var l=Ic(n.nativeEvent);if(l===null){l=n.nativeEvent;var r=new l.constructor(l.type,l);Ur=r,l.target.dispatchEvent(r),Ur=null}else return o=Yi(l),o!==null&&Tg(o),n.blockedOn=l,!1;o.shift()}return!0}function Cg(n,o,l){Ea(n)&&l.delete(o)}function D_(){Lc=!1,li!==null&&Ea(li)&&(li=null),ai!==null&&Ea(ai)&&(ai=null),ri!==null&&Ea(ri)&&(ri=null),Vs.forEach(Cg),ks.forEach(Cg)}function _a(n,o){n.blockedOn===o&&(n.blockedOn=null,Lc||(Lc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,D_)))}var Ca=null;function Ag(n){Ca!==n&&(Ca=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ca===n&&(Ca=null);for(var o=0;o<n.length;o+=3){var l=n[o],r=n[o+1],m=n[o+2];if(typeof r!="function"){if(Uc(r||l)===null)continue;break}var y=Yi(l);y!==null&&(n.splice(o,3),o-=3,Iu(y,{pending:!0,data:m,method:l.method,action:r},r,m))}}))}function No(n){function o(N){return _a(N,n)}li!==null&&_a(li,n),ai!==null&&_a(ai,n),ri!==null&&_a(ri,n),Vs.forEach(o),ks.forEach(o);for(var l=0;l<ui.length;l++){var r=ui[l];r.blockedOn===n&&(r.blockedOn=null)}for(;0<ui.length&&(l=ui[0],l.blockedOn===null);)_g(l),l.blockedOn===null&&ui.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(r=0;r<l.length;r+=3){var m=l[r],y=l[r+1],E=m[St]||null;if(typeof y=="function")E||Ag(l);else if(E){var C=null;if(y&&y.hasAttribute("formAction")){if(m=y,E=y[St]||null)C=E.formAction;else if(Uc(m)!==null)continue}else C=E.action;typeof C=="function"?l[r+1]=C:(l.splice(r,3),r-=3),Ag(l)}}}function bg(){function n(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(E){return m=E})},focusReset:"manual",scroll:"manual"})}function o(){m!==null&&(m(),m=null),r||setTimeout(l,20)}function l(){if(!r&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,m=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(l,100),function(){r=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),m!==null&&(m(),m=null)}}}function Pc(n){this._internalRoot=n}Aa.prototype.render=Pc.prototype.render=function(n){var o=this._internalRoot;if(o===null)throw Error(s(409));var l=o.current,r=kt();yg(l,r,n,o,null,null)},Aa.prototype.unmount=Pc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var o=n.containerInfo;yg(n.current,2,null,n,null,null),sa(),o[qi]=null}};function Aa(n){this._internalRoot=n}Aa.prototype.unstable_scheduleHydration=function(n){if(n){var o=Vd();n={blockedOn:null,target:n,priority:o};for(var l=0;l<ui.length&&o!==0&&o<ui[l].priority;l++);ui.splice(l,0,n),l===0&&_g(n)}};var Ng=e.version;if(Ng!=="19.2.3")throw Error(s(527,Ng,"19.2.3"));$.findDOMNode=function(n){var o=n._reactInternals;if(o===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=h(o),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var I_={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ba=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ba.isDisabled&&ba.supportsFiber)try{Ko=ba.inject(I_),wt=ba}catch{}}return Hs.createRoot=function(n,o){if(!a(n))throw Error(s(299));var l=!1,r="",m=Lh,y=Ph,E=Vh;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(r=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(y=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError)),o=mg(n,1,!1,null,null,l,r,null,m,y,E,bg),n[qi]=o.current,gc(n),new Pc(o)},Hs.hydrateRoot=function(n,o,l){if(!a(n))throw Error(s(299));var r=!1,m="",y=Lh,E=Ph,C=Vh,N=null;return l!=null&&(l.unstable_strictMode===!0&&(r=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError),l.formState!==void 0&&(N=l.formState)),o=mg(n,1,!0,o,l??null,r,m,N,y,E,C,bg),o.context=gg(null),l=o.current,r=kt(),r=Ar(r),m=Xn(r),m.callback=null,Qn(l,m,r),l=r,o.current.lanes=l,Qo(o,l),dn(o),n[qi]=o.current,gc(n),new Aa(o)},Hs.version="19.2.3",Hs}var kg;function O_(){if(kg)return Gc.exports;kg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Gc.exports=z_(),Gc.exports}var q_=O_();const F_=kv(q_),kf=X.createContext({});function Gf(t){const e=X.useRef(null);return e.current===null&&(e.current=t()),e.current}const sr=X.createContext(null),Bf=X.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class Y_ extends X.Component{getSnapshotBeforeUpdate(e){const i=this.props.childRef.current;if(i&&e.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=i.offsetHeight||0,s.width=i.offsetWidth||0,s.top=i.offsetTop,s.left=i.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function J_({children:t,isPresent:e}){const i=X.useId(),s=X.useRef(null),a=X.useRef({width:0,height:0,top:0,left:0}),{nonce:u}=X.useContext(Bf);return X.useInsertionEffect(()=>{const{width:c,height:p,top:g,left:h}=a.current;if(e||!s.current||!c||!p)return;s.current.dataset.motionPopId=i;const v=document.createElement("style");return u&&(v.nonce=u),document.head.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${p}px !important;
            top: ${g}px !important;
            left: ${h}px !important;
          }
        `),()=>{document.head.removeChild(v)}},[e]),S.jsx(Y_,{isPresent:e,childRef:s,sizeRef:a,children:X.cloneElement(t,{ref:s})})}const K_=({children:t,initial:e,isPresent:i,onExitComplete:s,custom:a,presenceAffectsLayout:u,mode:c})=>{const p=Gf(X_),g=X.useId(),h=X.useCallback(T=>{p.set(T,!0);for(const x of p.values())if(!x)return;s&&s()},[p,s]),v=X.useMemo(()=>({id:g,initial:e,isPresent:i,custom:a,onExitComplete:h,register:T=>(p.set(T,!1),()=>p.delete(T))}),u?[Math.random(),h]:[i,h]);return X.useMemo(()=>{p.forEach((T,x)=>p.set(x,!1))},[i]),X.useEffect(()=>{!i&&!p.size&&s&&s()},[i]),c==="popLayout"&&(t=S.jsx(J_,{isPresent:i,children:t})),S.jsx(sr.Provider,{value:v,children:t})};function X_(){return new Map}function Bv(t=!0){const e=X.useContext(sr);if(e===null)return[!0,null];const{isPresent:i,onExitComplete:s,register:a}=e,u=X.useId();X.useEffect(()=>{t&&a(u)},[t]);const c=X.useCallback(()=>t&&s&&s(u),[u,s,t]);return!i&&s?[!1,c]:[!0]}const Na=t=>t.key||"";function Gg(t){const e=[];return X.Children.forEach(t,i=>{X.isValidElement(i)&&e.push(i)}),e}const Hf=typeof window<"u",Hv=Hf?X.useLayoutEffect:X.useEffect,pt=({children:t,custom:e,initial:i=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:u="sync",propagate:c=!1})=>{const[p,g]=Bv(c),h=X.useMemo(()=>Gg(t),[t]),v=c&&!p?[]:h.map(Na),T=X.useRef(!0),x=X.useRef(h),_=Gf(()=>new Map),[b,w]=X.useState(h),[A,R]=X.useState(h);Hv(()=>{T.current=!1,x.current=h;for(let J=0;J<A.length;J++){const H=Na(A[J]);v.includes(H)?_.delete(H):_.get(H)!==!0&&_.set(H,!1)}},[A,v.length,v.join("-")]);const P=[];if(h!==b){let J=[...h];for(let H=0;H<A.length;H++){const q=A[H],z=Na(q);v.includes(z)||(J.splice(H,0,q),P.push(q))}u==="wait"&&P.length&&(J=P),R(Gg(J)),w(h);return}const{forceRender:U}=X.useContext(kf);return S.jsx(S.Fragment,{children:A.map(J=>{const H=Na(J),q=c&&!p?!1:h===A||v.includes(H),z=()=>{if(_.has(H))_.set(H,!0);else return;let Q=!0;_.forEach(Z=>{Z||(Q=!1)}),Q&&(U==null||U(),R(x.current),c&&(g==null||g()),s&&s())};return S.jsx(K_,{isPresent:q,initial:!T.current||i?void 0:!1,custom:q?void 0:e,presenceAffectsLayout:a,mode:u,onExitComplete:q?void 0:z,children:J},H)})})},Bt=t=>t;let zv=Bt;function zf(t){let e;return()=>(e===void 0&&(e=t()),e)}const Go=(t,e,i)=>{const s=e-t;return s===0?1:(i-t)/s},Un=t=>t*1e3,Ln=t=>t/1e3,Q_={useManualTiming:!1};function $_(t){let e=new Set,i=new Set,s=!1,a=!1;const u=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function p(h){u.has(h)&&(g.schedule(h),t()),h(c)}const g={schedule:(h,v=!1,T=!1)=>{const _=T&&s?e:i;return v&&u.add(h),_.has(h)||_.add(h),h},cancel:h=>{i.delete(h),u.delete(h)},process:h=>{if(c=h,s){a=!0;return}s=!0,[e,i]=[i,e],e.forEach(p),e.clear(),s=!1,a&&(a=!1,g.process(h))}};return g}const Ra=["read","resolveKeyframes","update","preRender","render","postRender"],Z_=40;function Ov(t,e){let i=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},u=()=>i=!0,c=Ra.reduce((R,P)=>(R[P]=$_(u),R),{}),{read:p,resolveKeyframes:g,update:h,preRender:v,render:T,postRender:x}=c,_=()=>{const R=performance.now();i=!1,a.delta=s?1e3/60:Math.max(Math.min(R-a.timestamp,Z_),1),a.timestamp=R,a.isProcessing=!0,p.process(a),g.process(a),h.process(a),v.process(a),T.process(a),x.process(a),a.isProcessing=!1,i&&e&&(s=!1,t(_))},b=()=>{i=!0,s=!0,a.isProcessing||t(_)};return{schedule:Ra.reduce((R,P)=>{const U=c[P];return R[P]=(J,H=!1,q=!1)=>(i||b(),U.schedule(J,H,q)),R},{}),cancel:R=>{for(let P=0;P<Ra.length;P++)c[Ra[P]].cancel(R)},state:a,steps:c}}const{schedule:ze,cancel:di,state:dt,steps:Oc}=Ov(typeof requestAnimationFrame<"u"?requestAnimationFrame:Bt,!0),qv=X.createContext({strict:!1}),Bg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Bo={};for(const t in Bg)Bo[t]={isEnabled:e=>Bg[t].some(i=>!!e[i])};function j_(t){for(const e in t)Bo[e]={...Bo[e],...t[e]}}const W_=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Fa(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||W_.has(t)}let Fv=t=>!Fa(t);function eC(t){t&&(Fv=e=>e.startsWith("on")?!Fa(e):t(e))}try{eC(require("@emotion/is-prop-valid").default)}catch{}function tC(t,e,i){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(Fv(a)||i===!0&&Fa(a)||!e&&!Fa(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}function nC(t){if(typeof Proxy>"u")return t;const e=new Map,i=(...s)=>t(...s);return new Proxy(i,{get:(s,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const lr=X.createContext({});function js(t){return typeof t=="string"||Array.isArray(t)}function ar(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Of=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],qf=["initial",...Of];function rr(t){return ar(t.animate)||qf.some(e=>js(t[e]))}function Yv(t){return!!(rr(t)||t.variants)}function iC(t,e){if(rr(t)){const{initial:i,animate:s}=t;return{initial:i===!1||js(i)?i:void 0,animate:js(s)?s:void 0}}return t.inherit!==!1?e:{}}function oC(t){const{initial:e,animate:i}=iC(t,X.useContext(lr));return X.useMemo(()=>({initial:e,animate:i}),[Hg(e),Hg(i)])}function Hg(t){return Array.isArray(t)?t.join(" "):t}const sC=Symbol.for("motionComponentSymbol");function wo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function lC(t,e,i){return X.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),i&&(typeof i=="function"?i(s):wo(i)&&(i.current=s))},[e])}const Ff=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),aC="framerAppearId",Jv="data-"+Ff(aC),{schedule:Yf}=Ov(queueMicrotask,!1),Kv=X.createContext({});function rC(t,e,i,s,a){var u,c;const{visualElement:p}=X.useContext(lr),g=X.useContext(qv),h=X.useContext(sr),v=X.useContext(Bf).reducedMotion,T=X.useRef(null);s=s||g.renderer,!T.current&&s&&(T.current=s(t,{visualState:e,parent:p,props:i,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:v}));const x=T.current,_=X.useContext(Kv);x&&!x.projection&&a&&(x.type==="html"||x.type==="svg")&&uC(T.current,i,a,_);const b=X.useRef(!1);X.useInsertionEffect(()=>{x&&b.current&&x.update(i,h)});const w=i[Jv],A=X.useRef(!!w&&!(!((u=window.MotionHandoffIsComplete)===null||u===void 0)&&u.call(window,w))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,w)));return Hv(()=>{x&&(b.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),Yf.render(x.render),A.current&&x.animationState&&x.animationState.animateChanges())}),X.useEffect(()=>{x&&(!A.current&&x.animationState&&x.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var R;(R=window.MotionHandoffMarkAsComplete)===null||R===void 0||R.call(window,w)}),A.current=!1))}),x}function uC(t,e,i,s){const{layoutId:a,layout:u,drag:c,dragConstraints:p,layoutScroll:g,layoutRoot:h}=e;t.projection=new i(t.latestValues,e["data-framer-portal-id"]?void 0:Xv(t.parent)),t.projection.setOptions({layoutId:a,layout:u,alwaysMeasureLayout:!!c||p&&wo(p),visualElement:t,animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:g,layoutRoot:h})}function Xv(t){if(t)return t.options.allowProjection!==!1?t.projection:Xv(t.parent)}function cC({preloadedFeatures:t,createVisualElement:e,useRender:i,useVisualState:s,Component:a}){var u,c;t&&j_(t);function p(h,v){let T;const x={...X.useContext(Bf),...h,layoutId:fC(h)},{isStatic:_}=x,b=oC(h),w=s(h,_);if(!_&&Hf){dC();const A=pC(x);T=A.MeasureLayout,b.visualElement=rC(a,w,x,e,A.ProjectionNode)}return S.jsxs(lr.Provider,{value:b,children:[T&&b.visualElement?S.jsx(T,{visualElement:b.visualElement,...x}):null,i(a,h,lC(w,b.visualElement,v),w,_,b.visualElement)]})}p.displayName=`motion.${typeof a=="string"?a:`create(${(c=(u=a.displayName)!==null&&u!==void 0?u:a.name)!==null&&c!==void 0?c:""})`}`;const g=X.forwardRef(p);return g[sC]=a,g}function fC({layoutId:t}){const e=X.useContext(kf).id;return e&&t!==void 0?e+"-"+t:t}function dC(t,e){X.useContext(qv).strict}function pC(t){const{drag:e,layout:i}=Bo;if(!e&&!i)return{};const s={...e,...i};return{MeasureLayout:e!=null&&e.isEnabled(t)||i!=null&&i.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const hC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Jf(t){return typeof t!="string"||t.includes("-")?!1:!!(hC.indexOf(t)>-1||/[A-Z]/u.test(t))}function zg(t){const e=[{},{}];return t==null||t.values.forEach((i,s)=>{e[0][s]=i.get(),e[1][s]=i.getVelocity()}),e}function Kf(t,e,i,s){if(typeof e=="function"){const[a,u]=zg(s);e=e(i!==void 0?i:t.custom,a,u)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,u]=zg(s);e=e(i!==void 0?i:t.custom,a,u)}return e}const sf=t=>Array.isArray(t),mC=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),gC=t=>sf(t)?t[t.length-1]||0:t,gt=t=>!!(t&&t.getVelocity);function Ba(t){const e=gt(t)?t.get():t;return mC(e)?e.toValue():e}function yC({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:i},s,a,u){const c={latestValues:vC(s,a,u,t),renderState:e()};return i&&(c.onMount=p=>i({props:s,current:p,...c}),c.onUpdate=p=>i(p)),c}const Qv=t=>(e,i)=>{const s=X.useContext(lr),a=X.useContext(sr),u=()=>yC(t,e,s,a);return i?u():Gf(u)};function vC(t,e,i,s){const a={},u=s(t,{});for(const x in u)a[x]=Ba(u[x]);let{initial:c,animate:p}=t;const g=rr(t),h=Yv(t);e&&h&&!g&&t.inherit!==!1&&(c===void 0&&(c=e.initial),p===void 0&&(p=e.animate));let v=i?i.initial===!1:!1;v=v||c===!1;const T=v?p:c;if(T&&typeof T!="boolean"&&!ar(T)){const x=Array.isArray(T)?T:[T];for(let _=0;_<x.length;_++){const b=Kf(t,x[_]);if(b){const{transitionEnd:w,transition:A,...R}=b;for(const P in R){let U=R[P];if(Array.isArray(U)){const J=v?U.length-1:0;U=U[J]}U!==null&&(a[P]=U)}for(const P in w)a[P]=w[P]}}}return a}const zo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],zi=new Set(zo),$v=t=>e=>typeof e=="string"&&e.startsWith(t),Zv=$v("--"),TC=$v("var(--"),Xf=t=>TC(t)?xC.test(t.split("/*")[0].trim()):!1,xC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,jv=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Vn=(t,e,i)=>i>e?e:i<t?t:i,Oo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ws={...Oo,transform:t=>Vn(0,1,t)},wa={...Oo,default:1},sl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),fi=sl("deg"),pn=sl("%"),de=sl("px"),SC=sl("vh"),EC=sl("vw"),Og={...pn,parse:t=>pn.parse(t)/100,transform:t=>pn.transform(t*100)},_C={borderWidth:de,borderTopWidth:de,borderRightWidth:de,borderBottomWidth:de,borderLeftWidth:de,borderRadius:de,radius:de,borderTopLeftRadius:de,borderTopRightRadius:de,borderBottomRightRadius:de,borderBottomLeftRadius:de,width:de,maxWidth:de,height:de,maxHeight:de,top:de,right:de,bottom:de,left:de,padding:de,paddingTop:de,paddingRight:de,paddingBottom:de,paddingLeft:de,margin:de,marginTop:de,marginRight:de,marginBottom:de,marginLeft:de,backgroundPositionX:de,backgroundPositionY:de},CC={rotate:fi,rotateX:fi,rotateY:fi,rotateZ:fi,scale:wa,scaleX:wa,scaleY:wa,scaleZ:wa,skew:fi,skewX:fi,skewY:fi,distance:de,translateX:de,translateY:de,translateZ:de,x:de,y:de,z:de,perspective:de,transformPerspective:de,opacity:Ws,originX:Og,originY:Og,originZ:de},qg={...Oo,transform:Math.round},Qf={..._C,...CC,zIndex:qg,size:de,fillOpacity:Ws,strokeOpacity:Ws,numOctaves:qg},AC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},bC=zo.length;function NC(t,e,i){let s="",a=!0;for(let u=0;u<bC;u++){const c=zo[u],p=t[c];if(p===void 0)continue;let g=!0;if(typeof p=="number"?g=p===(c.startsWith("scale")?1:0):g=parseFloat(p)===0,!g||i){const h=jv(p,Qf[c]);if(!g){a=!1;const v=AC[c]||c;s+=`${v}(${h}) `}i&&(e[c]=h)}}return s=s.trim(),i?s=i(e,a?"":s):a&&(s="none"),s}function $f(t,e,i){const{style:s,vars:a,transformOrigin:u}=t;let c=!1,p=!1;for(const g in e){const h=e[g];if(zi.has(g)){c=!0;continue}else if(Zv(g)){a[g]=h;continue}else{const v=jv(h,Qf[g]);g.startsWith("origin")?(p=!0,u[g]=v):s[g]=v}}if(e.transform||(c||i?s.transform=NC(e,t.transform,i):s.transform&&(s.transform="none")),p){const{originX:g="50%",originY:h="50%",originZ:v=0}=u;s.transformOrigin=`${g} ${h} ${v}`}}const RC={offset:"stroke-dashoffset",array:"stroke-dasharray"},wC={offset:"strokeDashoffset",array:"strokeDasharray"};function MC(t,e,i=1,s=0,a=!0){t.pathLength=1;const u=a?RC:wC;t[u.offset]=de.transform(-s);const c=de.transform(e),p=de.transform(i);t[u.array]=`${c} ${p}`}function Fg(t,e,i){return typeof t=="string"?t:de.transform(e+i*t)}function DC(t,e,i){const s=Fg(e,t.x,t.width),a=Fg(i,t.y,t.height);return`${s} ${a}`}function Zf(t,{attrX:e,attrY:i,attrScale:s,originX:a,originY:u,pathLength:c,pathSpacing:p=1,pathOffset:g=0,...h},v,T){if($f(t,h,T),v){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:_,dimensions:b}=t;x.transform&&(b&&(_.transform=x.transform),delete x.transform),b&&(a!==void 0||u!==void 0||_.transform)&&(_.transformOrigin=DC(b,a!==void 0?a:.5,u!==void 0?u:.5)),e!==void 0&&(x.x=e),i!==void 0&&(x.y=i),s!==void 0&&(x.scale=s),c!==void 0&&MC(x,c,p,g,!1)}const jf=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Wv=()=>({...jf(),attrs:{}}),Wf=t=>typeof t=="string"&&t.toLowerCase()==="svg";function eT(t,{style:e,vars:i},s,a){Object.assign(t.style,e,a&&a.getProjectionStyles(s));for(const u in i)t.style.setProperty(u,i[u])}const tT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function nT(t,e,i,s){eT(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(tT.has(a)?a:Ff(a),e.attrs[a])}const Ya={};function IC(t){Object.assign(Ya,t)}function iT(t,{layout:e,layoutId:i}){return zi.has(t)||t.startsWith("origin")||(e||i!==void 0)&&(!!Ya[t]||t==="opacity")}function ed(t,e,i){var s;const{style:a}=t,u={};for(const c in a)(gt(a[c])||e.style&&gt(e.style[c])||iT(c,t)||((s=i==null?void 0:i.getValue(c))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(u[c]=a[c]);return u}function oT(t,e,i){const s=ed(t,e,i);for(const a in t)if(gt(t[a])||gt(e[a])){const u=zo.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[u]=t[a]}return s}function UC(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const Yg=["x","y","width","height","cx","cy","r"],LC={useVisualState:Qv({scrapeMotionValuesFromProps:oT,createRenderState:Wv,onUpdate:({props:t,prevProps:e,current:i,renderState:s,latestValues:a})=>{if(!i)return;let u=!!t.drag;if(!u){for(const p in a)if(zi.has(p)){u=!0;break}}if(!u)return;let c=!e;if(e)for(let p=0;p<Yg.length;p++){const g=Yg[p];t[g]!==e[g]&&(c=!0)}c&&ze.read(()=>{UC(i,s),ze.render(()=>{Zf(s,a,Wf(i.tagName),t.transformTemplate),nT(i,s)})})}})},PC={useVisualState:Qv({scrapeMotionValuesFromProps:ed,createRenderState:jf})};function sT(t,e,i){for(const s in e)!gt(e[s])&&!iT(s,i)&&(t[s]=e[s])}function VC({transformTemplate:t},e){return X.useMemo(()=>{const i=jf();return $f(i,e,t),Object.assign({},i.vars,i.style)},[e])}function kC(t,e){const i=t.style||{},s={};return sT(s,i,t),Object.assign(s,VC(t,e)),s}function GC(t,e){const i={},s=kC(t,e);return t.drag&&t.dragListener!==!1&&(i.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(i.tabIndex=0),i.style=s,i}function BC(t,e,i,s){const a=X.useMemo(()=>{const u=Wv();return Zf(u,e,Wf(s),t.transformTemplate),{...u.attrs,style:{...u.style}}},[e]);if(t.style){const u={};sT(u,t.style,t),a.style={...u,...a.style}}return a}function HC(t=!1){return(i,s,a,{latestValues:u},c)=>{const g=(Jf(i)?BC:GC)(s,u,c,i),h=tC(s,typeof i=="string",t),v=i!==X.Fragment?{...h,...g,ref:a}:{},{children:T}=s,x=X.useMemo(()=>gt(T)?T.get():T,[T]);return X.createElement(i,{...v,children:x})}}function zC(t,e){return function(s,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...Jf(s)?LC:PC,preloadedFeatures:t,useRender:HC(a),createVisualElement:e,Component:s};return cC(c)}}function lT(t,e){if(!Array.isArray(e))return!1;const i=e.length;if(i!==t.length)return!1;for(let s=0;s<i;s++)if(e[s]!==t[s])return!1;return!0}function ur(t,e,i){const s=t.getProps();return Kf(s,e,i!==void 0?i:s.custom,t)}const OC=zf(()=>window.ScrollTimeline!==void 0);class qC{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,i){for(let s=0;s<this.animations.length;s++)this.animations[s][e]=i}attachTimeline(e,i){const s=this.animations.map(a=>{if(OC()&&a.attachTimeline)return a.attachTimeline(e);if(typeof i=="function")return i(a)});return()=>{s.forEach((a,u)=>{a&&a(),this.animations[u].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let i=0;i<this.animations.length;i++)e=Math.max(e,this.animations[i].duration);return e}runAll(e){this.animations.forEach(i=>i[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class FC extends qC{then(e,i){return Promise.all(this.animations).then(e).catch(i)}}function td(t,e){return t?t[e]||t.default||t:void 0}const lf=2e4;function aT(t){let e=0;const i=50;let s=t.next(e);for(;!s.done&&e<lf;)e+=i,s=t.next(e);return e>=lf?1/0:e}function nd(t){return typeof t=="function"}function Jg(t,e){t.timeline=e,t.onfinish=null}const id=t=>Array.isArray(t)&&typeof t[0]=="number",YC={linearEasing:void 0};function JC(t,e){const i=zf(t);return()=>{var s;return(s=YC[e])!==null&&s!==void 0?s:i()}}const Ja=JC(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),rT=(t,e,i=10)=>{let s="";const a=Math.max(Math.round(e/i),2);for(let u=0;u<a;u++)s+=t(Go(0,a-1,u))+", ";return`linear(${s.substring(0,s.length-2)})`};function uT(t){return!!(typeof t=="function"&&Ja()||!t||typeof t=="string"&&(t in af||Ja())||id(t)||Array.isArray(t)&&t.every(uT))}const Fs=([t,e,i,s])=>`cubic-bezier(${t}, ${e}, ${i}, ${s})`,af={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Fs([0,.65,.55,1]),circOut:Fs([.55,0,1,.45]),backIn:Fs([.31,.01,.66,-.59]),backOut:Fs([.33,1.53,.69,.99])};function cT(t,e){if(t)return typeof t=="function"&&Ja()?rT(t,e):id(t)?Fs(t):Array.isArray(t)?t.map(i=>cT(i,e)||af.easeOut):af[t]}const sn={x:!1,y:!1};function fT(){return sn.x||sn.y}function KC(t,e,i){var s;if(t instanceof Element)return[t];if(typeof t=="string"){let a=document;const u=(s=void 0)!==null&&s!==void 0?s:a.querySelectorAll(t);return u?Array.from(u):[]}return Array.from(t)}function dT(t,e){const i=KC(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[i,a,()=>s.abort()]}function Kg(t){return e=>{e.pointerType==="touch"||fT()||t(e)}}function XC(t,e,i={}){const[s,a,u]=dT(t,i),c=Kg(p=>{const{target:g}=p,h=e(p);if(typeof h!="function"||!g)return;const v=Kg(T=>{h(T),g.removeEventListener("pointerleave",v)});g.addEventListener("pointerleave",v,a)});return s.forEach(p=>{p.addEventListener("pointerenter",c,a)}),u}const pT=(t,e)=>e?t===e?!0:pT(t,e.parentElement):!1,od=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,QC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function $C(t){return QC.has(t.tagName)||t.tabIndex!==-1}const Ys=new WeakSet;function Xg(t){return e=>{e.key==="Enter"&&t(e)}}function qc(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const ZC=(t,e)=>{const i=t.currentTarget;if(!i)return;const s=Xg(()=>{if(Ys.has(i))return;qc(i,"down");const a=Xg(()=>{qc(i,"up")}),u=()=>qc(i,"cancel");i.addEventListener("keyup",a,e),i.addEventListener("blur",u,e)});i.addEventListener("keydown",s,e),i.addEventListener("blur",()=>i.removeEventListener("keydown",s),e)};function Qg(t){return od(t)&&!fT()}function jC(t,e,i={}){const[s,a,u]=dT(t,i),c=p=>{const g=p.currentTarget;if(!Qg(p)||Ys.has(g))return;Ys.add(g);const h=e(p),v=(_,b)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",x),!(!Qg(_)||!Ys.has(g))&&(Ys.delete(g),typeof h=="function"&&h(_,{success:b}))},T=_=>{v(_,i.useGlobalTarget||pT(g,_.target))},x=_=>{v(_,!1)};window.addEventListener("pointerup",T,a),window.addEventListener("pointercancel",x,a)};return s.forEach(p=>{!$C(p)&&p.getAttribute("tabindex")===null&&(p.tabIndex=0),(i.useGlobalTarget?window:p).addEventListener("pointerdown",c,a),p.addEventListener("focus",h=>ZC(h,a),a)}),u}function WC(t){return t==="x"||t==="y"?sn[t]?null:(sn[t]=!0,()=>{sn[t]=!1}):sn.x||sn.y?null:(sn.x=sn.y=!0,()=>{sn.x=sn.y=!1})}const hT=new Set(["width","height","top","left","right","bottom",...zo]);let Ha;function eA(){Ha=void 0}const hn={now:()=>(Ha===void 0&&hn.set(dt.isProcessing||Q_.useManualTiming?dt.timestamp:performance.now()),Ha),set:t=>{Ha=t,queueMicrotask(eA)}};function sd(t,e){t.indexOf(e)===-1&&t.push(e)}function ld(t,e){const i=t.indexOf(e);i>-1&&t.splice(i,1)}class ad{constructor(){this.subscriptions=[]}add(e){return sd(this.subscriptions,e),()=>ld(this.subscriptions,e)}notify(e,i,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,i,s);else for(let u=0;u<a;u++){const c=this.subscriptions[u];c&&c(e,i,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function mT(t,e){return e?t*(1e3/e):0}const $g=30,tA=t=>!isNaN(parseFloat(t));class nA{constructor(e,i={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,a=!0)=>{const u=hn.now();this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=i.owner}setCurrent(e){this.current=e,this.updatedAt=hn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=tA(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,i){this.events[e]||(this.events[e]=new ad);const s=this.events[e].add(i);return e==="change"?()=>{s(),ze.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,i){this.passiveEffect=e,this.stopPassiveEffect=i}set(e,i=!0){!i||!this.passiveEffect?this.updateAndNotify(e,i):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,i,s){this.set(i),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,i=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=hn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>$g)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,$g);return mT(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(e){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=e(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function el(t,e){return new nA(t,e)}function iA(t,e,i){t.hasValue(e)?t.getValue(e).set(i):t.addValue(e,el(i))}function oA(t,e){const i=ur(t,e);let{transitionEnd:s={},transition:a={},...u}=i||{};u={...u,...s};for(const c in u){const p=gC(u[c]);iA(t,c,p)}}function sA(t){return!!(gt(t)&&t.add)}function rf(t,e){const i=t.getValue("willChange");if(sA(i))return i.add(e)}function gT(t){return t.props[Jv]}const yT=(t,e,i)=>(((1-3*i+3*e)*t+(3*i-6*e))*t+3*e)*t,lA=1e-7,aA=12;function rA(t,e,i,s,a){let u,c,p=0;do c=e+(i-e)/2,u=yT(c,s,a)-t,u>0?i=c:e=c;while(Math.abs(u)>lA&&++p<aA);return c}function ll(t,e,i,s){if(t===e&&i===s)return Bt;const a=u=>rA(u,0,1,t,i);return u=>u===0||u===1?u:yT(a(u),e,s)}const vT=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,TT=t=>e=>1-t(1-e),xT=ll(.33,1.53,.69,.99),rd=TT(xT),ST=vT(rd),ET=t=>(t*=2)<1?.5*rd(t):.5*(2-Math.pow(2,-10*(t-1))),ud=t=>1-Math.sin(Math.acos(t)),_T=TT(ud),CT=vT(ud),AT=t=>/^0[^.\s]+$/u.test(t);function uA(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||AT(t):!0}const Xs=t=>Math.round(t*1e5)/1e5,cd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function cA(t){return t==null}const fA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,fd=(t,e)=>i=>!!(typeof i=="string"&&fA.test(i)&&i.startsWith(t)||e&&!cA(i)&&Object.prototype.hasOwnProperty.call(i,e)),bT=(t,e,i)=>s=>{if(typeof s!="string")return s;const[a,u,c,p]=s.match(cd);return{[t]:parseFloat(a),[e]:parseFloat(u),[i]:parseFloat(c),alpha:p!==void 0?parseFloat(p):1}},dA=t=>Vn(0,255,t),Fc={...Oo,transform:t=>Math.round(dA(t))},Bi={test:fd("rgb","red"),parse:bT("red","green","blue"),transform:({red:t,green:e,blue:i,alpha:s=1})=>"rgba("+Fc.transform(t)+", "+Fc.transform(e)+", "+Fc.transform(i)+", "+Xs(Ws.transform(s))+")"};function pA(t){let e="",i="",s="",a="";return t.length>5?(e=t.substring(1,3),i=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),i=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,i+=i,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(i,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const uf={test:fd("#"),parse:pA,transform:Bi.transform},Mo={test:fd("hsl","hue"),parse:bT("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:i,alpha:s=1})=>"hsla("+Math.round(t)+", "+pn.transform(Xs(e))+", "+pn.transform(Xs(i))+", "+Xs(Ws.transform(s))+")"},mt={test:t=>Bi.test(t)||uf.test(t)||Mo.test(t),parse:t=>Bi.test(t)?Bi.parse(t):Mo.test(t)?Mo.parse(t):uf.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Bi.transform(t):Mo.transform(t)},hA=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function mA(t){var e,i;return isNaN(t)&&typeof t=="string"&&(((e=t.match(cd))===null||e===void 0?void 0:e.length)||0)+(((i=t.match(hA))===null||i===void 0?void 0:i.length)||0)>0}const NT="number",RT="color",gA="var",yA="var(",Zg="${}",vA=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function tl(t){const e=t.toString(),i=[],s={color:[],number:[],var:[]},a=[];let u=0;const p=e.replace(vA,g=>(mt.test(g)?(s.color.push(u),a.push(RT),i.push(mt.parse(g))):g.startsWith(yA)?(s.var.push(u),a.push(gA),i.push(g)):(s.number.push(u),a.push(NT),i.push(parseFloat(g))),++u,Zg)).split(Zg);return{values:i,split:p,indexes:s,types:a}}function wT(t){return tl(t).values}function MT(t){const{split:e,types:i}=tl(t),s=e.length;return a=>{let u="";for(let c=0;c<s;c++)if(u+=e[c],a[c]!==void 0){const p=i[c];p===NT?u+=Xs(a[c]):p===RT?u+=mt.transform(a[c]):u+=a[c]}return u}}const TA=t=>typeof t=="number"?0:t;function xA(t){const e=wT(t);return MT(t)(e.map(TA))}const pi={test:mA,parse:wT,createTransformer:MT,getAnimatableNone:xA},SA=new Set(["brightness","contrast","saturate","opacity"]);function EA(t){const[e,i]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=i.match(cd)||[];if(!s)return t;const a=i.replace(s,"");let u=SA.has(e)?1:0;return s!==i&&(u*=100),e+"("+u+a+")"}const _A=/\b([a-z-]*)\(.*?\)/gu,cf={...pi,getAnimatableNone:t=>{const e=t.match(_A);return e?e.map(EA).join(" "):t}},CA={...Qf,color:mt,backgroundColor:mt,outlineColor:mt,fill:mt,stroke:mt,borderColor:mt,borderTopColor:mt,borderRightColor:mt,borderBottomColor:mt,borderLeftColor:mt,filter:cf,WebkitFilter:cf},dd=t=>CA[t];function DT(t,e){let i=dd(t);return i!==cf&&(i=pi),i.getAnimatableNone?i.getAnimatableNone(e):void 0}const AA=new Set(["auto","none","0"]);function bA(t,e,i){let s=0,a;for(;s<t.length&&!a;){const u=t[s];typeof u=="string"&&!AA.has(u)&&tl(u).values.length&&(a=t[s]),s++}if(a&&i)for(const u of e)t[u]=DT(i,a)}const jg=t=>t===Oo||t===de,Wg=(t,e)=>parseFloat(t.split(", ")[e]),e0=(t,e)=>(i,{transform:s})=>{if(s==="none"||!s)return 0;const a=s.match(/^matrix3d\((.+)\)$/u);if(a)return Wg(a[1],e);{const u=s.match(/^matrix\((.+)\)$/u);return u?Wg(u[1],t):0}},NA=new Set(["x","y","z"]),RA=zo.filter(t=>!NA.has(t));function wA(t){const e=[];return RA.forEach(i=>{const s=t.getValue(i);s!==void 0&&(e.push([i,s.get()]),s.set(i.startsWith("scale")?1:0))}),e}const Ho={width:({x:t},{paddingLeft:e="0",paddingRight:i="0"})=>t.max-t.min-parseFloat(e)-parseFloat(i),height:({y:t},{paddingTop:e="0",paddingBottom:i="0"})=>t.max-t.min-parseFloat(e)-parseFloat(i),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:e0(4,13),y:e0(5,14)};Ho.translateX=Ho.x;Ho.translateY=Ho.y;const Hi=new Set;let ff=!1,df=!1;function IT(){if(df){const t=Array.from(Hi).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),i=new Map;e.forEach(s=>{const a=wA(s);a.length&&(i.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=i.get(s);a&&a.forEach(([u,c])=>{var p;(p=s.getValue(u))===null||p===void 0||p.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}df=!1,ff=!1,Hi.forEach(t=>t.complete()),Hi.clear()}function UT(){Hi.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(df=!0)})}function MA(){UT(),IT()}class pd{constructor(e,i,s,a,u,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=i,this.name=s,this.motionValue=a,this.element=u,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Hi.add(this),ff||(ff=!0,ze.read(UT),ze.resolveKeyframes(IT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:i,element:s,motionValue:a}=this;for(let u=0;u<e.length;u++)if(e[u]===null)if(u===0){const c=a==null?void 0:a.get(),p=e[e.length-1];if(c!==void 0)e[0]=c;else if(s&&i){const g=s.readValue(i,p);g!=null&&(e[0]=g)}e[0]===void 0&&(e[0]=p),a&&c===void 0&&a.set(e[0])}else e[u]=e[u-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Hi.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Hi.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const LT=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),DA=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function IA(t){const e=DA.exec(t);if(!e)return[,];const[,i,s,a]=e;return[`--${i??s}`,a]}function PT(t,e,i=1){const[s,a]=IA(t);if(!s)return;const u=window.getComputedStyle(e).getPropertyValue(s);if(u){const c=u.trim();return LT(c)?parseFloat(c):c}return Xf(a)?PT(a,e,i+1):a}const VT=t=>e=>e.test(t),UA={test:t=>t==="auto",parse:t=>t},kT=[Oo,de,pn,fi,EC,SC,UA],t0=t=>kT.find(VT(t));class GT extends pd{constructor(e,i,s,a,u){super(e,i,s,a,u,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:i,name:s}=this;if(!i||!i.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let h=e[g];if(typeof h=="string"&&(h=h.trim(),Xf(h))){const v=PT(h,i.current);v!==void 0&&(e[g]=v),g===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!hT.has(s)||e.length!==2)return;const[a,u]=e,c=t0(a),p=t0(u);if(c!==p)if(jg(c)&&jg(p))for(let g=0;g<e.length;g++){const h=e[g];typeof h=="string"&&(e[g]=parseFloat(h))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:i}=this,s=[];for(let a=0;a<e.length;a++)uA(e[a])&&s.push(a);s.length&&bA(e,s,i)}measureInitialState(){const{element:e,unresolvedKeyframes:i,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ho[s](e.measureViewportBox(),window.getComputedStyle(e.current)),i[0]=this.measuredOrigin;const a=i[i.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){var e;const{element:i,name:s,unresolvedKeyframes:a}=this;if(!i||!i.current)return;const u=i.getValue(s);u&&u.jump(this.measuredOrigin,!1);const c=a.length-1,p=a[c];a[c]=Ho[s](i.measureViewportBox(),window.getComputedStyle(i.current)),p!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=p),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([g,h])=>{i.getValue(g).set(h)}),this.resolveNoneKeyframes()}}const n0=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(pi.test(t)||t==="0")&&!t.startsWith("url("));function LA(t){const e=t[0];if(t.length===1)return!0;for(let i=0;i<t.length;i++)if(t[i]!==e)return!0}function PA(t,e,i,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const u=t[t.length-1],c=n0(a,e),p=n0(u,e);return!c||!p?!1:LA(t)||(i==="spring"||nd(i))&&s}const VA=t=>t!==null;function cr(t,{repeat:e,repeatType:i="loop"},s){const a=t.filter(VA),u=e&&i!=="loop"&&e%2===1?0:a.length-1;return!u||s===void 0?a[u]:s}const kA=40;class BT{constructor({autoplay:e=!0,delay:i=0,type:s="keyframes",repeat:a=0,repeatDelay:u=0,repeatType:c="loop",...p}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=hn.now(),this.options={autoplay:e,delay:i,type:s,repeat:a,repeatDelay:u,repeatType:c,...p},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>kA?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&MA(),this._resolved}onKeyframesResolved(e,i){this.resolvedAt=hn.now(),this.hasAttemptedResolve=!0;const{name:s,type:a,velocity:u,delay:c,onComplete:p,onUpdate:g,isGenerator:h}=this.options;if(!h&&!PA(e,s,a,u))if(c)this.options.duration=0;else{g&&g(cr(e,this.options,i)),p&&p(),this.resolveFinishedPromise();return}const v=this.initPlayback(e,i);v!==!1&&(this._resolved={keyframes:e,finalKeyframe:i,...v},this.onPostResolved())}onPostResolved(){}then(e,i){return this.currentFinishedPromise.then(e,i)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Ye=(t,e,i)=>t+(e-t)*i;function Yc(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+(e-t)*6*i:i<1/2?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function GA({hue:t,saturation:e,lightness:i,alpha:s}){t/=360,e/=100,i/=100;let a=0,u=0,c=0;if(!e)a=u=c=i;else{const p=i<.5?i*(1+e):i+e-i*e,g=2*i-p;a=Yc(g,p,t+1/3),u=Yc(g,p,t),c=Yc(g,p,t-1/3)}return{red:Math.round(a*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:s}}function Ka(t,e){return i=>i>0?e:t}const Jc=(t,e,i)=>{const s=t*t,a=i*(e*e-s)+s;return a<0?0:Math.sqrt(a)},BA=[uf,Bi,Mo],HA=t=>BA.find(e=>e.test(t));function i0(t){const e=HA(t);if(!e)return!1;let i=e.parse(t);return e===Mo&&(i=GA(i)),i}const o0=(t,e)=>{const i=i0(t),s=i0(e);if(!i||!s)return Ka(t,e);const a={...i};return u=>(a.red=Jc(i.red,s.red,u),a.green=Jc(i.green,s.green,u),a.blue=Jc(i.blue,s.blue,u),a.alpha=Ye(i.alpha,s.alpha,u),Bi.transform(a))},zA=(t,e)=>i=>e(t(i)),al=(...t)=>t.reduce(zA),pf=new Set(["none","hidden"]);function OA(t,e){return pf.has(t)?i=>i<=0?t:e:i=>i>=1?e:t}function qA(t,e){return i=>Ye(t,e,i)}function hd(t){return typeof t=="number"?qA:typeof t=="string"?Xf(t)?Ka:mt.test(t)?o0:JA:Array.isArray(t)?HT:typeof t=="object"?mt.test(t)?o0:FA:Ka}function HT(t,e){const i=[...t],s=i.length,a=t.map((u,c)=>hd(u)(u,e[c]));return u=>{for(let c=0;c<s;c++)i[c]=a[c](u);return i}}function FA(t,e){const i={...t,...e},s={};for(const a in i)t[a]!==void 0&&e[a]!==void 0&&(s[a]=hd(t[a])(t[a],e[a]));return a=>{for(const u in s)i[u]=s[u](a);return i}}function YA(t,e){var i;const s=[],a={color:0,var:0,number:0};for(let u=0;u<e.values.length;u++){const c=e.types[u],p=t.indexes[c][a[c]],g=(i=t.values[p])!==null&&i!==void 0?i:0;s[u]=g,a[c]++}return s}const JA=(t,e)=>{const i=pi.createTransformer(e),s=tl(t),a=tl(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?pf.has(t)&&!a.values.length||pf.has(e)&&!s.values.length?OA(t,e):al(HT(YA(s,a),a.values),i):Ka(t,e)};function zT(t,e,i){return typeof t=="number"&&typeof e=="number"&&typeof i=="number"?Ye(t,e,i):hd(t)(t,e)}const KA=5;function OT(t,e,i){const s=Math.max(e-KA,0);return mT(i-t(s),e-s)}const Xe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Kc=.001;function XA({duration:t=Xe.duration,bounce:e=Xe.bounce,velocity:i=Xe.velocity,mass:s=Xe.mass}){let a,u,c=1-e;c=Vn(Xe.minDamping,Xe.maxDamping,c),t=Vn(Xe.minDuration,Xe.maxDuration,Ln(t)),c<1?(a=h=>{const v=h*c,T=v*t,x=v-i,_=hf(h,c),b=Math.exp(-T);return Kc-x/_*b},u=h=>{const T=h*c*t,x=T*i+i,_=Math.pow(c,2)*Math.pow(h,2)*t,b=Math.exp(-T),w=hf(Math.pow(h,2),c);return(-a(h)+Kc>0?-1:1)*((x-_)*b)/w}):(a=h=>{const v=Math.exp(-h*t),T=(h-i)*t+1;return-Kc+v*T},u=h=>{const v=Math.exp(-h*t),T=(i-h)*(t*t);return v*T});const p=5/t,g=$A(a,u,p);if(t=Un(t),isNaN(g))return{stiffness:Xe.stiffness,damping:Xe.damping,duration:t};{const h=Math.pow(g,2)*s;return{stiffness:h,damping:c*2*Math.sqrt(s*h),duration:t}}}const QA=12;function $A(t,e,i){let s=i;for(let a=1;a<QA;a++)s=s-t(s)/e(s);return s}function hf(t,e){return t*Math.sqrt(1-e*e)}const ZA=["duration","bounce"],jA=["stiffness","damping","mass"];function s0(t,e){return e.some(i=>t[i]!==void 0)}function WA(t){let e={velocity:Xe.velocity,stiffness:Xe.stiffness,damping:Xe.damping,mass:Xe.mass,isResolvedFromDuration:!1,...t};if(!s0(t,jA)&&s0(t,ZA))if(t.visualDuration){const i=t.visualDuration,s=2*Math.PI/(i*1.2),a=s*s,u=2*Vn(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Xe.mass,stiffness:a,damping:u}}else{const i=XA(t);e={...e,...i,mass:Xe.mass},e.isResolvedFromDuration=!0}return e}function qT(t=Xe.visualDuration,e=Xe.bounce){const i=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=i;const u=i.keyframes[0],c=i.keyframes[i.keyframes.length-1],p={done:!1,value:u},{stiffness:g,damping:h,mass:v,duration:T,velocity:x,isResolvedFromDuration:_}=WA({...i,velocity:-Ln(i.velocity||0)}),b=x||0,w=h/(2*Math.sqrt(g*v)),A=c-u,R=Ln(Math.sqrt(g/v)),P=Math.abs(A)<5;s||(s=P?Xe.restSpeed.granular:Xe.restSpeed.default),a||(a=P?Xe.restDelta.granular:Xe.restDelta.default);let U;if(w<1){const H=hf(R,w);U=q=>{const z=Math.exp(-w*R*q);return c-z*((b+w*R*A)/H*Math.sin(H*q)+A*Math.cos(H*q))}}else if(w===1)U=H=>c-Math.exp(-R*H)*(A+(b+R*A)*H);else{const H=R*Math.sqrt(w*w-1);U=q=>{const z=Math.exp(-w*R*q),Q=Math.min(H*q,300);return c-z*((b+w*R*A)*Math.sinh(Q)+H*A*Math.cosh(Q))/H}}const J={calculatedDuration:_&&T||null,next:H=>{const q=U(H);if(_)p.done=H>=T;else{let z=0;w<1&&(z=H===0?Un(b):OT(U,H,q));const Q=Math.abs(z)<=s,Z=Math.abs(c-q)<=a;p.done=Q&&Z}return p.value=p.done?c:q,p},toString:()=>{const H=Math.min(aT(J),lf),q=rT(z=>J.next(H*z).value,H,30);return H+"ms "+q}};return J}function l0({keyframes:t,velocity:e=0,power:i=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:u=500,modifyTarget:c,min:p,max:g,restDelta:h=.5,restSpeed:v}){const T=t[0],x={done:!1,value:T},_=Q=>p!==void 0&&Q<p||g!==void 0&&Q>g,b=Q=>p===void 0?g:g===void 0||Math.abs(p-Q)<Math.abs(g-Q)?p:g;let w=i*e;const A=T+w,R=c===void 0?A:c(A);R!==A&&(w=R-T);const P=Q=>-w*Math.exp(-Q/s),U=Q=>R+P(Q),J=Q=>{const Z=P(Q),ie=U(Q);x.done=Math.abs(Z)<=h,x.value=x.done?R:ie};let H,q;const z=Q=>{_(x.value)&&(H=Q,q=qT({keyframes:[x.value,b(x.value)],velocity:OT(U,Q,x.value),damping:a,stiffness:u,restDelta:h,restSpeed:v}))};return z(0),{calculatedDuration:null,next:Q=>{let Z=!1;return!q&&H===void 0&&(Z=!0,J(Q),z(Q)),H!==void 0&&Q>=H?q.next(Q-H):(!Z&&J(Q),x)}}}const e1=ll(.42,0,1,1),t1=ll(0,0,.58,1),FT=ll(.42,0,.58,1),n1=t=>Array.isArray(t)&&typeof t[0]!="number",i1={linear:Bt,easeIn:e1,easeInOut:FT,easeOut:t1,circIn:ud,circInOut:CT,circOut:_T,backIn:rd,backInOut:ST,backOut:xT,anticipate:ET},a0=t=>{if(id(t)){zv(t.length===4);const[e,i,s,a]=t;return ll(e,i,s,a)}else if(typeof t=="string")return i1[t];return t};function o1(t,e,i){const s=[],a=i||zT,u=t.length-1;for(let c=0;c<u;c++){let p=a(t[c],t[c+1]);if(e){const g=Array.isArray(e)?e[c]||Bt:e;p=al(g,p)}s.push(p)}return s}function s1(t,e,{clamp:i=!0,ease:s,mixer:a}={}){const u=t.length;if(zv(u===e.length),u===1)return()=>e[0];if(u===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[u-1]&&(t=[...t].reverse(),e=[...e].reverse());const p=o1(e,s,a),g=p.length,h=v=>{if(c&&v<t[0])return e[0];let T=0;if(g>1)for(;T<t.length-2&&!(v<t[T+1]);T++);const x=Go(t[T],t[T+1],v);return p[T](x)};return i?v=>h(Vn(t[0],t[u-1],v)):h}function l1(t,e){const i=t[t.length-1];for(let s=1;s<=e;s++){const a=Go(0,e,s);t.push(Ye(i,1,a))}}function a1(t){const e=[0];return l1(e,t.length-1),e}function r1(t,e){return t.map(i=>i*e)}function u1(t,e){return t.map(()=>e||FT).splice(0,t.length-1)}function Xa({duration:t=300,keyframes:e,times:i,ease:s="easeInOut"}){const a=n1(s)?s.map(a0):a0(s),u={done:!1,value:e[0]},c=r1(i&&i.length===e.length?i:a1(e),t),p=s1(c,e,{ease:Array.isArray(a)?a:u1(e,a)});return{calculatedDuration:t,next:g=>(u.value=p(g),u.done=g>=t,u)}}const c1=t=>{const e=({timestamp:i})=>t(i);return{start:()=>ze.update(e,!0),stop:()=>di(e),now:()=>dt.isProcessing?dt.timestamp:hn.now()}},f1={decay:l0,inertia:l0,tween:Xa,keyframes:Xa,spring:qT},d1=t=>t/100;class md extends BT{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:g}=this.options;g&&g()};const{name:i,motionValue:s,element:a,keyframes:u}=this.options,c=(a==null?void 0:a.KeyframeResolver)||pd,p=(g,h)=>this.onKeyframesResolved(g,h);this.resolver=new c(u,p,i,s,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:u,velocity:c=0}=this.options,p=nd(i)?i:f1[i]||Xa;let g,h;p!==Xa&&typeof e[0]!="number"&&(g=al(d1,zT(e[0],e[1])),e=[0,100]);const v=p({...this.options,keyframes:e});u==="mirror"&&(h=p({...this.options,keyframes:[...e].reverse(),velocity:-c})),v.calculatedDuration===null&&(v.calculatedDuration=aT(v));const{calculatedDuration:T}=v,x=T+a,_=x*(s+1)-a;return{generator:v,mirroredGenerator:h,mapPercentToKeyframes:g,calculatedDuration:T,resolvedDuration:x,totalDuration:_}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,i=!1){const{resolved:s}=this;if(!s){const{keyframes:Q}=this.options;return{done:!0,value:Q[Q.length-1]}}const{finalKeyframe:a,generator:u,mirroredGenerator:c,mapPercentToKeyframes:p,keyframes:g,calculatedDuration:h,totalDuration:v,resolvedDuration:T}=s;if(this.startTime===null)return u.next(0);const{delay:x,repeat:_,repeatType:b,repeatDelay:w,onUpdate:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-v/this.speed,this.startTime)),i?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const R=this.currentTime-x*(this.speed>=0?1:-1),P=this.speed>=0?R<0:R>v;this.currentTime=Math.max(R,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=v);let U=this.currentTime,J=u;if(_){const Q=Math.min(this.currentTime,v)/T;let Z=Math.floor(Q),ie=Q%1;!ie&&Q>=1&&(ie=1),ie===1&&Z--,Z=Math.min(Z,_+1),!!(Z%2)&&(b==="reverse"?(ie=1-ie,w&&(ie-=w/T)):b==="mirror"&&(J=c)),U=Vn(0,1,ie)*T}const H=P?{done:!1,value:g[0]}:J.next(U);p&&(H.value=p(H.value));let{done:q}=H;!P&&h!==null&&(q=this.speed>=0?this.currentTime>=v:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&q);return z&&a!==void 0&&(H.value=cr(g,this.options,a)),A&&A(H.value),z&&this.finish(),H}get duration(){const{resolved:e}=this;return e?Ln(e.calculatedDuration):0}get time(){return Ln(this.currentTime)}set time(e){e=Un(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const i=this.playbackSpeed!==e;this.playbackSpeed=e,i&&(this.time=Ln(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=c1,onPlay:i,startTime:s}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),i&&i();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const p1=new Set(["opacity","clipPath","filter","transform"]);function h1(t,e,i,{delay:s=0,duration:a=300,repeat:u=0,repeatType:c="loop",ease:p="easeInOut",times:g}={}){const h={[e]:i};g&&(h.offset=g);const v=cT(p,a);return Array.isArray(v)&&(h.easing=v),t.animate(h,{delay:s,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"})}const m1=zf(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Qa=10,g1=2e4;function y1(t){return nd(t.type)||t.type==="spring"||!uT(t.ease)}function v1(t,e){const i=new md({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:t[0]};const a=[];let u=0;for(;!s.done&&u<g1;)s=i.sample(u),a.push(s.value),u+=Qa;return{times:void 0,keyframes:a,duration:u-Qa,ease:"linear"}}const YT={anticipate:ET,backInOut:ST,circInOut:CT};function T1(t){return t in YT}class r0 extends BT{constructor(e){super(e);const{name:i,motionValue:s,element:a,keyframes:u}=this.options;this.resolver=new GT(u,(c,p)=>this.onKeyframesResolved(c,p),i,s,a),this.resolver.scheduleResolve()}initPlayback(e,i){let{duration:s=300,times:a,ease:u,type:c,motionValue:p,name:g,startTime:h}=this.options;if(!p.owner||!p.owner.current)return!1;if(typeof u=="string"&&Ja()&&T1(u)&&(u=YT[u]),y1(this.options)){const{onComplete:T,onUpdate:x,motionValue:_,element:b,...w}=this.options,A=v1(e,w);e=A.keyframes,e.length===1&&(e[1]=e[0]),s=A.duration,a=A.times,u=A.ease,c="keyframes"}const v=h1(p.owner.current,g,e,{...this.options,duration:s,times:a,ease:u});return v.startTime=h??this.calcStartTime(),this.pendingTimeline?(Jg(v,this.pendingTimeline),this.pendingTimeline=void 0):v.onfinish=()=>{const{onComplete:T}=this.options;p.set(cr(e,this.options,i)),T&&T(),this.cancel(),this.resolveFinishedPromise()},{animation:v,duration:s,times:a,type:c,ease:u,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:i}=e;return Ln(i)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:i}=e;return Ln(i.currentTime||0)}set time(e){const{resolved:i}=this;if(!i)return;const{animation:s}=i;s.currentTime=Un(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:i}=e;return i.playbackRate}set speed(e){const{resolved:i}=this;if(!i)return;const{animation:s}=i;s.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:i}=e;return i.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:i}=e;return i.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:i}=this;if(!i)return Bt;const{animation:s}=i;Jg(s,e)}return Bt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:i}=e;i.playState==="finished"&&this.updateFinishedPromise(),i.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:i}=e;i.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:i,keyframes:s,duration:a,type:u,ease:c,times:p}=e;if(i.playState==="idle"||i.playState==="finished")return;if(this.time){const{motionValue:h,onUpdate:v,onComplete:T,element:x,..._}=this.options,b=new md({..._,keyframes:s,duration:a,type:u,ease:c,times:p,isGenerator:!0}),w=Un(this.time);h.setWithVelocity(b.sample(w-Qa).value,b.sample(w).value,Qa)}const{onStop:g}=this.options;g&&g(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:i,name:s,repeatDelay:a,repeatType:u,damping:c,type:p}=e;if(!i||!i.owner||!(i.owner.current instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:h}=i.owner.getProps();return m1()&&s&&p1.has(s)&&!g&&!h&&!a&&u!=="mirror"&&c!==0&&p!=="inertia"}}const x1={type:"spring",stiffness:500,damping:25,restSpeed:10},S1=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),E1={type:"keyframes",duration:.8},_1={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},C1=(t,{keyframes:e})=>e.length>2?E1:zi.has(t)?t.startsWith("scale")?S1(e[1]):x1:_1;function A1({when:t,delay:e,delayChildren:i,staggerChildren:s,staggerDirection:a,repeat:u,repeatType:c,repeatDelay:p,from:g,elapsed:h,...v}){return!!Object.keys(v).length}const gd=(t,e,i,s={},a,u)=>c=>{const p=td(s,t)||{},g=p.delay||s.delay||0;let{elapsed:h=0}=s;h=h-Un(g);let v={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:e.getVelocity(),...p,delay:-h,onUpdate:x=>{e.set(x),p.onUpdate&&p.onUpdate(x)},onComplete:()=>{c(),p.onComplete&&p.onComplete()},name:t,motionValue:e,element:u?void 0:a};A1(p)||(v={...v,...C1(t,v)}),v.duration&&(v.duration=Un(v.duration)),v.repeatDelay&&(v.repeatDelay=Un(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let T=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(T=!0)),T&&!u&&e.get()!==void 0){const x=cr(v.keyframes,p);if(x!==void 0)return ze.update(()=>{v.onUpdate(x),v.onComplete()}),new FC([])}return!u&&r0.supports(v)?new r0(v):new md(v)};function b1({protectedKeys:t,needsAnimating:e},i){const s=t.hasOwnProperty(i)&&e[i]!==!0;return e[i]=!1,s}function JT(t,e,{delay:i=0,transitionOverride:s,type:a}={}){var u;let{transition:c=t.getDefaultTransition(),transitionEnd:p,...g}=e;s&&(c=s);const h=[],v=a&&t.animationState&&t.animationState.getState()[a];for(const T in g){const x=t.getValue(T,(u=t.latestValues[T])!==null&&u!==void 0?u:null),_=g[T];if(_===void 0||v&&b1(v,T))continue;const b={delay:i,...td(c||{},T)};let w=!1;if(window.MotionHandoffAnimation){const R=gT(t);if(R){const P=window.MotionHandoffAnimation(R,T,ze);P!==null&&(b.startTime=P,w=!0)}}rf(t,T),x.start(gd(T,x,_,t.shouldReduceMotion&&hT.has(T)?{type:!1}:b,t,w));const A=x.animation;A&&h.push(A)}return p&&Promise.all(h).then(()=>{ze.update(()=>{p&&oA(t,p)})}),h}function mf(t,e,i={}){var s;const a=ur(t,e,i.type==="exit"?(s=t.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:u=t.getDefaultTransition()||{}}=a||{};i.transitionOverride&&(u=i.transitionOverride);const c=a?()=>Promise.all(JT(t,a,i)):()=>Promise.resolve(),p=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:v=0,staggerChildren:T,staggerDirection:x}=u;return N1(t,e,v+h,T,x,i)}:()=>Promise.resolve(),{when:g}=u;if(g){const[h,v]=g==="beforeChildren"?[c,p]:[p,c];return h().then(()=>v())}else return Promise.all([c(),p(i.delay)])}function N1(t,e,i=0,s=0,a=1,u){const c=[],p=(t.variantChildren.size-1)*s,g=a===1?(h=0)=>h*s:(h=0)=>p-h*s;return Array.from(t.variantChildren).sort(R1).forEach((h,v)=>{h.notify("AnimationStart",e),c.push(mf(h,e,{...u,delay:i+g(v)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(c)}function R1(t,e){return t.sortNodePosition(e)}function w1(t,e,i={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(u=>mf(t,u,i));s=Promise.all(a)}else if(typeof e=="string")s=mf(t,e,i);else{const a=typeof e=="function"?ur(t,e,i.custom):e;s=Promise.all(JT(t,a,i))}return s.then(()=>{t.notify("AnimationComplete",e)})}const M1=qf.length;function KT(t){if(!t)return;if(!t.isControllingVariants){const i=t.parent?KT(t.parent)||{}:{};return t.props.initial!==void 0&&(i.initial=t.props.initial),i}const e={};for(let i=0;i<M1;i++){const s=qf[i],a=t.props[s];(js(a)||a===!1)&&(e[s]=a)}return e}const D1=[...Of].reverse(),I1=Of.length;function U1(t){return e=>Promise.all(e.map(({animation:i,options:s})=>w1(t,i,s)))}function L1(t){let e=U1(t),i=u0(),s=!0;const a=g=>(h,v)=>{var T;const x=ur(t,v,g==="exit"?(T=t.presenceContext)===null||T===void 0?void 0:T.custom:void 0);if(x){const{transition:_,transitionEnd:b,...w}=x;h={...h,...w,...b}}return h};function u(g){e=g(t)}function c(g){const{props:h}=t,v=KT(t.parent)||{},T=[],x=new Set;let _={},b=1/0;for(let A=0;A<I1;A++){const R=D1[A],P=i[R],U=h[R]!==void 0?h[R]:v[R],J=js(U),H=R===g?P.isActive:null;H===!1&&(b=A);let q=U===v[R]&&U!==h[R]&&J;if(q&&s&&t.manuallyAnimateOnMount&&(q=!1),P.protectedKeys={..._},!P.isActive&&H===null||!U&&!P.prevProp||ar(U)||typeof U=="boolean")continue;const z=P1(P.prevProp,U);let Q=z||R===g&&P.isActive&&!q&&J||A>b&&J,Z=!1;const ie=Array.isArray(U)?U:[U];let pe=ie.reduce(a(R),{});H===!1&&(pe={});const{prevResolvedValues:ee={}}=P,re={...ee,...pe},ye=$=>{Q=!0,x.has($)&&(Z=!0,x.delete($)),P.needsAnimating[$]=!0;const se=t.getValue($);se&&(se.liveStyle=!1)};for(const $ in re){const se=pe[$],Te=ee[$];if(_.hasOwnProperty($))continue;let W=!1;sf(se)&&sf(Te)?W=!lT(se,Te):W=se!==Te,W?se!=null?ye($):x.add($):se!==void 0&&x.has($)?ye($):P.protectedKeys[$]=!0}P.prevProp=U,P.prevResolvedValues=pe,P.isActive&&(_={..._,...pe}),s&&t.blockInitialAnimation&&(Q=!1),Q&&(!(q&&z)||Z)&&T.push(...ie.map($=>({animation:$,options:{type:R}})))}if(x.size){const A={};x.forEach(R=>{const P=t.getBaseTarget(R),U=t.getValue(R);U&&(U.liveStyle=!0),A[R]=P??null}),T.push({animation:A})}let w=!!T.length;return s&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(w=!1),s=!1,w?e(T):Promise.resolve()}function p(g,h){var v;if(i[g].isActive===h)return Promise.resolve();(v=t.variantChildren)===null||v===void 0||v.forEach(x=>{var _;return(_=x.animationState)===null||_===void 0?void 0:_.setActive(g,h)}),i[g].isActive=h;const T=c(g);for(const x in i)i[x].protectedKeys={};return T}return{animateChanges:c,setActive:p,setAnimateFunction:u,getState:()=>i,reset:()=>{i=u0(),s=!0}}}function P1(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!lT(e,t):!1}function Pi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function u0(){return{animate:Pi(!0),whileInView:Pi(),whileHover:Pi(),whileTap:Pi(),whileDrag:Pi(),whileFocus:Pi(),exit:Pi()}}class hi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class V1 extends hi{constructor(e){super(e),e.animationState||(e.animationState=L1(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ar(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:i}=this.node.prevProps||{};e!==i&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let k1=0;class G1 extends hi{constructor(){super(...arguments),this.id=k1++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:i}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);i&&!e&&a.then(()=>i(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const B1={animation:{Feature:V1},exit:{Feature:G1}};function nl(t,e,i,s={passive:!0}){return t.addEventListener(e,i,s),()=>t.removeEventListener(e,i)}function rl(t){return{point:{x:t.pageX,y:t.pageY}}}const H1=t=>e=>od(e)&&t(e,rl(e));function Qs(t,e,i,s){return nl(t,e,H1(i),s)}const c0=(t,e)=>Math.abs(t-e);function z1(t,e){const i=c0(t.x,e.x),s=c0(t.y,e.y);return Math.sqrt(i**2+s**2)}class XT{constructor(e,i,{transformPagePoint:s,contextWindow:a,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Qc(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,_=z1(T.offset,{x:0,y:0})>=3;if(!x&&!_)return;const{point:b}=T,{timestamp:w}=dt;this.history.push({...b,timestamp:w});const{onStart:A,onMove:R}=this.handlers;x||(A&&A(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,T)},this.handlePointerMove=(T,x)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=Xc(x,this.transformPagePoint),ze.update(this.updatePoint,!0)},this.handlePointerUp=(T,x)=>{this.end();const{onEnd:_,onSessionEnd:b,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Qc(T.type==="pointercancel"?this.lastMoveEventInfo:Xc(x,this.transformPagePoint),this.history);this.startEvent&&_&&_(T,A),b&&b(T,A)},!od(e))return;this.dragSnapToOrigin=u,this.handlers=i,this.transformPagePoint=s,this.contextWindow=a||window;const c=rl(e),p=Xc(c,this.transformPagePoint),{point:g}=p,{timestamp:h}=dt;this.history=[{...g,timestamp:h}];const{onSessionStart:v}=i;v&&v(e,Qc(p,this.history)),this.removeListeners=al(Qs(this.contextWindow,"pointermove",this.handlePointerMove),Qs(this.contextWindow,"pointerup",this.handlePointerUp),Qs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),di(this.updatePoint)}}function Xc(t,e){return e?{point:e(t.point)}:t}function f0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Qc({point:t},e){return{point:t,delta:f0(t,QT(e)),offset:f0(t,O1(e)),velocity:q1(e,.1)}}function O1(t){return t[0]}function QT(t){return t[t.length-1]}function q1(t,e){if(t.length<2)return{x:0,y:0};let i=t.length-1,s=null;const a=QT(t);for(;i>=0&&(s=t[i],!(a.timestamp-s.timestamp>Un(e)));)i--;if(!s)return{x:0,y:0};const u=Ln(a.timestamp-s.timestamp);if(u===0)return{x:0,y:0};const c={x:(a.x-s.x)/u,y:(a.y-s.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const $T=1e-4,F1=1-$T,Y1=1+$T,ZT=.01,J1=0-ZT,K1=0+ZT;function Ht(t){return t.max-t.min}function X1(t,e,i){return Math.abs(t-e)<=i}function d0(t,e,i,s=.5){t.origin=s,t.originPoint=Ye(e.min,e.max,t.origin),t.scale=Ht(i)/Ht(e),t.translate=Ye(i.min,i.max,t.origin)-t.originPoint,(t.scale>=F1&&t.scale<=Y1||isNaN(t.scale))&&(t.scale=1),(t.translate>=J1&&t.translate<=K1||isNaN(t.translate))&&(t.translate=0)}function $s(t,e,i,s){d0(t.x,e.x,i.x,s?s.originX:void 0),d0(t.y,e.y,i.y,s?s.originY:void 0)}function p0(t,e,i){t.min=i.min+e.min,t.max=t.min+Ht(e)}function Q1(t,e,i){p0(t.x,e.x,i.x),p0(t.y,e.y,i.y)}function h0(t,e,i){t.min=e.min-i.min,t.max=t.min+Ht(e)}function Zs(t,e,i){h0(t.x,e.x,i.x),h0(t.y,e.y,i.y)}function $1(t,{min:e,max:i},s){return e!==void 0&&t<e?t=s?Ye(e,t,s.min):Math.max(t,e):i!==void 0&&t>i&&(t=s?Ye(i,t,s.max):Math.min(t,i)),t}function m0(t,e,i){return{min:e!==void 0?t.min+e:void 0,max:i!==void 0?t.max+i-(t.max-t.min):void 0}}function Z1(t,{top:e,left:i,bottom:s,right:a}){return{x:m0(t.x,i,a),y:m0(t.y,e,s)}}function g0(t,e){let i=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([i,s]=[s,i]),{min:i,max:s}}function j1(t,e){return{x:g0(t.x,e.x),y:g0(t.y,e.y)}}function W1(t,e){let i=.5;const s=Ht(t),a=Ht(e);return a>s?i=Go(e.min,e.max-s,t.min):s>a&&(i=Go(t.min,t.max-a,e.min)),Vn(0,1,i)}function eb(t,e){const i={};return e.min!==void 0&&(i.min=e.min-t.min),e.max!==void 0&&(i.max=e.max-t.min),i}const gf=.35;function tb(t=gf){return t===!1?t=0:t===!0&&(t=gf),{x:y0(t,"left","right"),y:y0(t,"top","bottom")}}function y0(t,e,i){return{min:v0(t,e),max:v0(t,i)}}function v0(t,e){return typeof t=="number"?t:t[e]||0}const T0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Do=()=>({x:T0(),y:T0()}),x0=()=>({min:0,max:0}),Ze=()=>({x:x0(),y:x0()});function jt(t){return[t("x"),t("y")]}function jT({top:t,left:e,right:i,bottom:s}){return{x:{min:e,max:i},y:{min:t,max:s}}}function nb({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function ib(t,e){if(!e)return t;const i=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:i.y,left:i.x,bottom:s.y,right:s.x}}function $c(t){return t===void 0||t===1}function yf({scale:t,scaleX:e,scaleY:i}){return!$c(t)||!$c(e)||!$c(i)}function Vi(t){return yf(t)||WT(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function WT(t){return S0(t.x)||S0(t.y)}function S0(t){return t&&t!=="0%"}function $a(t,e,i){const s=t-i,a=e*s;return i+a}function E0(t,e,i,s,a){return a!==void 0&&(t=$a(t,a,s)),$a(t,i,s)+e}function vf(t,e=0,i=1,s,a){t.min=E0(t.min,e,i,s,a),t.max=E0(t.max,e,i,s,a)}function ex(t,{x:e,y:i}){vf(t.x,e.translate,e.scale,e.originPoint),vf(t.y,i.translate,i.scale,i.originPoint)}const _0=.999999999999,C0=1.0000000000001;function ob(t,e,i,s=!1){const a=i.length;if(!a)return;e.x=e.y=1;let u,c;for(let p=0;p<a;p++){u=i[p],c=u.projectionDelta;const{visualElement:g}=u.options;g&&g.props.style&&g.props.style.display==="contents"||(s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Uo(t,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,ex(t,c)),s&&Vi(u.latestValues)&&Uo(t,u.latestValues))}e.x<C0&&e.x>_0&&(e.x=1),e.y<C0&&e.y>_0&&(e.y=1)}function Io(t,e){t.min=t.min+e,t.max=t.max+e}function A0(t,e,i,s,a=.5){const u=Ye(t.min,t.max,a);vf(t,e,i,u,s)}function Uo(t,e){A0(t.x,e.x,e.scaleX,e.scale,e.originX),A0(t.y,e.y,e.scaleY,e.scale,e.originY)}function tx(t,e){return jT(ib(t.getBoundingClientRect(),e))}function sb(t,e,i){const s=tx(t,i),{scroll:a}=e;return a&&(Io(s.x,a.offset.x),Io(s.y,a.offset.y)),s}const nx=({current:t})=>t?t.ownerDocument.defaultView:null,lb=new WeakMap;class ab{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ze(),this.visualElement=e}start(e,{snapToCursor:i=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=v=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(rl(v).point)},u=(v,T)=>{const{drag:x,dragPropagation:_,onDragStart:b}=this.getProps();if(x&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=WC(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jt(A=>{let R=this.getAxisMotionValue(A).get()||0;if(pn.test(R)){const{projection:P}=this.visualElement;if(P&&P.layout){const U=P.layout.layoutBox[A];U&&(R=Ht(U)*(parseFloat(R)/100))}}this.originPoint[A]=R}),b&&ze.postRender(()=>b(v,T)),rf(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},c=(v,T)=>{const{dragPropagation:x,dragDirectionLock:_,onDirectionLock:b,onDrag:w}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:A}=T;if(_&&this.currentDirection===null){this.currentDirection=rb(A),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",T.point,A),this.updateAxis("y",T.point,A),this.visualElement.render(),w&&w(v,T)},p=(v,T)=>this.stop(v,T),g=()=>jt(v=>{var T;return this.getAnimationState(v)==="paused"&&((T=this.getAxisMotionValue(v).animation)===null||T===void 0?void 0:T.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new XT(e,{onSessionStart:a,onStart:u,onMove:c,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:nx(this.visualElement)})}stop(e,i){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:u}=this.getProps();u&&ze.postRender(()=>u(e,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:i}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(e,i,s){const{drag:a}=this.getProps();if(!s||!Ma(e,a,this.currentDirection))return;const u=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=$1(c,this.constraints[e],this.elastic[e])),u.set(c)}resolveConstraints(){var e;const{dragConstraints:i,dragElastic:s}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,u=this.constraints;i&&wo(i)?this.constraints||(this.constraints=this.resolveRefConstraints()):i&&a?this.constraints=Z1(a.layoutBox,i):this.constraints=!1,this.elastic=tb(s),u!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&jt(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=eb(a.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:i}=this.getProps();if(!e||!wo(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const u=sb(s,a.root,this.visualElement.getTransformPagePoint());let c=j1(a.layout.layoutBox,u);if(i){const p=i(nb(c));this.hasMutatedConstraints=!!p,p&&(c=jT(p))}return c}startAnimation(e){const{drag:i,dragMomentum:s,dragElastic:a,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:p}=this.getProps(),g=this.constraints||{},h=jt(v=>{if(!Ma(v,i,this.currentDirection))return;let T=g&&g[v]||{};c&&(T={min:0,max:0});const x=a?200:1e6,_=a?40:1e7,b={type:"inertia",velocity:s?e[v]:0,bounceStiffness:x,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...u,...T};return this.startAxisValueAnimation(v,b)});return Promise.all(h).then(p)}startAxisValueAnimation(e,i){const s=this.getAxisMotionValue(e);return rf(this.visualElement,e),s.start(gd(e,s,0,i,this.visualElement,!1))}stopAnimation(){jt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){jt(e=>{var i;return(i=this.getAxisMotionValue(e).animation)===null||i===void 0?void 0:i.pause()})}getAnimationState(e){var i;return(i=this.getAxisMotionValue(e).animation)===null||i===void 0?void 0:i.state}getAxisMotionValue(e){const i=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[i];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){jt(i=>{const{drag:s}=this.getProps();if(!Ma(i,s,this.currentDirection))return;const{projection:a}=this.visualElement,u=this.getAxisMotionValue(i);if(a&&a.layout){const{min:c,max:p}=a.layout.layoutBox[i];u.set(e[i]-Ye(c,p,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:i}=this.getProps(),{projection:s}=this.visualElement;if(!wo(i)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};jt(c=>{const p=this.getAxisMotionValue(c);if(p&&this.constraints!==!1){const g=p.get();a[c]=W1({min:g,max:g},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),jt(c=>{if(!Ma(c,e,null))return;const p=this.getAxisMotionValue(c),{min:g,max:h}=this.constraints[c];p.set(Ye(g,h,a[c]))})}addListeners(){if(!this.visualElement.current)return;lb.set(this.visualElement,this);const e=this.visualElement.current,i=Qs(e,"pointerdown",g=>{const{drag:h,dragListener:v=!0}=this.getProps();h&&v&&this.start(g)}),s=()=>{const{dragConstraints:g}=this.getProps();wo(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,u=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ze.read(s);const c=nl(window,"resize",()=>this.scalePositionWithinConstraints()),p=a.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:h})=>{this.isDragging&&h&&(jt(v=>{const T=this.getAxisMotionValue(v);T&&(this.originPoint[v]+=g[v].translate,T.set(T.get()+g[v].translate))}),this.visualElement.render())}));return()=>{c(),i(),u(),p&&p()}}getProps(){const e=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:u=!1,dragElastic:c=gf,dragMomentum:p=!0}=e;return{...e,drag:i,dragDirectionLock:s,dragPropagation:a,dragConstraints:u,dragElastic:c,dragMomentum:p}}}function Ma(t,e,i){return(e===!0||e===t)&&(i===null||i===t)}function rb(t,e=10){let i=null;return Math.abs(t.y)>e?i="y":Math.abs(t.x)>e&&(i="x"),i}class ub extends hi{constructor(e){super(e),this.removeGroupControls=Bt,this.removeListeners=Bt,this.controls=new ab(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Bt}unmount(){this.removeGroupControls(),this.removeListeners()}}const b0=t=>(e,i)=>{t&&ze.postRender(()=>t(e,i))};class cb extends hi{constructor(){super(...arguments),this.removePointerDownListener=Bt}onPointerDown(e){this.session=new XT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:nx(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:i,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:b0(e),onStart:b0(i),onMove:s,onEnd:(u,c)=>{delete this.session,a&&ze.postRender(()=>a(u,c))}}}mount(){this.removePointerDownListener=Qs(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const za={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function N0(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const zs={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(de.test(t))t=parseFloat(t);else return t;const i=N0(t,e.target.x),s=N0(t,e.target.y);return`${i}% ${s}%`}},fb={correct:(t,{treeScale:e,projectionDelta:i})=>{const s=t,a=pi.parse(t);if(a.length>5)return s;const u=pi.createTransformer(t),c=typeof a[0]!="number"?1:0,p=i.x.scale*e.x,g=i.y.scale*e.y;a[0+c]/=p,a[1+c]/=g;const h=Ye(p,g,.5);return typeof a[2+c]=="number"&&(a[2+c]/=h),typeof a[3+c]=="number"&&(a[3+c]/=h),u(a)}};class db extends X.Component{componentDidMount(){const{visualElement:e,layoutGroup:i,switchLayoutGroup:s,layoutId:a}=this.props,{projection:u}=e;IC(pb),u&&(i.group&&i.group.add(u),s&&s.register&&a&&s.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),za.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:i,visualElement:s,drag:a,isPresent:u}=this.props,c=s.projection;return c&&(c.isPresent=u,a||e.layoutDependency!==i||i===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?c.promote():c.relegate()||ze.postRender(()=>{const p=c.getStack();(!p||!p.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Yf.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:i,switchLayoutGroup:s}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ix(t){const[e,i]=Bv(),s=X.useContext(kf);return S.jsx(db,{...t,layoutGroup:s,switchLayoutGroup:X.useContext(Kv),isPresent:e,safeToRemove:i})}const pb={borderRadius:{...zs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:zs,borderTopRightRadius:zs,borderBottomLeftRadius:zs,borderBottomRightRadius:zs,boxShadow:fb};function hb(t,e,i){const s=gt(t)?t:el(t);return s.start(gd("",s,e,i)),s.animation}function mb(t){return t instanceof SVGElement&&t.tagName!=="svg"}const gb=(t,e)=>t.depth-e.depth;class yb{constructor(){this.children=[],this.isDirty=!1}add(e){sd(this.children,e),this.isDirty=!0}remove(e){ld(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(gb),this.isDirty=!1,this.children.forEach(e)}}function vb(t,e){const i=hn.now(),s=({timestamp:a})=>{const u=a-i;u>=e&&(di(s),t(u-e))};return ze.read(s,!0),()=>di(s)}const ox=["TopLeft","TopRight","BottomLeft","BottomRight"],Tb=ox.length,R0=t=>typeof t=="string"?parseFloat(t):t,w0=t=>typeof t=="number"||de.test(t);function xb(t,e,i,s,a,u){a?(t.opacity=Ye(0,i.opacity!==void 0?i.opacity:1,Sb(s)),t.opacityExit=Ye(e.opacity!==void 0?e.opacity:1,0,Eb(s))):u&&(t.opacity=Ye(e.opacity!==void 0?e.opacity:1,i.opacity!==void 0?i.opacity:1,s));for(let c=0;c<Tb;c++){const p=`border${ox[c]}Radius`;let g=M0(e,p),h=M0(i,p);if(g===void 0&&h===void 0)continue;g||(g=0),h||(h=0),g===0||h===0||w0(g)===w0(h)?(t[p]=Math.max(Ye(R0(g),R0(h),s),0),(pn.test(h)||pn.test(g))&&(t[p]+="%")):t[p]=h}(e.rotate||i.rotate)&&(t.rotate=Ye(e.rotate||0,i.rotate||0,s))}function M0(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Sb=sx(0,.5,_T),Eb=sx(.5,.95,Bt);function sx(t,e,i){return s=>s<t?0:s>e?1:i(Go(t,e,s))}function D0(t,e){t.min=e.min,t.max=e.max}function Zt(t,e){D0(t.x,e.x),D0(t.y,e.y)}function I0(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function U0(t,e,i,s,a){return t-=e,t=$a(t,1/i,s),a!==void 0&&(t=$a(t,1/a,s)),t}function _b(t,e=0,i=1,s=.5,a,u=t,c=t){if(pn.test(e)&&(e=parseFloat(e),e=Ye(c.min,c.max,e/100)-c.min),typeof e!="number")return;let p=Ye(u.min,u.max,s);t===u&&(p-=e),t.min=U0(t.min,e,i,p,a),t.max=U0(t.max,e,i,p,a)}function L0(t,e,[i,s,a],u,c){_b(t,e[i],e[s],e[a],e.scale,u,c)}const Cb=["x","scaleX","originX"],Ab=["y","scaleY","originY"];function P0(t,e,i,s){L0(t.x,e,Cb,i?i.x:void 0,s?s.x:void 0),L0(t.y,e,Ab,i?i.y:void 0,s?s.y:void 0)}function V0(t){return t.translate===0&&t.scale===1}function lx(t){return V0(t.x)&&V0(t.y)}function k0(t,e){return t.min===e.min&&t.max===e.max}function bb(t,e){return k0(t.x,e.x)&&k0(t.y,e.y)}function G0(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function ax(t,e){return G0(t.x,e.x)&&G0(t.y,e.y)}function B0(t){return Ht(t.x)/Ht(t.y)}function H0(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Nb{constructor(){this.members=[]}add(e){sd(this.members,e),e.scheduleRender()}remove(e){if(ld(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(e){const i=this.members.findIndex(a=>e===a);if(i===0)return!1;let s;for(let a=i;a>=0;a--){const u=this.members[a];if(u.isPresent!==!1){s=u;break}}return s?(this.promote(s),!0):!1}promote(e,i){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,i&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:i,resumingFrom:s}=e;i.onExitComplete&&i.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Rb(t,e,i){let s="";const a=t.x.translate/e.x,u=t.y.translate/e.y,c=(i==null?void 0:i.z)||0;if((a||u||c)&&(s=`translate3d(${a}px, ${u}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),i){const{transformPerspective:h,rotate:v,rotateX:T,rotateY:x,skewX:_,skewY:b}=i;h&&(s=`perspective(${h}px) ${s}`),v&&(s+=`rotate(${v}deg) `),T&&(s+=`rotateX(${T}deg) `),x&&(s+=`rotateY(${x}deg) `),_&&(s+=`skewX(${_}deg) `),b&&(s+=`skewY(${b}deg) `)}const p=t.x.scale*e.x,g=t.y.scale*e.y;return(p!==1||g!==1)&&(s+=`scale(${p}, ${g})`),s||"none"}const ki={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Js=typeof window<"u"&&window.MotionDebug!==void 0,Zc=["","X","Y","Z"],wb={visibility:"hidden"},z0=1e3;let Mb=0;function jc(t,e,i,s){const{latestValues:a}=e;a[t]&&(i[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function rx(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const i=gT(e);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:a,layoutId:u}=t.options;window.MotionCancelOptimisedAnimation(i,"transform",ze,!(a||u))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&rx(s)}function ux({attachResizeListener:t,defaultParent:e,measureScroll:i,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},p=e==null?void 0:e()){this.id=Mb++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Js&&(ki.totalNodes=ki.resolvedTargetDeltas=ki.recalculatedProjection=0),this.nodes.forEach(Ub),this.nodes.forEach(Gb),this.nodes.forEach(Bb),this.nodes.forEach(Lb),Js&&window.MotionDebug.record(ki)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=p?p.root||p:this,this.path=p?[...p.path,p]:[],this.parent=p,this.depth=p?p.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new yb)}addEventListener(c,p){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new ad),this.eventHandlers.get(c).add(p)}notifyListeners(c,...p){const g=this.eventHandlers.get(c);g&&g.notify(...p)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,p=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=mb(c),this.instance=c;const{layoutId:g,layout:h,visualElement:v}=this.options;if(v&&!v.current&&v.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),p&&(h||g)&&(this.isLayoutDirty=!0),t){let T;const x=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,T&&T(),T=vb(x,250),za.hasAnimatedSinceResize&&(za.hasAnimatedSinceResize=!1,this.nodes.forEach(q0))})}g&&this.root.registerSharedNode(g,this),this.options.animate!==!1&&v&&(g||h)&&this.addEventListener("didUpdate",({delta:T,hasLayoutChanged:x,hasRelativeTargetChanged:_,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||v.getDefaultTransition()||Fb,{onLayoutAnimationStart:A,onLayoutAnimationComplete:R}=v.getProps(),P=!this.targetLayout||!ax(this.targetLayout,b)||_,U=!x&&_;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||U||x&&(P||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(T,U);const J={...td(w,"layout"),onPlay:A,onComplete:R};(v.shouldReduceMotion||this.options.layoutRoot)&&(J.delay=0,J.type=!1),this.startAnimation(J)}else x||q0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,di(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Hb),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&rx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const T=this.path[v];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:p,layout:g}=this.options;if(p===void 0&&!g)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(O0);return}this.isUpdating||this.nodes.forEach(Vb),this.isUpdating=!1,this.nodes.forEach(kb),this.nodes.forEach(Db),this.nodes.forEach(Ib),this.clearAllSnapshots();const p=hn.now();dt.delta=Vn(0,1e3/60,p-dt.timestamp),dt.timestamp=p,dt.isProcessing=!0,Oc.update.process(dt),Oc.preRender.process(dt),Oc.render.process(dt),dt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Yf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Pb),this.sharedNodes.forEach(zb)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ze(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:p}=this.options;p&&p.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let p=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(p=!1),p){const g=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:g,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,p=this.projectionDelta&&!lx(this.projectionDelta),g=this.getTransformTemplate(),h=g?g(this.latestValues,""):void 0,v=h!==this.prevTransformTemplateValue;c&&(p||Vi(this.latestValues)||v)&&(a(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const p=this.measurePageBox();let g=this.removeElementScroll(p);return c&&(g=this.removeTransform(g)),Yb(g),{animationId:this.root.animationId,measuredBox:p,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:p}=this.options;if(!p)return Ze();const g=p.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(Jb))){const{scroll:v}=this.root;v&&(Io(g.x,v.offset.x),Io(g.y,v.offset.y))}return g}removeElementScroll(c){var p;const g=Ze();if(Zt(g,c),!((p=this.scroll)===null||p===void 0)&&p.wasRoot)return g;for(let h=0;h<this.path.length;h++){const v=this.path[h],{scroll:T,options:x}=v;v!==this.root&&T&&x.layoutScroll&&(T.wasRoot&&Zt(g,c),Io(g.x,T.offset.x),Io(g.y,T.offset.y))}return g}applyTransform(c,p=!1){const g=Ze();Zt(g,c);for(let h=0;h<this.path.length;h++){const v=this.path[h];!p&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Uo(g,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Vi(v.latestValues)&&Uo(g,v.latestValues)}return Vi(this.latestValues)&&Uo(g,this.latestValues),g}removeTransform(c){const p=Ze();Zt(p,c);for(let g=0;g<this.path.length;g++){const h=this.path[g];if(!h.instance||!Vi(h.latestValues))continue;yf(h.latestValues)&&h.updateSnapshot();const v=Ze(),T=h.measurePageBox();Zt(v,T),P0(p,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,v)}return Vi(this.latestValues)&&P0(p,this.latestValues),p}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var p;const g=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=g.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=g.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=g.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==g;if(!(c||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((p=this.parent)===null||p===void 0)&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:T,layoutId:x}=this.options;if(!(!this.layout||!(T||x))){if(this.resolvedRelativeTargetAt=dt.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ze(),this.relativeTargetOrigin=Ze(),Zs(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),Zt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ze(),this.targetWithTransforms=Ze()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Q1(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zt(this.target,this.layout.layoutBox),ex(this.target,this.targetDelta)):Zt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ze(),this.relativeTargetOrigin=Ze(),Zs(this.relativeTargetOrigin,this.target,_.target),Zt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Js&&ki.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||yf(this.parent.latestValues)||WT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const p=this.getLead(),g=!!this.resumingFrom||this!==p;let h=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(h=!1),g&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===dt.timestamp&&(h=!1),h)return;const{layout:v,layoutId:T}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||T))return;Zt(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,_=this.treeScale.y;ob(this.layoutCorrected,this.treeScale,this.path,g),p.layout&&!p.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(p.target=p.layout.layoutBox,p.targetWithTransforms=Ze());const{target:b}=p;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(I0(this.prevProjectionDelta.x,this.projectionDelta.x),I0(this.prevProjectionDelta.y,this.projectionDelta.y)),$s(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==_||!H0(this.projectionDelta.x,this.prevProjectionDelta.x)||!H0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b)),Js&&ki.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var p;if((p=this.options.visualElement)===null||p===void 0||p.scheduleRender(),c){const g=this.getStack();g&&g.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Do(),this.projectionDelta=Do(),this.projectionDeltaWithTransform=Do()}setAnimationOrigin(c,p=!1){const g=this.snapshot,h=g?g.latestValues:{},v={...this.latestValues},T=Do();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!p;const x=Ze(),_=g?g.source:void 0,b=this.layout?this.layout.source:void 0,w=_!==b,A=this.getStack(),R=!A||A.members.length<=1,P=!!(w&&!R&&this.options.crossfade===!0&&!this.path.some(qb));this.animationProgress=0;let U;this.mixTargetDelta=J=>{const H=J/1e3;F0(T.x,c.x,H),F0(T.y,c.y,H),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Zs(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Ob(this.relativeTarget,this.relativeTargetOrigin,x,H),U&&bb(this.relativeTarget,U)&&(this.isProjectionDirty=!1),U||(U=Ze()),Zt(U,this.relativeTarget)),w&&(this.animationValues=v,xb(v,h,this.latestValues,H,P,R)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=H},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(di(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ze.update(()=>{za.hasAnimatedSinceResize=!0,this.currentAnimation=hb(0,z0,{...c,onUpdate:p=>{this.mixTargetDelta(p),c.onUpdate&&c.onUpdate(p)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(z0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:p,target:g,layout:h,latestValues:v}=c;if(!(!p||!g||!h)){if(this!==c&&this.layout&&h&&cx(this.options.animationType,this.layout.layoutBox,h.layoutBox)){g=this.target||Ze();const T=Ht(this.layout.layoutBox.x);g.x.min=c.target.x.min,g.x.max=g.x.min+T;const x=Ht(this.layout.layoutBox.y);g.y.min=c.target.y.min,g.y.max=g.y.min+x}Zt(p,g),Uo(p,v),$s(this.projectionDeltaWithTransform,this.layoutCorrected,p,v)}}registerSharedNode(c,p){this.sharedNodes.has(c)||this.sharedNodes.set(c,new Nb),this.sharedNodes.get(c).add(p);const h=p.options.initialPromotionConfig;p.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(p):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:p}=this.options;return p?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:p}=this.options;return p?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:p,preserveFollowOpacity:g}={}){const h=this.getStack();h&&h.promote(this,g),c&&(this.projectionDelta=void 0,this.needsReset=!0),p&&this.setOptions({transition:p})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let p=!1;const{latestValues:g}=c;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(p=!0),!p)return;const h={};g.z&&jc("z",c,h,this.animationValues);for(let v=0;v<Zc.length;v++)jc(`rotate${Zc[v]}`,c,h,this.animationValues),jc(`skew${Zc[v]}`,c,h,this.animationValues);c.render();for(const v in h)c.setStaticValue(v,h[v]),this.animationValues&&(this.animationValues[v]=h[v]);c.scheduleRender()}getProjectionStyles(c){var p,g;if(!this.instance||this.isSVG)return;if(!this.isVisible)return wb;const h={visibility:""},v=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=Ba(c==null?void 0:c.pointerEvents)||"",h.transform=v?v(this.latestValues,""):"none",h;const T=this.getLead();if(!this.projectionDelta||!this.layout||!T.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Ba(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Vi(this.latestValues)&&(w.transform=v?v({},""):"none",this.hasProjected=!1),w}const x=T.animationValues||T.latestValues;this.applyTransformsToTarget(),h.transform=Rb(this.projectionDeltaWithTransform,this.treeScale,x),v&&(h.transform=v(x,h.transform));const{x:_,y:b}=this.projectionDelta;h.transformOrigin=`${_.origin*100}% ${b.origin*100}% 0`,T.animationValues?h.opacity=T===this?(g=(p=x.opacity)!==null&&p!==void 0?p:this.latestValues.opacity)!==null&&g!==void 0?g:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:h.opacity=T===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const w in Ya){if(x[w]===void 0)continue;const{correct:A,applyTo:R}=Ya[w],P=h.transform==="none"?x[w]:A(x[w],T);if(R){const U=R.length;for(let J=0;J<U;J++)h[R[J]]=P}else h[w]=P}return this.options.layoutId&&(h.pointerEvents=T===this?Ba(c==null?void 0:c.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var p;return(p=c.currentAnimation)===null||p===void 0?void 0:p.stop()}),this.root.nodes.forEach(O0),this.root.sharedNodes.clear()}}}function Db(t){t.updateLayout()}function Ib(t){var e;const i=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&i&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=t.layout,{animationType:u}=t.options,c=i.source!==t.layout.source;u==="size"?jt(T=>{const x=c?i.measuredBox[T]:i.layoutBox[T],_=Ht(x);x.min=s[T].min,x.max=x.min+_}):cx(u,i.layoutBox,s)&&jt(T=>{const x=c?i.measuredBox[T]:i.layoutBox[T],_=Ht(s[T]);x.max=x.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[T].max=t.relativeTarget[T].min+_)});const p=Do();$s(p,s,i.layoutBox);const g=Do();c?$s(g,t.applyTransform(a,!0),i.measuredBox):$s(g,s,i.layoutBox);const h=!lx(p);let v=!1;if(!t.resumeFrom){const T=t.getClosestProjectingParent();if(T&&!T.resumeFrom){const{snapshot:x,layout:_}=T;if(x&&_){const b=Ze();Zs(b,i.layoutBox,x.layoutBox);const w=Ze();Zs(w,s,_.layoutBox),ax(b,w)||(v=!0),T.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=b,t.relativeParent=T)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:i,delta:g,layoutDelta:p,hasLayoutChanged:h,hasRelativeTargetChanged:v})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function Ub(t){Js&&ki.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Lb(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Pb(t){t.clearSnapshot()}function O0(t){t.clearMeasurements()}function Vb(t){t.isLayoutDirty=!1}function kb(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function q0(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Gb(t){t.resolveTargetDelta()}function Bb(t){t.calcProjection()}function Hb(t){t.resetSkewAndRotation()}function zb(t){t.removeLeadSnapshot()}function F0(t,e,i){t.translate=Ye(e.translate,0,i),t.scale=Ye(e.scale,1,i),t.origin=e.origin,t.originPoint=e.originPoint}function Y0(t,e,i,s){t.min=Ye(e.min,i.min,s),t.max=Ye(e.max,i.max,s)}function Ob(t,e,i,s){Y0(t.x,e.x,i.x,s),Y0(t.y,e.y,i.y,s)}function qb(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Fb={duration:.45,ease:[.4,0,.1,1]},J0=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),K0=J0("applewebkit/")&&!J0("chrome/")?Math.round:Bt;function X0(t){t.min=K0(t.min),t.max=K0(t.max)}function Yb(t){X0(t.x),X0(t.y)}function cx(t,e,i){return t==="position"||t==="preserve-aspect"&&!X1(B0(e),B0(i),.2)}function Jb(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const Kb=ux({attachResizeListener:(t,e)=>nl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Wc={current:void 0},fx=ux({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Wc.current){const t=new Kb({});t.mount(window),t.setOptions({layoutScroll:!0}),Wc.current=t}return Wc.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Xb={pan:{Feature:cb},drag:{Feature:ub,ProjectionNode:fx,MeasureLayout:ix}};function Q0(t,e,i){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",i==="Start");const a="onHover"+i,u=s[a];u&&ze.postRender(()=>u(e,rl(e)))}class Qb extends hi{mount(){const{current:e}=this.node;e&&(this.unmount=XC(e,i=>(Q0(this.node,i,"Start"),s=>Q0(this.node,s,"End"))))}unmount(){}}class $b extends hi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=al(nl(this.node.current,"focus",()=>this.onFocus()),nl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function $0(t,e,i){const{props:s}=t;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",i==="Start");const a="onTap"+(i==="End"?"":i),u=s[a];u&&ze.postRender(()=>u(e,rl(e)))}class Zb extends hi{mount(){const{current:e}=this.node;e&&(this.unmount=jC(e,i=>($0(this.node,i,"Start"),(s,{success:a})=>$0(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Tf=new WeakMap,ef=new WeakMap,jb=t=>{const e=Tf.get(t.target);e&&e(t)},Wb=t=>{t.forEach(jb)};function eN({root:t,...e}){const i=t||document;ef.has(i)||ef.set(i,{});const s=ef.get(i),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(Wb,{root:t,...e})),s[a]}function tN(t,e,i){const s=eN(e);return Tf.set(t,i),s.observe(t),()=>{Tf.delete(t),s.unobserve(t)}}const nN={some:0,all:1};class iN extends hi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:i,margin:s,amount:a="some",once:u}=e,c={root:i?i.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:nN[a]},p=g=>{const{isIntersecting:h}=g;if(this.isInView===h||(this.isInView=h,u&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:v,onViewportLeave:T}=this.node.getProps(),x=h?v:T;x&&x(g)};return tN(this.node.current,c,p)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:i}=this.node;["amount","margin","root"].some(oN(e,i))&&this.startObserver()}unmount(){}}function oN({viewport:t={}},{viewport:e={}}={}){return i=>t[i]!==e[i]}const sN={inView:{Feature:iN},tap:{Feature:Zb},focus:{Feature:$b},hover:{Feature:Qb}},lN={layout:{ProjectionNode:fx,MeasureLayout:ix}},xf={current:null},dx={current:!1};function aN(){if(dx.current=!0,!!Hf)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>xf.current=t.matches;t.addListener(e),e()}else xf.current=!1}const rN=[...kT,mt,pi],uN=t=>rN.find(VT(t)),Z0=new WeakMap;function cN(t,e,i){for(const s in e){const a=e[s],u=i[s];if(gt(a))t.addValue(s,a);else if(gt(u))t.addValue(s,el(a,{owner:t}));else if(u!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,el(c!==void 0?c:a,{owner:t}))}}for(const s in i)e[s]===void 0&&t.removeValue(s);return e}const j0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class fN{scrapeMotionValuesFromProps(e,i,s){return{}}constructor({parent:e,props:i,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:u,visualState:c},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=pd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=hn.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,ze.render(this.render,!1,!0))};const{latestValues:g,renderState:h,onUpdate:v}=c;this.onUpdate=v,this.latestValues=g,this.baseTarget={...g},this.initialValues=i.initial?{...g}:{},this.renderState=h,this.parent=e,this.props=i,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=p,this.blockInitialAnimation=!!u,this.isControllingVariants=rr(i),this.isVariantNode=Yv(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:T,...x}=this.scrapeMotionValuesFromProps(i,{},this);for(const _ in x){const b=x[_];g[_]!==void 0&&gt(b)&&b.set(g[_],!1)}}mount(e){this.current=e,Z0.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,s)=>this.bindToMotionValue(s,i)),dx.current||aN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Z0.delete(this.current),this.projection&&this.projection.unmount(),di(this.notifyUpdate),di(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const i=this.features[e];i&&(i.unmount(),i.isMounted=!1)}this.current=null}bindToMotionValue(e,i){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=zi.has(e),a=i.on("change",p=>{this.latestValues[e]=p,this.props.onUpdate&&ze.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),u=i.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,i)),this.valueSubscriptions.set(e,()=>{a(),u(),c&&c(),i.owner&&i.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Bo){const i=Bo[e];if(!i)continue;const{isEnabled:s,Feature:a}=i;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const u=this.features[e];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ze()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,i){this.latestValues[e]=i}update(e,i){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let s=0;s<j0.length;s++){const a=j0[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const u="on"+a,c=e[u];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=cN(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(e),()=>i.variantChildren.delete(e)}addValue(e,i){const s=this.values.get(e);i!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,i),this.values.set(e,i),this.latestValues[e]=i.get())}removeValue(e){this.values.delete(e);const i=this.valueSubscriptions.get(e);i&&(i(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,i){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&i!==void 0&&(s=el(i===null?void 0:i,{owner:this}),this.addValue(e,s)),s}readValue(e,i){var s;let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(s=this.getBaseTargetFromProps(this.props,e))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(LT(a)||AT(a))?a=parseFloat(a):!uN(a)&&pi.test(i)&&(a=DT(e,i)),this.setBaseTarget(e,gt(a)?a.get():a)),gt(a)?a.get():a}setBaseTarget(e,i){this.baseTarget[e]=i}getBaseTarget(e){var i;const{initial:s}=this.props;let a;if(typeof s=="string"||typeof s=="object"){const c=Kf(this.props,s,(i=this.presenceContext)===null||i===void 0?void 0:i.custom);c&&(a=c[e])}if(s&&a!==void 0)return a;const u=this.getBaseTargetFromProps(this.props,e);return u!==void 0&&!gt(u)?u:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,i){return this.events[e]||(this.events[e]=new ad),this.events[e].add(i)}notify(e,...i){this.events[e]&&this.events[e].notify(...i)}}class px extends fN{constructor(){super(...arguments),this.KeyframeResolver=GT}sortInstanceNodePosition(e,i){return e.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(e,i){return e.style?e.style[i]:void 0}removeValueFromRenderState(e,{vars:i,style:s}){delete i[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;gt(e)&&(this.childSubscription=e.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function dN(t){return window.getComputedStyle(t)}class pN extends px{constructor(){super(...arguments),this.type="html",this.renderInstance=eT}readValueFromInstance(e,i){if(zi.has(i)){const s=dd(i);return s&&s.default||0}else{const s=dN(e),a=(Zv(i)?s.getPropertyValue(i):s[i])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:i}){return tx(e,i)}build(e,i,s){$f(e,i,s.transformTemplate)}scrapeMotionValuesFromProps(e,i,s){return ed(e,i,s)}}class hN extends px{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ze}getBaseTargetFromProps(e,i){return e[i]}readValueFromInstance(e,i){if(zi.has(i)){const s=dd(i);return s&&s.default||0}return i=tT.has(i)?i:Ff(i),e.getAttribute(i)}scrapeMotionValuesFromProps(e,i,s){return oT(e,i,s)}build(e,i,s){Zf(e,i,this.isSVGTag,s.transformTemplate)}renderInstance(e,i,s,a){nT(e,i,s,a)}mount(e){this.isSVGTag=Wf(e.tagName),super.mount(e)}}const mN=(t,e)=>Jf(t)?new hN(e):new pN(e,{allowProjection:t!==X.Fragment}),gN=zC({...B1,...sN,...Xb,...lN},mN),fe=nC(gN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hx=(...t)=>t.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=X.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:a="",children:u,iconNode:c,...p},g)=>X.createElement("svg",{ref:g,...vN,width:e,height:e,stroke:t,strokeWidth:s?Number(i)*24/Number(e):i,className:hx("lucide",a),...p},[...c.map(([h,v])=>X.createElement(h,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=(t,e)=>{const i=X.forwardRef(({className:s,...a},u)=>X.createElement(TN,{ref:u,iconNode:e,className:hx(`lucide-${yN(t)}`,s),...a}));return i.displayName=`${t}`,i};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],mx=Fe("Archive",xN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],il=Fe("ChevronRight",SN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ol=Fe("CircleAlert",EN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],gx=Fe("Database",_N);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],AN=Fe("Eye",CN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Za=Fe("FileText",bN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],RN=Fe("File",NN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],MN=Fe("Fingerprint",wN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],IN=Fe("FolderOpen",DN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],yx=Fe("Folder",UN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],PN=Fe("Hash",LN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],W0=Fe("Lock",VN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],GN=Fe("Maximize2",kN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],ey=Fe("Network",BN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],ty=Fe("Paperclip",HN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],ON=Fe("Quote",zN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Sf=Fe("Search",qN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],YN=Fe("ShieldAlert",FN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],KN=Fe("Sparkles",JN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M19.27 13.73A2.5 2.5 0 0 0 17.5 13h-11A2.5 2.5 0 0 0 4 15.5V17a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-1.5c0-.66-.26-1.3-.73-1.77Z",key:"1sy9ra"}],["path",{d:"M14 13V8.5C14 7 15 7 15 5a3 3 0 0 0-3-3c-1.66 0-3 1-3 3s1 2 1 3.5V13",key:"cnxgux"}]],QN=Fe("Stamp",XN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],ZN=Fe("Tag",$N);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]],ja=Fe("Terminal",jN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],eR=Fe("User",WN);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Pn=Fe("X",tR),Da=[{id:0,type:"header",content:"PROJECT G.B.O.S.",classification:"-4"},{id:1,type:"classification",title:"",content:"FBI-7742-RC-MEM-DIVER",date:"2025-02-19"},{id:2,type:"report",title:" // INCIDENT REPORT",content:""},{id:3,type:"report",title:" // IDENTITY CONFIRMED",content:"DNAFBIRobert Capone"},{id:4,type:"report",title:" // BACKGROUND CHECK",content:""},{id:5,type:"highlight",title:" // ANOMALY DETECTED",content:""},{id:6,type:"highlight",title:" // CRITICAL QUESTION",content:"FBI"},{id:7,type:"report",title:" // CURRENT STATUS",content:'""'},{id:8,type:"highlight",title:" // URGENT SITUATION",content:"BAU"},{id:9,type:"mission",title:" // YOUR MISSION",content:'""'}],nR=({onComplete:t})=>{const[e,i]=X.useState(0),[s,a]=X.useState(""),[u,c]=X.useState(!1),p=Da[e],g=e>=2;X.useEffect(()=>{if(!p)return;c(!0),a("");const x=p.content;let _=0;const b=p.type==="header"?50:20,w=setInterval(()=>{_<x.length?(a(x.slice(0,_+1)),_++):(c(!1),clearInterval(w))},b);return()=>clearInterval(w)},[e]);const h=()=>{u?(a(p.content),c(!1)):e<Da.length-1&&i(e+1)},v=()=>{u||t()},T=e===Da.length-1;return S.jsxs("div",{className:"min-h-screen cortex-bg flex items-center justify-center p-8 overflow-hidden relative",children:[S.jsx("div",{className:"depth-layer-1"}),S.jsx("div",{className:"depth-layer-2"}),S.jsx("div",{className:"scanlines"}),S.jsxs("div",{className:"max-w-4xl w-full relative z-10",children:[S.jsx("div",{className:`relative transition-all duration-1000 ease-in-out mb-8 ${g?"opacity-100 max-h-[400px]":"opacity-0 max-h-0 overflow-hidden"}`,children:S.jsxs("div",{className:"w-full h-80 relative rounded-lg overflow-hidden border border-[#c85a3f]/40 shadow-[0_0_30px_rgba(200,90,63,0.1)] group",children:[S.jsx("img",{src:"/assets/incident-report.jpg",alt:"Incident Scene",className:"w-full h-full object-cover filter contrast-125 sepia-[0.3] brightness-75 scale-105 group-hover:scale-100 transition-transform duration-[20s] ease-linear",style:{objectPosition:"center 40%"}}),S.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-transparent to-black/30"}),S.jsx("div",{className:"scanlines opacity-20"}),S.jsxs("div",{className:"absolute bottom-4 left-6 flex items-center gap-3",children:[S.jsx("span",{className:"text-[10px] font-mono tracking-widest text-[#d89853]/90 bg-black/80 px-3 py-1.5 rounded border border-[#d89853]/20 backdrop-blur-md",children:"EVIDENCE_IMG_001.JPG"}),S.jsx("span",{className:"text-[10px] font-mono tracking-widest text-[#c85a3f]/80 animate-pulse",children:"Analyzing..."})]}),S.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-[#c85a3f]/30 blur-[2px] animate-[scan_4s_linear_infinite]"})]})}),S.jsx(pt,{mode:"wait",children:S.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"space-y-8",children:[p.type==="header"&&S.jsxs("div",{className:"text-center space-y-6 py-20 relative",children:[S.jsx(fe.div,{initial:{opacity:0,scale:.8},animate:{opacity:.6,scale:1},transition:{duration:3,ease:"easeOut"},className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] bg-[#c85a3f]/10 blur-[120px] rounded-full pointer-events-none"}),S.jsxs(fe.div,{initial:{opacity:0,letterSpacing:"0.8em"},animate:{opacity:1,letterSpacing:"0.3em"},transition:{duration:1.5,ease:"easeOut"},className:"flex items-center justify-center gap-3 text-[#8e3d2f]/90 mb-8 font-mono text-xs uppercase relative z-10",children:[S.jsx(ol,{size:16,className:"animate-pulse text-[#d4574e]"}),S.jsx("span",{className:"border-b border-[#8e3d2f]/30 pb-1",children:p.classification})]}),S.jsx("h1",{className:"text-7xl md:text-8xl font-bold tracking-tighter text-[#d89853]/95 font-mono neural-glow mix-blend-screen relative z-10",children:S.jsx(fe.span,{initial:{filter:"blur(20px)",opacity:0},animate:{filter:"blur(0px)",opacity:1},transition:{duration:.8,delay:.2},children:s})}),S.jsx("div",{className:"flex justify-center gap-3 mt-12 relative z-10",children:[...Array(5)].map((x,_)=>S.jsx(fe.div,{initial:{height:4},animate:{height:[4,24,4]},transition:{duration:1.5,repeat:1/0,delay:_*.1},className:"w-1 rounded-full bg-gradient-to-b from-[#b5594a]/80 to-transparent"},_))})]}),p.type==="classification"&&S.jsxs("div",{className:"bg-black/60 backdrop-blur-md border border-[#8e3d2f]/35 p-8 space-y-4 font-mono rounded-lg neural-glow mt-12",children:[S.jsx("div",{className:"text-[#b5594a]/70 text-xs tracking-widest uppercase",children:p.title}),S.jsx("div",{className:"text-2xl text-[#d89853]/85 tracking-wider font-bold",children:s}),p.date&&S.jsxs("div",{className:"text-neutral-500 text-sm pt-2",children:[": ",p.date]}),S.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-[#c85a3f]/30 to-transparent mt-4"})]}),(p.type==="report"||p.type==="highlight"||p.type==="mission")&&S.jsxs("div",{className:`
                    backdrop-blur-sm p-8 space-y-4 rounded-b-lg relative overflow-hidden group transition-all duration-500
                    ${p.type==="highlight"?"bg-black/50 border-l-4 border-[#d4574e]/60 hover:bg-black/60":"bg-black/40 border-l-4 border-[#c85a3f]/50 hover:bg-black/50"}
              `,children:[S.jsxs("div",{className:`text-sm tracking-widest uppercase font-mono flex items-center gap-2 ${p.type==="highlight"?"text-[#d4574e]/85":"text-[#b5594a]/60"}`,children:[S.jsx("div",{className:`w-1.5 h-1.5 rounded-full animate-pulse ${p.type==="highlight"?"bg-[#d4574e]":"bg-[#c85a3f]/70"}`}),p.title]}),S.jsxs("p",{className:`
                    text-lg leading-relaxed relative z-10 tracking-wide
                    ${p.type==="highlight"?"text-[#d89853]/95 font-semibold":"text-neutral-200 font-light"}
                `,children:[s,u&&S.jsx("span",{className:"typing-cursor",style:{marginLeft:"4px",background:p.type==="highlight"?"#d4574e":"#c85a3f"}})]}),S.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 blur-[60px] pointer-events-none ${p.type==="highlight"?"bg-[#d4574e]/10":"bg-[#c85a3f]/5"}`})]})]},e)}),S.jsxs(fe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"flex flex-col items-center gap-6 mt-8",children:[T?S.jsxs(fe.button,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:u?0:.3},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:v,disabled:u,className:"group flex items-center gap-3 px-10 py-5 bg-gradient-to-r from-[#8e3d2f]/30 via-[#c85a3f]/28 to-[#8e3d2f]/30 hover:from-[#8e3d2f]/40 hover:via-[#c85a3f]/38 hover:to-[#8e3d2f]/40 border-2 border-[#c85a3f]/55 text-[#d89853]/98 rounded-lg transition-all font-mono text-base tracking-widest disabled:opacity-50 backdrop-blur-md neural-glow",children:[" VIEW BRIEFING & TRANSCRIPTS",S.jsx(il,{size:20,className:"group-hover:translate-x-1 transition-transform"})]}):S.jsxs("button",{onClick:h,className:"group flex items-center gap-3 px-8 py-4 bg-[#c85a3f]/12 hover:bg-[#c85a3f]/20 border border-[#c85a3f]/40 text-[#d89853]/95 rounded-lg transition-all font-mono text-sm tracking-wider backdrop-blur-sm neural-glow",children:[u?" SKIP":" CONTINUE",S.jsx(il,{size:18,className:"group-hover:translate-x-1 transition-transform"})]}),T&&!u&&S.jsxs(fe.div,{initial:{opacity:0},animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},className:"text-[10px] text-[#d4574e]/80 font-mono tracking-[0.3em] uppercase flex items-center gap-2",children:[S.jsx(ol,{size:12}),"WARNING: NEURAL BACKLASH MAY OCCUR"]}),S.jsx("div",{className:"flex gap-2 mt-4",children:Da.map((x,_)=>S.jsx("div",{className:`h-1 transition-all rounded-full ${_===e?"w-8 bg-[#c85a3f]/85 shadow-[0_0_8px_rgba(212,87,78,0.6)]":_<e?"w-4 bg-[#8e3d2f]/55":"w-2 bg-neutral-800/60"}`},_))})]})]}),S.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-20",children:[...Array(8)].map((x,_)=>S.jsx("div",{className:"absolute w-1 h-1 bg-[#c85a3f]/60 rounded-full",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animation:`pulse ${2+Math.random()*3}s ease-in-out ${Math.random()*2}s infinite`}},_))})]})},Ia=[{id:1,title:"",content:`[](clue:robert)Robert CarpenFBI253233KLUB3436

DNA[](clue:julip)Butter Julep`},{id:2,title:"",content:"",isHighlight:!0},{id:3,title:" - 01",content:`

`},{id:4,title:" - 02",content:""},{id:5,title:" - 03",content:"[](clue:maine)[](clue:small_bank)[](clue:chicago)[](clue:asian_woman)[](clue:missing)"},{id:6,title:" - 04",content:""},{id:7,title:" - 05",content:"[](clue:father)"},{id:8,title:" - 06",content:"[](clue:project)"}],iR=({onContinue:t,onCollectClue:e,collectedClues:i,collectedDossierIds:s})=>{const[a,u]=X.useState(0),c=()=>{a<Ia.length-1&&u(a+1)},p=Ia[a],g=a===Ia.length-1,h=v=>v.split(/(\[.*?\]\(clue:.*?\))/g).map((x,_)=>{const b=x.match(/\[(.*?)\]\(clue:(.*?)\)/);if(b){const[w,A,R]=b,P=i.includes(R)||s.includes(R);return S.jsxs("span",{onClick:()=>!P&&e(R,A),className:`
              relative inline-block px-1 rounded cursor-pointer transition-all duration-300
              ${P?"text-[#d89853] bg-[#d89853]/10 border-b border-[#d89853]/30 cursor-default":"text-[#c85a3f] hover:bg-[#c85a3f]/20 hover:scale-105 border-b border-dashed border-[#c85a3f]/50 animate-pulse"}
            `,children:[A,P&&S.jsx("span",{className:"absolute -top-3 -right-2 text-[8px] text-[#d89853] bg-black/80 px-1 rounded border border-[#d89853]/30",children:""}),!P&&S.jsx("span",{className:"absolute -top-3 -right-2 opacity-0 hover:opacity-100 transition-opacity text-[8px] text-[#c85a3f] bg-black/80 px-1 rounded border border-[#c85a3f]/30",children:""})]},_)}return S.jsx("span",{children:x},_)});return S.jsxs("div",{className:"min-h-screen cortex-bg flex items-center justify-center p-8 overflow-hidden relative",children:[S.jsx("div",{className:"depth-layer-1"}),S.jsx("div",{className:"depth-layer-2"}),S.jsx("div",{className:"scanlines"}),S.jsxs("div",{className:"max-w-4xl w-full relative z-10",children:[S.jsxs(fe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[S.jsxs("div",{className:"flex items-center justify-center gap-3 text-[#8e3d2f]/70 mb-4 font-mono text-xs tracking-[0.3em] uppercase",children:[S.jsx(Za,{size:16,className:"animate-pulse"})," // DETAILED BRIEFING"]}),S.jsx("h1",{className:"text-4xl font-bold tracking-tight text-[#d89853]/95 font-mono neural-glow",children:"PROJECT G.B.O.S."})]}),S.jsx(pt,{mode:"wait",children:S.jsx(fe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.4},className:"space-y-6",children:S.jsxs("div",{className:`${p.isHighlight?"bg-gradient-to-br from-[#8e3d2f]/35 to-[#b5594a]/30 border-l-4 border-[#d4574e]/55":"bg-black/50 border-l-4 border-[#c85a3f]/50"} backdrop-blur-sm p-8 space-y-4 rounded-r-lg neural-glow`,children:[S.jsxs("div",{className:`${p.isHighlight?"text-[#d4574e]/85":"text-[#b5594a]/60"} text-sm tracking-widest uppercase font-mono flex items-center gap-2`,children:[S.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${p.isHighlight?"bg-[#d4574e]/70":"bg-[#c85a3f]/70"} animate-pulse`}),p.title]}),S.jsx("div",{className:`${p.isHighlight?"text-[#d89853]/95":"text-neutral-200"} text-lg leading-relaxed whitespace-pre-line`,children:h(p.content)})]})},a)}),S.jsxs(fe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"flex flex-col items-center gap-6 mt-12",children:[g?S.jsxs(fe.button,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.3},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,className:"group flex items-center gap-3 px-10 py-5 bg-gradient-to-r from-[#8e3d2f]/30 via-[#c85a3f]/28 to-[#8e3d2f]/30 hover:from-[#8e3d2f]/40 hover:via-[#c85a3f]/38 hover:to-[#8e3d2f]/40 border-2 border-[#c85a3f]/55 text-[#d89853]/98 rounded-lg transition-all font-mono text-base tracking-widest backdrop-blur-md neural-glow",children:[" ENTER SUBCONSCIOUS",S.jsx(il,{size:20,className:"group-hover:translate-x-1 transition-transform"})]}):S.jsxs("button",{onClick:c,className:"group flex items-center gap-3 px-8 py-4 bg-[#c85a3f]/12 hover:bg-[#c85a3f]/20 border border-[#c85a3f]/40 text-[#d89853]/95 rounded-lg transition-all font-mono text-sm tracking-wider backdrop-blur-sm neural-glow",children:[" NEXT",S.jsx(il,{size:18,className:"group-hover:translate-x-1 transition-transform"})]}),g&&S.jsxs(fe.div,{initial:{opacity:0},animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},className:"text-[10px] text-[#d4574e]/80 font-mono tracking-[0.3em] uppercase flex items-center gap-2",children:[S.jsx(ol,{size:12}),""]}),S.jsx("div",{className:"flex gap-2 mt-4",children:Ia.map((v,T)=>S.jsx("div",{className:`h-1 transition-all rounded-full ${T===a?"w-8 bg-[#c85a3f]/85 shadow-[0_0_8px_rgba(212,87,78,0.6)]":T<a?"w-4 bg-[#8e3d2f]/55":"w-2 bg-neutral-800/60"}`},T))})]})]}),S.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-20",children:[...Array(8)].map((v,T)=>S.jsx("div",{className:"absolute w-1 h-1 bg-[#c85a3f]/60 rounded-full",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animation:`pulse ${2+Math.random()*3}s ease-in-out ${Math.random()*2}s infinite`}},T))})]})},ny={julip:"",robert:"",chicago:"",asian_woman:"",maine:"",small_bank:"",missing:"",father:"",project:""},iy=[{id:1,speaker:"capone",text:""},{id:2,speaker:"player",text:""},{id:3,speaker:"capone",text:""},{id:4,speaker:"player",text:""},{id:5,speaker:"capone",text:""},{id:6,speaker:"player",text:""},{id:7,speaker:"capone",text:""},{id:8,speaker:"player",text:""},{id:9,speaker:"capone",text:""},{id:10,speaker:"player",text:"",requiresPassword:!0},{id:11,speaker:"capone",text:""},{id:12,speaker:"system",text:"[...]"},{id:13,speaker:"capone",text:"KLUB"},{id:14,speaker:"player",text:""},{id:15,speaker:"capone",text:""}],oR=({onComplete:t,collectedClues:e,unlockedPeople:i=[]})=>{const[s,a]=X.useState(0),[u,c]=X.useState(""),[p,g]=X.useState(!1),[h,v]=X.useState(!1),[T,x]=X.useState(""),[_,b]=X.useState(!1),[w,A]=X.useState(!1),[R,P]=X.useState(!1),[U,J]=X.useState(!1),H=X.useRef(null),q=iy[s];X.useEffect(()=>{H.current&&H.current.scrollTo({top:H.current.scrollHeight,behavior:"smooth"})},[s,h,w]),X.useEffect(()=>{if(!q||q.requiresPassword||s===0&&U)return;g(!0),c("");const ee=q.text;let re=0;const ye=q.speaker==="capone"?40:25,L=setInterval(()=>{re<ee.length?(c(ee.slice(0,re+1)),re++,H.current&&(H.current.scrollTop=H.current.scrollHeight)):(g(!1),clearInterval(L),s===0||q.id<10&&s!==0&&setTimeout(()=>{q.id===9?v(!0):a($=>$+1)},1500))},s===0?60:ye);return()=>clearInterval(L)},[s,q]);const z=ee=>{ee&&ee.preventDefault(),T.trim()===""?(b(!0),v(!1),a(10)):x("")},Q=ee=>{const re=ny[ee]||ee;x(re)},Z=()=>{if(p){c(q.text),g(!1);return}J(!0),setTimeout(()=>{a(1)},2e3)};X.useEffect(()=>{if(_&&s===10&&!p){const ee=setTimeout(()=>{a(re=>re+1)},1500);return()=>clearTimeout(ee)}if(_&&s===11&&!p){const ee=setTimeout(()=>{a(re=>re+1)},1500);return()=>clearTimeout(ee)}if(s===12&&!p){A(!0);const ee=setTimeout(()=>{a(re=>re+1)},3e3);return()=>clearTimeout(ee)}if(s>=13&&s<15&&!p){const ee=setTimeout(()=>{a(re=>re+1)},3e3);return()=>clearTimeout(ee)}s===15&&!p&&setTimeout(()=>P(!0),1500)},[_,s,p]);const ie=ee=>ee==="system"?S.jsx(ja,{size:14,className:"text-[#c85a3f]"}):ee==="capone"?w?S.jsxs(fe.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"w-20 h-20 md:w-24 md:h-24 rounded-lg overflow-hidden relative border border-[#d89853]/50 shadow-[0_0_15px_rgba(216,152,83,0.3)] shrink-0 filter sepia-[0.3] contrast-125 mr-2",children:[S.jsx("img",{src:"/assets/capone-split-personality.jpg",className:"absolute top-0 left-0 w-[200%] h-full max-w-none object-cover object-left",alt:"RC"}),S.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),S.jsx("div",{className:"scanlines opacity-40"})]}):S.jsx(eR,{size:14,className:"text-[#d89853]"}):S.jsx("div",{className:"w-3 h-3 rounded-full bg-[#a0d8ef]/80"}),pe=ee=>ee==="capone"?"UNKNOWN SUBJECT (RC)":ee==="player"?"OPERATOR (YOU)":ee==="system"?"SYSTEM LOG":"";return S.jsxs("div",{className:"min-h-screen bg-black flex flex-col items-center justify-center p-4 md:p-8 relative overflow-hidden font-mono",children:[S.jsx(pt,{children:s===0&&S.jsxs(fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,filter:"blur(20px)",transition:{duration:2,ease:"easeIn"}},className:"fixed inset-0 z-50 bg-black flex flex-col items-center justify-center text-center p-8 cursor-pointer",onClick:Z,children:[!U&&S.jsx(fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,scale:.9,transition:{duration:1.5}},className:"max-w-2xl",children:S.jsxs(fe.p,{initial:{opacity:0,filter:"blur(10px)"},animate:{opacity:1,filter:"blur(0px)"},className:"text-2xl md:text-3xl text-[#8e3d2f] font-light tracking-widest leading-loose",children:[u,S.jsx("span",{className:"inline-block w-2 h-6 ml-2 bg-[#8e3d2f]/50 animate-pulse align-middle"})]},"intro-text")}),!p&&!U&&S.jsx(fe.div,{initial:{opacity:0},animate:{opacity:.5},transition:{delay:1},className:"absolute bottom-10 text-[#555] text-xs tracking-[0.5em] hover:text-[#888] transition-colors",children:"PRESS TO DESCEND"})]},"void-intro")}),S.jsxs("div",{className:"absolute inset-0 z-0",children:[S.jsx("div",{className:"absolute top-0 left-0 right-0 h-32 bg-gradient-to-b from-[#8e3d2f]/10 to-transparent pointer-events-none"}),S.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-[#8e3d2f]/10 to-transparent pointer-events-none"}),S.jsx("div",{className:"scanlines opacity-20"})]}),S.jsxs(fe.div,{initial:{opacity:0},animate:{opacity:s>0?1:0},transition:{duration:2,delay:.5},className:"max-w-4xl w-full relative z-10 flex flex-col h-[85vh]",children:[S.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-[#c85a3f]/30 pb-2",children:[S.jsxs("div",{className:"flex items-center gap-2 text-[#c85a3f]/70 text-xs tracking-[0.2em]",children:[S.jsx(MN,{size:14}),S.jsx("span",{children:"NEURAL LINK: ACTIVE"})]}),S.jsx("div",{className:"text-[#c85a3f]/50 text-[10px]",children:"FREQ: 44.2Hz // STABLE"})]}),S.jsxs("div",{ref:H,className:"flex-1 overflow-y-auto space-y-8 pr-4 mb-8 scrollbar-hide",style:{maskImage:"linear-gradient(to bottom, transparent, black 5%, black 95%, transparent)"},children:[S.jsx("div",{className:"h-4"})," ",S.jsx(pt,{initial:!1,children:iy.slice(0,s+1).map((ee,re)=>{if(ee.id===1||ee.requiresPassword&&!_)return null;const ye=re===s,Ge=ee.speaker==="system",L=ee.speaker==="capone"&&w;return S.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`flex flex-col gap-1 ${ee.speaker==="player"?"items-end":"items-start"}`,children:[!Ge&&S.jsxs("div",{className:`flex items-end gap-2 text-[10px] tracking-widest opacity-80 mb-1 ${ee.speaker==="player"?"flex-row-reverse text-[#a0d8ef]":"text-[#d89853]"}`,children:[ie(ee.speaker),S.jsx("span",{className:`pb-2 ${L?"text-xs font-bold":""}`,children:pe(ee.speaker)})]}),S.jsx("div",{className:`relative max-w-[90%] md:max-w-[80%] ${Ge?"w-full text-center py-4":ee.speaker==="player"?"bg-[#a0d8ef]/5 border-r-2 border-[#a0d8ef]/30 pr-6 pl-4 py-2 rounded-l-lg":"bg-[#d89853]/5 border-l-2 border-[#d89853]/30 pl-6 pr-4 py-2 rounded-r-lg"}`,children:S.jsxs("p",{className:`text-lg md:text-xl leading-relaxed ${Ge?"text-[#c85a3f] text-sm italic tracking-widest":ee.speaker==="player"?"text-[#a0d8ef]/90 text-right":"text-[#d89853]/90 text-left"} ${!ye&&!Ge?"opacity-50":""}`,children:[ye?u:ee.text,ye&&p&&S.jsx("span",{className:"inline-block w-2 h-5 ml-1 bg-current animate-pulse"})]})})]},ee.id)})}),S.jsx("div",{className:"h-20"})," "]}),S.jsxs("div",{className:"min-h-[160px] relative flex flex-col justify-end",children:[S.jsx(pt,{children:h&&S.jsx(fe.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,filter:"blur(10px)"},onSubmit:z,className:"w-full relative z-20 bg-black/80 backdrop-blur border-y border-[#c85a3f]/30 py-6",children:S.jsxs("div",{className:"flex flex-col items-center gap-4",children:[S.jsx("div",{className:"text-[#c85a3f] text-xs tracking-[0.3em] animate-pulse",children:"SECURITY CHALLENGE DETECTED"}),S.jsxs("div",{className:"flex items-center gap-2 w-full max-w-md",children:[S.jsx("input",{type:"text",value:T,onChange:ee=>x(ee.target.value),placeholder:"INPUT SECURITY CODE",autoFocus:!0,className:"flex-1 bg-transparent text-center text-2xl md:text-3xl text-[#d89853] placeholder-[#d89853]/20 font-mono focus:outline-none uppercase tracking-widest border-b border-[#d89853]/30 focus:border-[#d89853] transition-colors pb-2"}),S.jsx("button",{type:"submit",className:"p-2 border border-[#d89853]/30 rounded text-[#d89853] hover:bg-[#d89853]/10 transition-colors",children:S.jsx(il,{size:24})})]}),(e.length>0||i.length>0)&&S.jsx("div",{className:"flex flex-wrap justify-center gap-2 max-w-lg mt-2 px-4",children:Array.from(new Set([...e,...i])).map(ee=>S.jsx("button",{type:"button",onClick:()=>Q(ee),className:"px-3 py-1 bg-[#d89853]/10 hover:bg-[#d89853]/20 border border-[#d89853]/30 text-[#d89853] text-xs rounded transition-colors",children:ny[ee]||ee},ee))})]})})}),S.jsx(pt,{children:R&&S.jsx(fe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"w-full flex justify-center pb-8",children:S.jsxs(fe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,className:"relative group px-12 py-6 bg-transparent overflow-hidden",children:[S.jsx("div",{className:"absolute inset-0 bg-[#d89853]/10 group-hover:bg-[#d89853]/20 transition-colors duration-500 backdrop-blur-sm"}),S.jsx("div",{className:"absolute top-0 left-0 w-full h-[1px] bg-gradient-to-r from-transparent via-[#d89853] to-transparent"}),S.jsx("div",{className:"absolute bottom-0 left-0 w-full h-[1px] bg-gradient-to-r from-transparent via-[#d89853] to-transparent"}),S.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-2",children:[S.jsx("span",{className:"text-xl md:text-2xl font-bold tracking-[0.2em] text-[#d89853] group-hover:text-white transition-colors text-shadow-glow",children:"INITIALIZE FULL DIVE"}),S.jsxs("div",{className:"flex items-center gap-2 text-[#c85a3f] text-xs tracking-[0.3em]",children:[S.jsx(ja,{size:12}),S.jsx("span",{children:"ACCESSING CORTEX..."})]})]}),S.jsx("div",{className:"absolute inset-0 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-700 shadow-[0_0_30px_rgba(216,152,83,0.3)]"})]})})})]})]})]})},Ua={father:{name:"",role:"",impression:'""'},capone:{name:"",role:"",impression:""},conchar:{name:"",role:"",impression:""},nibi:{name:"",role:"",impression:""},unknown_1:{name:"???",role:"",impression:""},unknown_2:{name:"???",role:"",impression:""},unknown_3:{name:"???",role:"",impression:""},unknown_4:{name:"???",role:"",impression:""},unknown_5:{name:"???",role:"",impression:""}},sR={14:"father",20:"capone",8:"conchar",16:"nibi",5:"unknown_1",24:"unknown_2",10:"unknown_3",28:"unknown_4",3:"unknown_5"},lR=()=>{const t=[];let e=1;return[{row:0,cols:[0,1,2,3,4,5]},{row:1,cols:[.5,1.5,2.5,3.5,4.5,5.5]},{row:2,cols:[0,1,2,3,4,5]},{row:3,cols:[.5,1.5,2.5,3.5,4.5,5.5]},{row:4,cols:[0,1,2,3,4,5]},{row:5,cols:[.5,1.5,2.5,3.5,4.5]}].forEach(({row:s,cols:a})=>{a.forEach(u=>{const c=sR[e];let p=140;c==="father"?p=240:c==="capone"?p=200:c==="conchar"?p=220:c==="nibi"?p=210:c?p=180:p=120+Math.random()*60,t.push({id:`cell_${e.toString().padStart(2,"0")}`,cellNumber:e,x:u,y:s,characterId:c,height:p}),e++})}),t},aR=lR(),rR=({unlockedPeople:t=[]})=>{const[e,i]=X.useState(null),s=c=>!c.characterId||c.characterId==="father"||c.characterId==="capone"?!0:t.includes(c.characterId),a=c=>!!c.characterId,u=c=>{c.characterId&&s(c)&&i(c.characterId)};return S.jsxs("div",{className:"relative w-full h-full bg-[#1a1614] overflow-hidden font-mono",children:[S.jsx("div",{className:"absolute inset-0 opacity-15 pointer-events-none",children:S.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#2a2422] to-[#1a1614]"})}),S.jsx("div",{className:"absolute inset-0 flex items-center justify-center overflow-hidden p-8",children:S.jsx("div",{className:"relative w-full h-full flex items-center justify-center",children:aR.map(c=>{const p=s(c),g=a(c),h=c.characterId==="father",v=85,T=(c.x-2.5)*v*.866,x=(c.y-2.5)*v*.75,_=Math.min(1,c.height/240),b=c.height/12;return S.jsx(fe.div,{className:"absolute",style:{left:"50%",top:"50%",transform:`translate(calc(-50% + ${T}px), calc(-50% + ${x}px))`},initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.6,delay:c.cellNumber*.008},children:S.jsx("div",{className:"relative",children:S.jsxs("div",{onClick:()=>u(c),className:`
                      relative transition-all duration-700
                      ${p&&g?"cursor-pointer hover:scale-110":""}
                      ${p&&g?"bg-gradient-to-br from-[#5a5543]/50 via-[#4a4543]/40 to-[#3a3533]/30":"bg-gradient-to-br from-[#2a2422]/30 via-[#1a1614]/20 to-[#0a0808]/15"}
                    `,style:{width:`${v}px`,height:`${v}px`,clipPath:"polygon(30% 0%, 70% 0%, 100% 50%, 70% 100%, 30% 100%, 0% 50%)",filter:`drop-shadow(0 ${b}px ${b*2}px rgba(0,0,0,${.4+_*.4}))`,border:p&&g?"3px solid rgba(216, 152, 83, 0.6)":"1px solid rgba(58, 53, 51, 0.4)"},children:[S.jsx("div",{className:"absolute inset-0",style:{background:p&&g?"radial-gradient(circle at 50% 30%, rgba(216,152,83,0.25), transparent 70%)":"radial-gradient(circle at 50% 50%, rgba(26,22,20,0.3), transparent)",clipPath:"polygon(30% 0%, 70% 0%, 100% 50%, 70% 100%, 30% 100%, 0% 50%)"}}),S.jsx("div",{className:"absolute inset-0 opacity-15 mix-blend-multiply",style:{background:"repeating-linear-gradient(45deg, transparent, transparent 4px, rgba(58,53,51,0.5) 4px, rgba(58,53,51,0.5) 8px)",clipPath:"polygon(30% 0%, 70% 0%, 100% 50%, 70% 100%, 30% 100%, 0% 50%)"}}),S.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:p&&g&&c.characterId?S.jsx("div",{className:"flex flex-col items-center gap-0.5",children:S.jsx("div",{className:`font-bold ${h?"text-2xl":"text-xl"} text-[#d89853] drop-shadow-[0_2px_4px_rgba(0,0,0,0.8)]`,children:Ua[c.characterId].name.charAt(0)})}):g?null:S.jsx("div",{className:"w-full h-full flex items-center justify-center",children:S.jsx("div",{className:"w-2 h-2 bg-[#1a1614]/40 rounded-full"})})}),S.jsx("div",{className:"absolute bottom-1 right-1.5 text-[8px] font-mono text-[#d89853]/20 font-bold",children:c.cellNumber.toString().padStart(2,"0")}),p&&g&&S.jsx("div",{className:"absolute inset-0 opacity-70 pointer-events-none",style:{background:"radial-gradient(circle, rgba(216,152,83,0.2) 0%, transparent 70%)",filter:"blur(12px)",transform:"scale(1.2)"}})]})})},c.id)})})}),S.jsx(pt,{children:e&&S.jsx(fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-50 bg-black/90 backdrop-blur-md flex items-center justify-center p-8",onClick:()=>i(null),children:S.jsxs(fe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:c=>c.stopPropagation(),className:"relative max-w-2xl w-full bg-gradient-to-br from-[#2a2422]/80 to-[#1a1614]/80 border-2 border-[#d89853]/40 rounded-lg p-8 backdrop-blur-xl",children:[S.jsx("button",{onClick:()=>i(null),className:"absolute top-4 right-4 p-2 text-[#d89853]/60 hover:text-[#d89853] transition-colors",children:S.jsx(Pn,{size:24})}),S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"text-center space-y-2 border-b border-[#d89853]/20 pb-4",children:[S.jsx("h2",{className:"text-4xl font-bold text-[#d89853]",children:Ua[e].name}),S.jsx("div",{className:"text-sm text-[#c85a3f]/80 tracking-widest uppercase",children:Ua[e].role})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("div",{className:"text-xs text-[#d89853]/60 tracking-[0.3em] uppercase",children:"[ ROBERT CAPONE  ]"}),S.jsx("p",{className:"text-[#d89853]/90 leading-relaxed text-base font-light",children:Ua[e].impression})]}),S.jsx("div",{className:"pt-4 border-t border-[#d89853]/10 text-center",children:S.jsx("div",{className:"text-[10px] text-[#c85a3f]/40 font-mono tracking-widest",children:"CLASSIFIED // EYES ONLY"})})]})]})})}),S.jsxs("div",{className:"absolute top-8 left-8 text-[#d89853]/30 font-mono text-[10px] tracking-[0.25em] z-30",children:[S.jsx("div",{children:"FULL COVERAGE ANALYSIS"}),S.jsx("div",{className:"mt-1 text-[#c85a3f]/20",children:"RELATIONSHIP MATRIX v6.0"})]})]})},uR=[{id:"confession_1",displayId:"REC-1971-MN",title:" No.1: ",eventTime:"1971",location:" (Maine)",keywords:["","","",""],people:[" (Nibi)"," (Conchar)"],summary:"1971",status:"DECRYPTED"},{id:"confession_2",displayId:"REC-1968-OH",title:" No.2: ",eventTime:"1968",location:" (Ohio)",keywords:["","",""],people:[" (Lundgren)"," (Morning)"],summary:'1968""',status:"DECRYPTED"}],cR=({unlockedNodeIds:t,onClose:e,onViewNode:i})=>S.jsxs("div",{className:"flex flex-col h-full bg-[#0c0c0c] border border-[#d89853]/30 rounded-lg overflow-hidden font-mono",children:[S.jsxs("div",{className:"p-4 border-b border-[#c85a3f]/20 bg-black/40 flex justify-between items-center",children:[S.jsxs("div",{className:"flex items-center gap-2 text-[#d89853]",children:[S.jsx(Za,{size:18}),S.jsx("span",{className:"font-bold tracking-widest uppercase",children:" // CONFESSION LOGS"})]}),S.jsx("div",{className:"text-[10px] text-[#c85a3f]/60",children:"LEVEL 5 CLEARANCE REQUIRED"})]}),S.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 custom-scrollbar",children:[uR.map((s,a)=>{const u=t.includes(s.id);return s.status==="LOCKED"&&!u?S.jsxs("div",{className:"opacity-50 border border-[#c85a3f]/10 p-4 rounded bg-black/20 flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsx(W0,{size:20,className:"text-[#c85a3f]"}),S.jsxs("div",{children:[S.jsx("div",{className:"text-[#c85a3f] font-bold text-sm tracking-widest",children:"ENCRYPTED RECORD"}),S.jsx("div",{className:"text-[10px] text-[#c85a3f]/50",children:"ACCESS DENIED - NODE LOCKED"})]})]}),S.jsxs("div",{className:"text-[#c85a3f]/30 font-mono text-xs",children:["#",a+1]})]},s.id):!u&&s.id!=="confession_2"?null:u?S.jsxs(fe.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:a*.1},onClick:()=>i(s.id),className:"bg-[#d89853]/5 border-l-2 border-[#d89853] p-5 rounded-r shadow-[0_0_15px_rgba(216,152,83,0.1)] group hover:bg-[#d89853]/10 transition-colors cursor-pointer relative overflow-hidden",children:[S.jsx("div",{className:"absolute inset-0 bg-[#d89853]/5 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"}),S.jsxs("div",{className:"flex justify-between items-start mb-3 border-b border-[#d89853]/10 pb-2 relative z-10",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"text-[#d89853] font-bold text-lg tracking-wide group-hover:text-white transition-colors",children:s.title}),S.jsxs("div",{className:"flex gap-3 text-[10px] text-[#c85a3f]/80 mt-1 font-mono",children:[S.jsxs("span",{children:["ID: ",s.displayId]}),S.jsx("span",{children:"|"}),S.jsxs("span",{children:["DATE: ",s.eventTime]}),S.jsx("span",{children:"|"}),S.jsxs("span",{children:["LOC: ",s.location]})]})]}),S.jsx(PN,{size:24,className:"text-[#d89853]/10 group-hover:text-[#d89853]/30 transition-colors"})]}),S.jsx("div",{className:"flex flex-wrap gap-2 mb-4 relative z-10",children:s.keywords.map(c=>S.jsx("span",{className:"px-2 py-0.5 bg-[#d89853]/10 text-[#d89853] text-[10px] rounded border border-[#d89853]/20",children:c},c))}),S.jsxs("div",{className:"mb-3 text-xs text-[#d89853]/80 relative z-10",children:[S.jsx("span",{className:"text-[#c85a3f] font-bold uppercase mr-2",children:":"}),s.people.join(", ")]}),S.jsx("div",{className:"text-sm text-neutral-400 leading-relaxed font-light border-l-2 border-[#c85a3f]/30 pl-3 mb-3 custom-summary-clamp relative z-10",children:s.summary}),S.jsx("div",{className:"flex justify-end relative z-10",children:S.jsxs("button",{className:"flex items-center gap-1 text-[10px] font-bold tracking-widest text-[#d89853] opacity-60 group-hover:opacity-100 transition-opacity border border-[#d89853]/30 px-3 py-1 rounded hover:bg-[#d89853] hover:text-black",children:[S.jsx(Za,{size:10}),"VIEW FULL TRANSCRIPT"]})})]},s.id):S.jsx("div",{className:"opacity-40 border-l-2 border-[#c85a3f]/20 pl-4 py-2",children:S.jsxs("div",{className:"flex items-center gap-2 text-[#c85a3f]/60 font-bold mb-1",children:[S.jsx(W0,{size:12}),S.jsxs("span",{children:["[RECORD #",String(a+1).padStart(3,"0")," - DATA MISSING]"]})]})},s.id)}),t.length===0&&S.jsxs("div",{className:"text-center text-[#c85a3f]/40 py-12 flex flex-col items-center gap-3",children:[S.jsx(ol,{size:32}),S.jsx("p",{children:"AWAITING NEURAL SYNCHRONIZATION..."}),S.jsx("p",{className:"text-xs",children:"No confession records recovered."})]})]}),S.jsx("div",{className:"p-3 border-t border-[#c85a3f]/20 bg-black/40 text-[10px] text-[#c85a3f]/40 text-center uppercase tracking-widest",children:"G.B.O.S. Secure Archives // Confidential"})]});var Ne=(t=>(t.SURFACE="SURFACE",t.DEEP="DEEP",t.CORE="CORE",t))(Ne||{});const fR=({node:t,onShatter:e,onCollectClue:i})=>{var T;const s=t.layers[t.currentLayer]||t.layers[Ne.SURFACE];t.layers[t.currentLayer],t.currentLayer,Ne.CORE,t.currentLayer===Ne.SURFACE||(t.currentLayer,Ne.DEEP);const a=new Set,u={:"conchar",:"nibi",:"relationship",:"dr_reggie",1971:"year_1971"},c={:"dirty_frank",:"morning",:"lundgren",1968:"year_1968",1967:"year_1967"},p=t.id==="confession_2"?c:u,[g,h]=Gv.useState({}),v=(x,_)=>{x.stopPropagation(),i(p[_],_),h(b=>({...b,[_]:!0})),setTimeout(()=>{h(b=>({...b,[_]:!1}))},1e3)};return S.jsxs(fe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:`h-full flex flex-col backdrop-blur-md overflow-hidden ${t.id.includes("confession")?"bg-[#1a1410] border border-[#d89853]/30 shadow-2xl skew-x-0 relative":"bg-neutral-900/90 border-l border-[#d89853]/30"}`,children:[t.id.includes("confession")&&S.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-5 bg-[url('https://www.transparenttextures.com/patterns/cardboard.png')] mix-blend-overlay"}),S.jsxs("div",{className:`p-8 border-b ${t.id.includes("confession")?"border-[#d89853]/20 bg-[#d89853]/5":"border-[#d89853]/20"}`,children:[S.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.id.includes("confession")?S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsx("div",{className:"border border-[#c85a3f] text-[#c85a3f] px-2 py-0.5 text-[10px] font-bold tracking-[0.2em] uppercase rotate-[-2deg]",children:"TOP SECRET"}),S.jsx("span",{className:"text-[10px] font-mono text-[#d89853]/60 uppercase tracking-widest",children:" #RC-7742"})]}):S.jsx("span",{className:"text-[10px] font-mono text-[#d89853]/60 uppercase tracking-widest",children:""}),S.jsxs("div",{className:"flex gap-1",children:[S.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${t.currentLayer===Ne.SURFACE?"bg-[#d89853]":"bg-[#d89853]/20"}`}),S.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${t.currentLayer===Ne.DEEP?"bg-[#c85a3f]":"bg-[#c85a3f]/20"}`}),S.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${t.currentLayer===Ne.CORE?"bg-red-600":"bg-red-600/20"}`})]})]}),S.jsx("h2",{className:`text-2xl font-bold tracking-tight mb-1 uppercase ${t.id.includes("confession")?"text-[#d89853] font-mono":"text-[#d89853] italic"}`,children:t.title}),!t.id.includes("confession")&&S.jsxs("div",{className:"text-xs text-[#d89853]/50 font-mono",children:["STATUS: ",t.currentLayer," VIEW"]})]}),S.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-10 custom-scrollbar relative z-10",children:[t.id.includes("confession")?S.jsxs("div",{className:"space-y-6 px-4 md:px-8 py-4 relative min-h-[60vh] flex flex-col justify-center",children:[S.jsx("div",{className:"absolute inset-0 bg-cover opacity-10 mix-blend-color-burn pointer-events-none",style:{backgroundImage:"url('/assets/noise.png')"}}),S.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-red-900/20 blur-[50px] rounded-full pointer-events-none"}),S.jsx("div",{className:"absolute bottom-10 left-10 w-40 h-40 bg-orange-900/10 blur-[60px] rounded-full pointer-events-none"}),S.jsxs("div",{className:"font-serif leading-loose text-lg md:text-xl text-[#d89853]/90 relative z-10",children:[S.jsxs("div",{className:"mb-8 rotate-1 opacity-70 flex justify-between items-end border-b-2 border-[#d89853]/10 pb-2",children:[S.jsx("span",{className:"font-mono text-xs tracking-[0.3em]",children:"REC_DATE: 1971_UNKNOWN"}),S.jsx("span",{className:"font-handwriting text-2xl text-[#c85a3f] font-bold",children:'"..."'})]}),[t.layers[Ne.SURFACE].event,t.layers[Ne.DEEP].event,(T=t.layers[Ne.CORE])==null?void 0:T.event].filter(Boolean).join(`

`).split(`
`).map((x,_)=>S.jsx("p",{className:`
                    mb-8 last:mb-0 text-justify relative
                    ${_%2===0?"pl-4 border-l-2 border-[#d89853]/20":"pr-4 text-right border-r-2 border-[#c85a3f]/20"}
                    ${_===1?"text-xl font-bold opacity-100 tracking-wide":"opacity-80"}
                  `,children:x.split(new RegExp(`(${Object.keys(p).join("|")})`,"g")).map((b,w)=>{if(Object.keys(p).includes(b)&&!a.has(b)){a.add(b);const A=g[b];return S.jsx("span",{onClick:R=>v(R,b),className:`
                                cursor-pointer font-bold inline-block transform hover:scale-110 transition-all duration-200
                                ${A?"text-white bg-[#c85a3f] px-1 animate-pulse shadow-lg rotate-2":"text-[#c85a3f] border-b-2 border-[#c85a3f] hover:bg-[#c85a3f] hover:text-black skew-x-[-10deg]"}
                            `,title:"",children:b},w)}return S.jsx("span",{className:"hover:text-white/80 transition-colors duration-500",children:b},w)})},_)),S.jsxs("div",{className:"mt-12 pt-8 border-t border-double border-[#d89853]/30 flex flex-col items-end gap-2",children:[S.jsxs("div",{className:"text-right rotate-[-2deg]",children:[S.jsx("div",{className:"h-12 w-48 bg-[url('/assets/signature.png')] bg-contain bg-no-repeat bg-right opacity-80 mb-2 mix-blend-screen"}),S.jsx("p",{className:"text-sm text-[#c85a3f] font-bold tracking-widest font-mono",children:"CONFESSION_VERIFIED"})]}),S.jsx("div",{className:"text-[10px] text-[#d89853]/30 uppercase tracking-[0.5em]",children:"Memory Integrity: Unstable"})]})]})]}):S.jsxs(S.Fragment,{children:[S.jsxs("section",{className:"space-y-4",children:[S.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-neutral-500 uppercase tracking-widest",children:[S.jsx(KN,{size:12})," "]}),S.jsx("p",{className:"text-lg leading-relaxed text-neutral-200 font-serif",children:s.event})]}),S.jsxs("section",{className:"space-y-4 bg-white/5 p-6 border-l border-white/20",children:[S.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-neutral-500 uppercase tracking-widest",children:[S.jsx(ON,{size:12})," "]}),S.jsxs("p",{className:"italic text-neutral-400 text-sm",children:["",s.attitude,""]})]}),s.visual&&S.jsxs("section",{className:"space-y-4",children:[S.jsx("div",{className:"flex items-center justify-between",children:S.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-neutral-500 uppercase tracking-widest",children:[S.jsx(GN,{size:12})," "]})}),S.jsxs("div",{className:"aspect-video relative rounded-sm overflow-hidden bg-black border border-neutral-800 group",children:[S.jsx("img",{src:s.visual,className:"w-full h-full object-cover opacity-60 group-hover:opacity-100 transition-opacity grayscale hover:grayscale-0 duration-700",alt:"Neural Fragment"}),S.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent pointer-events-none"})]})]})]}),!t.id.includes("confession")&&t.currentLayer!==Ne.CORE&&S.jsx("div",{className:"pt-8",children:S.jsxs("button",{onClick:()=>e(t.id),className:"w-full py-4 border border-dashed border-neutral-700 text-neutral-500 hover:text-white hover:border-white/50 transition-all rounded-sm flex items-center justify-center gap-2 text-xs uppercase tracking-[0.2em]",children:[S.jsx(ol,{size:14})," "]})})]})]})},dR={family:{id:"family",word:"",description:"",source:"Briefing"},julip:{id:"julip",word:"",description:" (Butter Julep)",source:"Briefing",attachments:[{type:"image",title:"FBI Symbol Sketch",content:"/assets/fbi-symbol.png"}]},maine:{id:"maine",word:"",description:"",source:"Briefing"},small_bank:{id:"small_bank",word:"",description:"",source:"Briefing"},chicago:{id:"chicago",word:"",description:"",source:"Briefing"},robert:{id:"robert",word:"",description:"KLUB",source:"Briefing"},asian_woman:{id:"asian_woman",word:"",description:"",source:"Briefing"},missing:{id:"missing",word:"",description:"",source:"Briefing"},father:{id:"father",word:"",description:"",source:"Briefing"},project:{id:"project",word:"",description:"",source:"Briefing"},relationship:{id:"relationship",word:"",description:"",source:"Confession"},conchar:{id:"conchar",word:"",description:'""',source:"Confession"},nibi:{id:"nibi",word:"",description:"1971",source:"Confession"},dr_reggie:{id:"dr_reggie",word:"",description:'""',source:"Confession"},year_1971:{id:"year_1971",word:"1971",description:"",source:"Confession"},dirty_frank:{id:"dirty_frank",word:"",description:"",source:"Confession"},morning:{id:"morning",word:"",description:"",source:"Confession"},lundgren:{id:"lundgren",word:"",description:'1968""',source:"Confession"},ohio:{id:"ohio",word:"",description:'1968""',source:"Confession"},ritual_case:{id:"ritual_case",word:"",description:"",source:"Confession"},year_1968:{id:"year_1968",word:"1968",description:"",source:"Confession"}},pR=({collectedClueIds:t,isOpen:e,onClose:i,collectedAttachments:s=[]})=>{var v;const[a,u]=X.useState(null),[c,p]=X.useState(null),g=t.map(T=>dR[T]).filter(Boolean),h=g.reduce((T,x)=>(T[x.source]||(T[x.source]=[]),T[x.source].push(x),T),{});return S.jsx(pt,{children:e&&S.jsxs(fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/95 backdrop-blur-md",children:[S.jsxs("div",{className:"w-full max-w-6xl h-[85vh] bg-[#0c0c0c] border border-[#d89853]/20 rounded-lg flex shadow-[0_0_100px_rgba(216,152,83,0.1)] relative overflow-hidden",children:[S.jsxs("div",{className:"w-64 bg-[#0a0505] border-r border-[#d89853]/10 flex flex-col hidden md:flex",children:[S.jsxs("div",{className:"p-6 border-b border-[#d89853]/10",children:[S.jsxs("h2",{className:"text-[#d89853] font-mono font-bold tracking-[0.2em] flex items-center gap-2",children:[S.jsx(gx,{size:16}),""]}),S.jsx("p",{className:"text-[#d89853]/40 text-[10px] uppercase tracking-widest mt-1",children:"Case Dossier & Evidence"})]}),S.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:Object.entries(h).map(([T,x])=>S.jsxs("div",{children:[S.jsx("div",{className:"text-[10px] text-[#d89853]/30 uppercase tracking-[0.2em] font-bold mb-3 px-2",children:T}),S.jsx("div",{className:"space-y-1",children:x.map(_=>{const b=_.attachments&&_.attachments.length>0,w=(a==null?void 0:a.id)===_.id;return S.jsxs("button",{onClick:()=>u(_),className:`
                                                            w-full text-left px-3 py-2 rounded text-xs font-mono transition-all flex items-center justify-between group
                                                            ${w?"bg-[#d89853]/20 text-[#d89853] border border-[#d89853]/40 shadow-inner":"text-[#d89853]/60 hover:bg-[#d89853]/5 hover:text-[#d89853]"}
                                                        `,children:[S.jsx("span",{className:"truncate",children:_.word}),b&&S.jsx(ty,{size:10,className:`${w?"opacity-100":"opacity-30 group-hover:opacity-70"}`})]},_.id)})})]},T))}),S.jsxs("div",{className:"p-4 border-t border-[#d89853]/10 text-center text-[10px] text-[#d89853]/30 uppercase tracking-widest",children:["TOTAL ITEMS: ",g.length]})]}),S.jsxs("div",{className:"flex-1 bg-[#100c0c] bg-[url('https://www.transparenttextures.com/patterns/black-felt.png')] relative overflow-hidden flex flex-col",children:[S.jsx("button",{onClick:i,className:"absolute top-4 right-4 z-20 p-2 text-[#d89853]/40 hover:text-[#d89853] hover:bg-[#d89853]/10 rounded-full transition-colors",children:S.jsx(Pn,{size:20})}),a?S.jsx("div",{className:"flex-1 p-8 md:p-16 flex flex-col overflow-y-auto w-full max-w-4xl mx-auto custom-scrollbar",children:S.jsxs(fe.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"w-full bg-[#E3DAC9] text-[#1a1515] rounded-sm p-1 shadow-2xl transform md:-rotate-1 relative mb-12",children:[S.jsxs("div",{className:"absolute -top-6 left-0 bg-[#E3DAC9] px-6 py-1 rounded-t-lg font-mono font-bold text-xs tracking-widest shadow-sm",children:["EVIDENCE #",a.id.toUpperCase()]}),S.jsxs("div",{className:"bg-[#f0ece2] p-8 md:p-12 min-h-[50vh] relative shadow-inner bg-[url('https://www.transparenttextures.com/patterns/cardboard-flat.png')]",children:[S.jsx("div",{className:"absolute top-8 right-8 text-red-900/20 border-4 border-red-900/20 p-2 font-black uppercase text-2xl tracking-[0.2em] transform rotate-12 pointer-events-none select-none",children:"CONFIDENTIAL"}),S.jsxs("div",{className:"border-b-2 border-[#1a1515]/10 pb-6 mb-8",children:[S.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-[#1a1515] font-serif tracking-tight mb-2",children:a.word}),S.jsxs("div",{className:"flex items-center gap-4 text-xs font-mono uppercase tracking-widest text-[#1a1515]/50",children:[S.jsxs("span",{className:"flex items-center gap-1",children:[S.jsx(ZN,{size:12})," Source: ",a.source]}),S.jsx("span",{children:"|"}),S.jsxs("span",{children:["Ref: ",Math.random().toString(36).substr(2,8).toUpperCase()]})]})]}),S.jsx("div",{className:"font-mono text-sm md:text-base leading-relaxed text-[#1a1515]/80 mb-12 max-w-2xl",children:a.description}),S.jsxs("div",{className:"bg-[#1a1515]/5 rounded-lg p-6 border border-[#1a1515]/10",children:[S.jsxs("div",{className:"text-xs font-bold uppercase tracking-widest text-[#1a1515]/40 mb-4 flex items-center gap-2",children:[S.jsx(ty,{size:12}),"Attached Evidence"]}),S.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(v=a.attachments)==null?void 0:v.map((T,x)=>{const _=s.includes("julip_symbol")||a.id!=="julip";return a.id==="julip"&&!_?null:S.jsxs(fe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>p(T),className:"group relative aspect-square bg-white shadow-sm p-2 flex flex-col items-center justify-center gap-2 border border-gray-200 hover:shadow-lg transition-all transform rotate-2 hover:rotate-0",children:[S.jsxs("div",{className:"w-full h-full bg-gray-50 flex items-center justify-center overflow-hidden border border-gray-100 relative",children:[T.type==="image"?S.jsx("img",{src:T.content,className:"w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity"}):S.jsx(Za,{size:24,className:"text-gray-400"}),S.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center text-white",children:S.jsx(AN,{size:20})})]}),S.jsxs("span",{className:"text-[9px] uppercase tracking-wider font-bold text-gray-500 group-hover:text-black",children:["Exhibit ",String.fromCharCode(65+x)]})]},x)}),(!a.attachments||a.attachments.length===0||a.id==="julip"&&!s.includes("julip_symbol"))&&S.jsx("div",{className:"col-span-4 text-center py-8 text-xs text-gray-400 italic",children:"No physical evidence attached to this file."})]})]})]})]},a.id)}):S.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-[#d89853]/20",children:[S.jsx(yx,{size:64,className:"mb-4 opacity-50"}),S.jsx("p",{className:"font-mono uppercase tracking-[0.2em] text-sm",children:"Select a file to view details"})]})]})]}),S.jsx(pt,{children:c&&S.jsx(fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[110] bg-black/95 backdrop-blur-xl flex items-center justify-center p-4 md:p-12 cursor-zoom-out",onClick:()=>p(null),children:c.type==="image"&&S.jsxs(fe.div,{initial:{scale:.9,rotate:-2},animate:{scale:1,rotate:0},exit:{scale:.9,rotate:2},className:"relative bg-white p-4 shadow-[0_0_100px_rgba(0,0,0,0.5)] border-8 border-white max-h-[90vh] max-w-[90vw]",onClick:T=>T.stopPropagation(),children:[S.jsx("img",{src:c.content,alt:c.title,className:"max-h-[85vh] object-contain"}),S.jsx("div",{className:"absolute bottom-[-40px] left-0 w-full text-center text-white font-mono text-sm tracking-widest mt-4",children:c.title}),S.jsx("button",{onClick:()=>p(null),className:"absolute -top-12 -right-12 p-2 text-white/50 hover:text-white transition-colors",children:S.jsx(Pn,{size:24})})]})})})]})})},tf=[{id:"me_1971",title:"1971",triggers:{year:"1971",person:["nibi","","Nibi"]},newspaper:{source:"",date:"19711114",headline:"",content:["  ","",""]},annotation:{fileId:"ME-1971-08-SEC",date:"1972214",level:" (CONFIDENTIAL)",author:" (Dr. Reggie)",content:`

19711114

**Violence Redundancy**


**Symbolic Contamination**
1968
            `}},{id:"oh_1968",title:"1968",triggers:{year:"1968",person:["lundgren","","Lundgren"]},newspaper:{source:"(The Kirtland Gazette)",date:"19681114",headline:'""',content:["  ",'""""4','13""FBI']},annotation:{fileId:"OH-1968-11-SEC",date:"19681220",level:" (CONFIDENTIAL / INTERNAL USE ONLY)",author:" (Dr. Reggie)",content:`

Jeffrey Lundgren

**Post-hoc Narrative Construction**
""RLDS""""

1967KLUBKLUB`}},{id:"dc_1967",title:"1967",triggers:{year:"1967",person:["dr_reggie","","Reggie"]},newspaper:{source:"",date:"1967514",headline:"",content:[" 1965UCR40%"," 1945"," "," "," "," 195020%1970"," "," ","()"]},annotation:{fileId:"#1967-ARCH-042",date:"1969824",level:" (TOP SECRET / KLUB EYES ONLY)",author:" (Dr. Reggie)",content:`
 KLUB1945-1968

  1967 KLUB - Knowledge-based Linkage & Urban Behavior 20.8% 


**1945-1950**  3%
**1951-1966**  1967  KLUB  1963 
**1967-** 1967 KLUB 


****  1967  
**  ** 1975

 1967 KLUB  19 
            `}}],hR=({isOpen:t,onClose:e,unlockedArchiveIds:i,onUnlockArchive:s,onCollectClue:a,collectedClues:u,collectedYears:c,onConsumeKeywords:p,onCollectAttachment:g})=>{const[h,v]=X.useState(""),[T,x]=X.useState(""),[_,b]=X.useState(null),[w,A]=X.useState(""),[R,P]=X.useState(!1),[U,J]=X.useState(new Set),[H,q]=X.useState(null),[z,Q]=X.useState(null),[Z,ie]=X.useState(!1),[pe,ee]=X.useState({type:null,msg:""}),re={:"ohio",:"ritual_case",1967:"year_1967",:"dismemberment_case"},ye={year_1971:"1971",year_1968:"1968",year_1967:"1967",nibi:"",lundgren:"",conchar:"",dismemberment_case:"",dr_reggie:"",project:"",julip:"",family:"",maine:"",small_bank:"",chicago:"",robert:"",asian_woman:"",missing:"",father:"",relationship:"",dirty_frank:"",morning:"",ohio:"",ritual_case:"",headdress:""},Ge=W=>{let M=!1;W==="julip"&&(M=!0),M?(g&&g("julip_symbol"),ee({type:"success",msg:" // FILED SUCCESSFULLY"}),setTimeout(()=>{Q(null),ie(!1),ee({type:null,msg:""})},1500)):(ee({type:"error",msg:" // MISMATCH"}),setTimeout(()=>ee({type:null,msg:""}),2e3))},L=W=>{const M=re[W];M&&(a&&a(M,W),["1967","1968","1971"].includes(W)?v(W):x(W))},$=W=>{W.preventDefault(),P(!0),A(""),setTimeout(()=>{const M=tf.find(O=>O.triggers.year===h.trim()&&O.triggers.person.some(j=>j.toLowerCase()===T.trim().toLowerCase()));if(M){i.includes(M.id)||s(M.id),b(M),A("");const O=[],j=[],ne=h.trim();ne==="1971"&&O.push("year_1971"),ne==="1968"&&O.push("year_1968"),ne==="1967"&&O.push("year_1967");const ue=T.trim().toLowerCase();["nibi",""].includes(ue)&&j.push("nibi"),["lundgren",""].includes(ue)&&j.push("lundgren"),["conchar",""].includes(ue)&&j.push("conchar"),["morning",""].includes(ue)&&j.push("morning"),["dr_reggie","","reggie"].includes(ue)&&j.push("dr_reggie"),["project",""].includes(ue)&&j.push("project");const he=["julip","project","julip_symbol"];j.forEach(Se=>{const je=ye[Se]||Se;he.includes(Se)&&!u.includes(Se)&&a(Se,je)}),(O.length>0||j.length>0)&&p(O,j)}else A(" (NO RECORDS FOUND)");P(!1)},800)},se=W=>{const M=tf.find(O=>O.id===W);M&&b(M)},Te=()=>{b(null),v(""),x(""),A(""),q(null)};return S.jsx(pt,{children:t&&S.jsxs(fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/95 backdrop-blur-md",children:[S.jsxs("div",{className:"w-full max-w-7xl h-[85vh] flex relative border border-[#c85a3f]/20 bg-[#0a0505] rounded-lg overflow-hidden shadow-[0_0_100px_rgba(0,0,0,0.8)]",children:[S.jsxs("div",{className:"w-64 border-r border-[#c85a3f]/20 bg-[#0f0a0a] flex flex-col hidden md:flex",children:[S.jsxs("button",{onClick:Te,className:"p-4 border-b border-[#c85a3f]/20 text-[#c85a3f]/60 hover:text-[#d89853] hover:bg-[#c85a3f]/10 transition-colors flex items-center justify-center gap-2 text-xs font-mono tracking-wider",children:[S.jsx(Sf,{size:14}),"NEW SEARCH"]}),S.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[i.length===0&&S.jsxs("div",{className:"text-center mt-10 text-[#c85a3f]/30 text-xs font-mono px-4",children:["NO ARCHIVES UNLOCKED",S.jsx("div",{className:"mt-2 text-[10px] opacity-50",children:"Please perform search to retrieve cases."})]}),i.map(W=>{const M=tf.find(j=>j.id===W);if(!M)return null;const O=(_==null?void 0:_.id)===W;return S.jsxs("button",{onClick:()=>se(W),className:`w-full text-left p-3 rounded border transition-all text-xs font-mono group relative overflow-hidden ${O?"bg-[#c85a3f]/20 border-[#c85a3f] text-[#d89853]":"bg-black/40 border-[#c85a3f]/10 text-[#c85a3f]/60 hover:border-[#c85a3f]/40 hover:text-[#d89853]/80"}`,children:[S.jsxs("div",{className:"flex items-center justify-between mb-1",children:[S.jsxs("span",{className:"font-bold",children:[M.triggers.year," CASE"]}),O&&S.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[#d89853] animate-pulse"})]}),S.jsx("div",{className:"truncate opacity-80",children:M.title})]},W)})]}),S.jsxs("div",{className:"p-6 border-t border-[#c85a3f]/20",children:[S.jsxs("div",{className:"flex items-center gap-2 text-[#d89853] mb-1",children:[S.jsx(mx,{size:18}),S.jsx("span",{className:"font-mono text-sm tracking-widest font-bold",children:""})]}),S.jsx("div",{className:"text-[10px] text-[#c85a3f]/40 font-mono",children:"CASE DIRECTORY"})]})]}),S.jsxs("div",{className:"flex-1 flex flex-col relative w-full",children:[S.jsxs("div",{className:"h-16 border-b border-[#c85a3f]/20 flex justify-between items-center px-6 bg-[#0f0a0a]/50 absolute top-0 left-0 w-full z-20 pointer-events-none",children:[S.jsx("div",{className:"flex flex-col",children:S.jsx("span",{className:"font-mono text-lg tracking-[0.2em] font-bold text-[#d89853] text-shadow-sm",children:" // ARCHIVES"})}),S.jsx("button",{onClick:e,className:"p-2 hover:bg-[#c85a3f]/10 rounded-full text-[#c85a3f] transition-colors pointer-events-auto",children:S.jsx(Pn,{size:24})})]}),S.jsx("div",{className:"flex-1 overflow-hidden relative pt-16",children:S.jsx(pt,{mode:"wait",children:_?S.jsxs(fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"w-full h-full flex flex-col md:flex-row bg-black relative",children:[S.jsx("div",{className:"md:hidden absolute top-4 right-4 z-50",children:S.jsx("button",{onClick:Te,className:"p-2 bg-black/50 text-white rounded-full",children:S.jsx(Pn,{size:20})})}),S.jsxs("div",{className:`
                                                    relative transition-all duration-500 ease-in-out overflow-hidden cursor-pointer
                                                    ${H==="newspaper"?"flex-[2.5]":H==="annotation"?"flex-[0.8] opacity-60 hover:opacity-100 hover:flex-[1]":"flex-1"}
                                                    border-r border-[#c85a3f]/20
                                                `,onMouseEnter:()=>q("newspaper"),onClick:()=>q("newspaper"),children:[S.jsxs("div",{className:"h-full overflow-y-auto bg-[#eaddcf] text-neutral-900 p-8 md:p-12 relative group scrollbar-thin scrollbar-thumb-neutral-400",children:[S.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none mix-blend-multiply bg-[url('https://www.transparenttextures.com/patterns/aged-paper.png')]"}),S.jsxs("div",{className:"max-w-2xl mx-auto relative z-10 font-serif origin-top transition-transform duration-500",children:[S.jsxs("div",{className:"border-b-4 border-black mb-8 pb-4 text-center",children:[S.jsx("h2",{className:"text-4xl md:text-5xl font-black uppercase tracking-tighter mb-2",children:_.newspaper.source}),S.jsxs("div",{className:"flex justify-between items-center border-t border-black pt-2 text-xs md:text-sm font-bold uppercase tracking-wide",children:[S.jsx("span",{children:_.newspaper.date}),S.jsx("span",{className:"bg-black text-[#eaddcf] px-2 py-0.5",children:"EXTRA EDITION"}),S.jsx("span",{children:"10 CENTS"})]})]}),S.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold leading-[1.1] mb-6 font-serif",children:_.newspaper.headline}),S.jsx("div",{className:"columns-1 md:columns-2 gap-8 text-sm md:text-base leading-relaxed text-justify space-y-4 font-serif text-neutral-800",children:_.newspaper.content.map((W,M)=>S.jsx("p",{className:`first-letter:text-4xl first-letter:font-bold first-letter:float-left first-letter:mr-2 ${M===0?"first-letter:text-black":"first-letter:hidden"}`,children:W},M))})]})]}),S.jsx("div",{className:"absolute bottom-4 left-4 bg-black/80 text-[#eaddcf] text-[10px] px-2 py-1 uppercase tracking-widest pointer-events-none",children:"EVIDENCE TYPE: PRESS CLIPPING"})]}),S.jsxs("div",{className:`
                                                    relative transition-all duration-500 ease-in-out overflow-hidden cursor-pointer bg-[#1a1515]
                                                    ${H==="annotation"?"flex-[2]":H==="newspaper"?"flex-[0.5] opacity-60 hover:opacity-100 hover:flex-[0.8]":"flex-1"}
                                                `,onMouseEnter:()=>q("annotation"),onClick:()=>q("annotation"),children:[S.jsxs("div",{className:"h-full overflow-y-auto p-8 md:p-12 relative scrollbar-thin scrollbar-thumb-[#c85a3f]/30",children:[S.jsx("div",{className:"absolute top-10 right-10 p-4 opacity-10 pointer-events-none transform rotate-12",children:S.jsx(QN,{size:180,className:"text-red-600"})}),S.jsxs("div",{className:"max-w-xl mx-auto space-y-8 relative z-10",children:[S.jsxs("div",{className:"border border-[#c85a3f]/30 p-6 rounded bg-[#c85a3f]/5 backdrop-blur-sm relative overflow-hidden",children:[S.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-[#c85a3f]"}),S.jsxs("div",{className:"flex justify-between items-start mb-6 border-b border-[#c85a3f]/20 pb-4",children:[S.jsxs("div",{children:[S.jsx("div",{className:"text-[10px] text-[#c85a3f]/60 uppercase tracking-[0.2em] mb-1",children:"Bureau Investigation File"}),S.jsx("div",{className:"text-xl md:text-2xl font-mono font-bold text-[#d89853]",children:_.annotation.fileId})]}),S.jsxs("div",{className:"text-right",children:[S.jsx("div",{className:"text-[10px] text-[#c85a3f]/60 uppercase tracking-[0.2em] mb-1",children:"Classification"}),S.jsx("div",{className:"text-red-500 font-bold border border-red-500/50 px-2 py-0.5 text-xs bg-red-500/10 tracking-widest",children:_.annotation.level})]})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-6 text-xs text-[#d89853]/80 font-mono",children:[S.jsxs("div",{children:[S.jsx("span",{className:"block text-[#c85a3f]/40 text-[10px] uppercase",children:"Marked Date"}),_.annotation.date]}),S.jsxs("div",{children:[S.jsx("span",{className:"block text-[#c85a3f]/40 text-[10px] uppercase",children:"Authorized By"}),_.annotation.author]})]})]}),S.jsx("div",{className:"font-mono text-sm md:text-base leading-7 space-y-6 text-neutral-300 font-light border-l border-[#c85a3f]/10 pl-6",children:_.annotation.content.split(`
`).map((W,M)=>{const O=_.id==="oh_1968"?["","","1967"]:_.id==="dc_1967"?[""]:["",""],j="",ne=`(${[...O,j].join("|")})`,ue=new RegExp(ne,"g");return S.jsx("p",{className:"mb-4",children:W.split(ue).map((he,Se)=>{if(he===j)return S.jsxs("span",{onClick:()=>{Q("/assets/fbi-symbol.png"),g&&g("julip_symbol")},className:"inline-flex items-center gap-1 text-[#d89853] cursor-pointer hover:text-white hover:underline decoration-1 underline-offset-4 ml-1 transition-colors group/link align-baseline font-bold",title:"",children:[S.jsx(RN,{size:14,className:"inline group-hover/link:scale-110 transition-transform"}),he]},Se);if(O.includes(he)){const je=re[he],Oe=u.includes(je)||c.includes(je);return S.jsx("span",{onClick:()=>L(he),className:`
                                                                                        cursor-pointer font-bold inline-block transform hover:scale-105 transition-all duration-200
                                                                                        ${Oe?"text-white bg-[#c85a3f] px-1 shadow-lg":"text-[#c85a3f] border-b-2 border-[#c85a3f] hover:bg-[#c85a3f]/20 animate-pulse"}
                                                                                    `,title:Oe?"":"",children:he},Se)}return S.jsx("span",{children:he},Se)})},M)})}),S.jsx("div",{className:"mt-8 flex justify-end pr-12",children:S.jsxs("div",{className:"relative text-red-900/80 transform -rotate-12 mix-blend-multiply opacity-90 group-hover:opacity-100 transition-opacity",children:[S.jsxs("svg",{width:"120",height:"80",viewBox:"0 0 120 80",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{d:"M30 60 C 30 60, 25 20, 45 15 C 60 10, 70 25, 55 40 C 40 55, 30 40, 50 35 C 70 30, 90 60, 100 55",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"path-draw"}),S.jsx("path",{d:"M 25 65 L 105 50",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",opacity:"0.6"}),S.jsx("text",{x:"70",y:"70",fontFamily:"serif",fontSize:"12",fill:"currentColor",opacity:"0.8",className:"tracking-widest rotate-6",children:"Reggie"})]}),S.jsx("div",{className:"text-[10px] text-[#c85a3f]/60 font-mono text-center mt-1 tracking-widest uppercase",children:"Verified"})]})})]})]}),S.jsx("div",{className:"absolute bottom-4 right-4 bg-[#c85a3f]/20 text-[#c85a3f] text-[10px] px-2 py-1 uppercase tracking-widest pointer-events-none border border-[#c85a3f]/30",children:"INTERNAL MEMO // DO NOT DISTRIBUTE"})]})]},"result"):S.jsx(fe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full h-full flex flex-col items-center justify-center p-8 bg-[url('https://www.transparenttextures.com/patterns/dark-matter.png')]",children:S.jsxs("div",{className:"max-w-md w-full space-y-8 relative",children:[S.jsx("div",{className:"absolute -inset-10 bg-[#c85a3f]/5 blur-3xl rounded-full pointer-events-none"}),S.jsxs("div",{className:"text-center space-y-2 relative",children:[S.jsx(YN,{size:48,className:"mx-auto text-[#c85a3f]/60 mb-4 animate-pulse"}),S.jsx("h3",{className:"text-[#d89853] font-mono tracking-widest text-xl font-bold",children:""}),S.jsx("p",{className:"text-[#c85a3f]/60 text-xs font-mono tracking-[0.2em]",children:"DUAL-INDEX VERIFICATION PROTOCOL"})]}),S.jsxs("form",{onSubmit:$,className:"space-y-6 relative z-10",children:[S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"group",children:[S.jsx("label",{className:"text-[10px] text-[#d89853]/40 font-mono tracking-widest uppercase mb-1 block group-focus-within:text-[#d89853]",children:" (Year)"}),S.jsx("input",{type:"text",value:h,onChange:W=>v(W.target.value),placeholder:"YYYY",className:"w-full bg-black/60 border-b border-[#c85a3f]/30 text-[#d89853] py-2 px-4 font-mono focus:border-[#d89853] focus:outline-none text-center tracking-[0.5em] text-2xl transition-all placeholder-[#d89853]/10 hover:border-[#c85a3f]/60"})]}),S.jsxs("div",{className:"group",children:[S.jsx("label",{className:"text-[10px] text-[#d89853]/40 font-mono tracking-widest uppercase mb-1 block group-focus-within:text-[#d89853]",children:" (Person)"}),S.jsx("input",{type:"text",value:T,onChange:W=>x(W.target.value),placeholder:"NAME CODE",className:"w-full bg-black/60 border-b border-[#c85a3f]/30 text-[#d89853] py-2 px-4 font-mono focus:border-[#d89853] focus:outline-none text-center tracking-[0.2em] text-xl transition-all placeholder-[#d89853]/10 hover:border-[#c85a3f]/60"})]})]}),(c.length>0||u.filter(W=>ye[W]).length>0)&&S.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[S.jsx("div",{className:"text-[10px] text-[#c85a3f]/40 uppercase tracking-widest w-full text-center mb-2",children:" / Quick Select"}),c.filter(W=>ye[W]).map(W=>S.jsx("button",{type:"button",onClick:()=>v(ye[W]),className:"px-3 py-1 bg-[#d89853]/10 hover:bg-[#d89853]/20 border border-[#d89853]/30 text-[#d89853] text-xs rounded-full transition-colors backdrop-blur-sm cursor-pointer",children:ye[W]},W)),u.filter(W=>{const M=W.toLowerCase();return["robert","capone","robert_capone","robert capone"].includes(M)?!1:!!ye[W]}).map(W=>S.jsx("button",{type:"button",onClick:()=>x(ye[W]),className:"px-3 py-1 bg-[#d89853]/10 hover:bg-[#d89853]/20 border border-[#d89853]/30 text-[#d89853] text-xs rounded-full transition-colors backdrop-blur-sm cursor-pointer",children:ye[W]},W))]}),w&&S.jsx(fe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-red-500/80 text-xs text-center font-mono py-2 bg-red-900/10 border border-red-900/30 rounded",children:w}),S.jsxs("button",{type:"submit",disabled:R,className:"w-full bg-gradient-to-r from-[#c85a3f]/80 to-[#a04632]/80 hover:from-[#c85a3f] hover:to-[#a04632] text-white py-4 rounded font-mono tracking-[0.2em] uppercase font-bold transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3 shadow-[0_0_20px_rgba(200,90,63,0.3)] hover:shadow-[0_0_30px_rgba(200,90,63,0.5)] active:scale-[0.98]",children:[R?S.jsx("span",{className:"animate-pulse",children:"VERIFYING..."}):" / RETRIEVE",!R&&S.jsx(Sf,{size:16})]})]})]})},"search")})})]})]}),S.jsx(pt,{children:z&&S.jsx(fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>{Q(null),ie(!1),ee({type:null,msg:""})},className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-black/95 backdrop-blur-xl cursor-default",children:S.jsxs("div",{className:"relative w-full max-w-4xl flex flex-col items-center",onClick:W=>W.stopPropagation(),children:[S.jsxs("div",{className:"relative mb-8",children:[S.jsx(fe.img,{initial:{scale:.9,rotate:-2},animate:{scale:1,rotate:0},exit:{scale:.9,rotate:2},src:z,alt:"FBI Attachment",className:"max-h-[60vh] object-contain shadow-[0_0_50px_rgba(0,0,0,0.8)] border-8 border-white p-4 bg-white transform rotate-1"}),pe.msg&&S.jsx(fe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 px-6 py-3 rounded border backdrop-blur-md shadow-2xl font-mono font-bold tracking-widest text-sm z-50
                                                    ${pe.type==="success"?"bg-green-900/90 border-green-500 text-green-100":"bg-red-900/90 border-red-500 text-red-100"}
                                                `,children:pe.msg})]}),S.jsx("div",{className:"w-full max-w-lg",children:Z?S.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-[#0f0a0a] border border-[#d89853]/30 rounded-lg p-6 shadow-2xl relative",children:[S.jsxs("div",{className:"text-center mb-4",children:[S.jsx("h4",{className:"text-[#d89853] font-mono tracking-widest text-sm font-bold",children:"SELECT TARGET CASE FILE"}),S.jsx("p",{className:"text-[#d89853]/40 text-[10px] uppercase",children:"Where does this evidence belong?"})]}),S.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 max-h-[30vh] overflow-y-auto custom-scrollbar p-1",children:[u.map(W=>S.jsxs("button",{onClick:()=>Ge(W),className:"text-[10px] font-mono border border-[#d89853]/20 bg-[#d89853]/5 text-[#d89853]/80 p-2 rounded hover:bg-[#d89853]/20 hover:text-[#d89853] hover:border-[#d89853]/50 transition-all truncate text-left flex items-center gap-2",children:[S.jsx(yx,{size:12,className:"shrink-0"}),S.jsx("span",{className:"truncate",children:ye[W]||W})]},W)),u.length===0&&S.jsx("div",{className:"col-span-3 text-center text-[#d89853]/30 text-xs py-4",children:"NO OPEN FILES AVAILABLE"})]}),S.jsx("button",{onClick:()=>ie(!1),className:"absolute top-2 right-2 text-[#d89853]/40 hover:text-[#d89853]",children:S.jsx(Pn,{size:14})})]}):S.jsxs("div",{className:"flex flex-col items-center gap-2",children:[S.jsxs("button",{onClick:()=>ie(!0),className:"bg-[#c85a3f] text-white px-8 py-3 rounded-full font-mono font-bold tracking-[0.2em] flex items-center gap-3 hover:bg-[#d89853] transition-all shadow-[0_0_20px_rgba(200,90,63,0.4)] hover:scale-105 active:scale-95",children:[S.jsx(IN,{size:18}),"COLLECT EVIDENCE"]}),S.jsx("span",{className:"text-[10px] text-[#d89853]/60 font-mono tracking-widest uppercase",children:"Identify applicable case file"})]})})]})})})]})})},mR=({nodes:t,onNodeClick:e,activeNodeId:i,onSearch:s,history:a,isProcessing:u,activeNode:c,onShatter:p,collectedClues:g=[],collectedYears:h=[],unlockedPeople:v=[],onCollectClue:T,unlockedArchiveIds:x=[],onUnlockArchive:_,onConsumeKeywords:b,collectedAttachments:w,onCollectAttachment:A,collectedDossierIds:R=[]})=>{const[P,U]=X.useState(""),[J,H]=X.useState(!1),[q,z]=X.useState(!1),[Q,Z]=X.useState(!1),[ie,pe]=X.useState(!1),[ee,re]=X.useState(!1),ye={rubick:"",robert:"",julip:"",julep:"",chicago:"",asian_woman:"",maine:"",small_bank:"",headdress:"",missing:"",father:"",project:"",confession:"",relationship:"",conchar:"",nibi:"",dr_reggie:"",year_1971:"1971",dirty_frank:"",morning:"",lundgren:"",ohio:"",ritual_case:"",dismemberment_case:"",year_1968:"1968",year_1967:"1967"},Ge=L=>{L.preventDefault(),P.trim()&&(s(P),U(""))};return S.jsxs("div",{className:"h-screen w-screen bg-[#050303] text-[#d89853] overflow-hidden flex flex-col relative font-mono",children:[S.jsxs("div",{className:"absolute inset-0 pointer-events-none z-0",children:[S.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[60vw] h-[60vh] bg-[#d89853]/10 blur-[100px] rounded-full"}),S.jsx("div",{className:"absolute inset-0 opacity-40 filter blur-lg scale-110 pointer-events-none mix-blend-screen",children:S.jsx("img",{src:"/assets/capone-split-personality.jpg",className:"w-full h-full object-cover opacity-60",style:{objectPosition:"0% 20%"}})}),S.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-b from-black/60 via-transparent to-black/80"}),S.jsx("div",{className:"scanlines opacity-5"})," ",S.jsx("div",{className:"absolute inset-0 opacity-[0.05] pointer-events-none bg-[url('https://grainy-gradients.vercel.app/noise.svg')] mix-blend-overlay"})]}),S.jsxs("header",{className:"h-14 md:h-20 border-b border-[#d89853]/20 flex items-center justify-between px-4 md:px-8 bg-black/20 backdrop-blur-md z-20",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"w-2 h-2 bg-[#c85a3f] rounded-full animate-pulse shadow-[0_0_8px_#c85a3f]"}),S.jsx("h1",{className:"text-lg md:text-xl tracking-[0.2em] font-bold text-[#d89853] opacity-90 text-shadow-sm",children:"G.B.O.S. LINK"})]}),S.jsxs("div",{className:"flex gap-4 md:gap-6",children:[S.jsxs("button",{onClick:()=>H(!0),className:"group flex items-center gap-2 text-[#d89853]/80 hover:text-[#d89853] transition-colors text-xs tracking-[0.1em] font-bold",children:[S.jsx(ey,{size:14,className:"group-hover:scale-110 transition-transform"}),S.jsx("span",{className:"hidden md:inline",children:""})]}),S.jsxs("button",{onClick:()=>Z(!0),className:"group flex items-center gap-2 text-[#d89853]/80 hover:text-[#d89853] transition-colors text-xs tracking-[0.1em] font-bold",children:[S.jsx(mx,{size:14,className:"group-hover:scale-110 transition-transform"}),S.jsx("span",{className:"hidden md:inline",children:""})]}),S.jsxs("button",{onClick:()=>z(!0),className:"group flex items-center gap-2 text-[#d89853]/80 hover:text-[#d89853] transition-colors text-xs tracking-[0.1em] font-bold",children:[S.jsx(gx,{size:14,className:"group-hover:scale-110 transition-transform"}),S.jsx("span",{className:"hidden md:inline",children:""}),S.jsx("span",{className:"bg-[#d89853]/10 px-1.5 py-0.5 rounded text-[9px] group-hover:bg-[#d89853]/30 transition-colors",children:R.length})]})]})]}),S.jsxs("main",{className:"flex-1 relative z-10 flex flex-col items-center justify-center p-4",children:[S.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"w-full max-w-2xl flex flex-col items-center gap-8",children:[S.jsxs("div",{className:"relative mb-4 group",children:[S.jsx("div",{className:"w-28 h-28 rounded-full overflow-hidden border-2 border-[#d89853]/40 shadow-[0_0_40px_rgba(216,152,83,0.3)] opacity-90 group-hover:opacity-100 transition-opacity filter sepia-[0.2] contrast-110",children:S.jsx("img",{src:"/assets/capone-split-personality.jpg",className:"w-[200%] h-full max-w-none object-cover object-left"})}),S.jsx("div",{className:"absolute -bottom-10 left-1/2 -translate-x-1/2 whitespace-nowrap text-[#d89853]/60 text-sm tracking-[0.2em] font-light text-shadow-sm",children:""})]}),S.jsxs("form",{onSubmit:Ge,className:"w-full relative group transform transition-all duration-300 focus-within:scale-105",children:[S.jsx(Sf,{className:"absolute left-6 top-1/2 -translate-y-1/2 text-[#d89853]/60 group-hover:text-[#d89853] transition-colors",size:20}),S.jsx("input",{type:"text",value:P,onChange:L=>U(L.target.value),placeholder:"...",autoFocus:!0,onFocus:()=>re(!0),onBlur:()=>setTimeout(()=>re(!1),200),className:"w-full pl-16 pr-8 py-5 bg-black/40 backdrop-blur-md border border-[#d89853]/30 text-[#d89853] placeholder-[#d89853]/40 rounded-full text-lg font-light tracking-wide focus:outline-none focus:border-[#d89853]/60 focus:bg-black/60 transition-all shadow-[0_0_30px_rgba(0,0,0,0.3)] hover:border-[#d89853]/50",style:{textShadow:"0 0 10px rgba(216,152,83,0.2)"}}),S.jsxs("button",{type:"submit",className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-2 px-4 py-2 rounded-full overflow-hidden group/btn hover:bg-[#d89853]/10 transition-all cursor-pointer",children:[S.jsx("span",{className:"text-[10px] tracking-widest text-[#d89853] group-hover/btn:text-white transition-colors",children:""}),S.jsx(ja,{size:12,className:"text-[#d89853]"})]}),S.jsxs("div",{className:"absolute -top-8 right-0 flex items-center gap-2 text-[10px] tracking-widest text-[#d89853]/60 hover:text-[#d89853] cursor-pointer transition-colors uppercase font-bold",onClick:()=>pe(!0),children:[S.jsx(ja,{size:12}),S.jsx("span",{children:" // LOGS"})]}),S.jsx(pt,{children:(ee||g.length>0||v.length>0)&&(g.length>0||v.length>0)&&S.jsx(fe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"w-full max-w-2xl px-4 flex flex-wrap gap-2 justify-center mt-4 absolute top-full left-0 z-20",children:Array.from(new Set([...g,...v])).filter(L=>L.toLowerCase()!=="capone").map(L=>S.jsx("button",{type:"button",onMouseDown:$=>{$.preventDefault();const se=ye[L]||L;U(Te=>{if(!Te)return se;if(Te.includes(se))return Te;const W=Te.endsWith(" ")?"":" ";return`${Te}${W}${se}`})},className:"px-3 py-1 bg-[#d89853]/10 hover:bg-[#d89853]/20 border border-[#d89853]/30 text-[#d89853] text-xs rounded-full transition-colors backdrop-blur-sm cursor-pointer",children:ye[L]||L},L))})})]})]}),S.jsx(pt,{children:J&&S.jsxs(fe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed inset-0 z-40 bg-black/95 bg-opacity-95 backdrop-blur-sm",children:[S.jsx("div",{className:"absolute top-0 left-0 w-full p-6 flex justify-between items-start pointer-events-none z-[100]",children:S.jsxs("span",{className:"text-[#d89853] tracking-[0.2em] font-bold flex items-center gap-3 bg-black/50 px-4 py-2 rounded-full border border-[#d89853]/20 backdrop-blur-md pointer-events-auto shadow-[0_0_15px_rgba(216,152,83,0.2)]",children:[S.jsx(ey,{size:20}),""]})}),S.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 z-[100] pointer-events-auto",children:S.jsxs("button",{onClick:()=>H(!1),className:"flex items-center gap-2 px-4 py-2 bg-[#c85a3f]/30 hover:bg-[#c85a3f]/50 text-[#d89853]/80 hover:text-[#d89853] border border-[#c85a3f]/40 shadow-[0_0_8px_rgba(200,90,63,0.2)] rounded transition-all group backdrop-blur-sm",children:[S.jsx("span",{className:"text-xs font-mono tracking-[0.15em] uppercase opacity-80 group-hover:opacity-100",children:"EXIT"}),S.jsx(Pn,{size:14})]})}),S.jsx("div",{className:"w-full h-full",children:S.jsx(rR,{nodes:t,activeNodeId:i,onNodeClick:L=>{e(L),H(!1)},onShatter:p,unlockedPeople:v})})]})}),S.jsx(pt,{children:ie&&S.jsx(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/90 backdrop-blur-md",onClick:()=>pe(!1),children:S.jsxs("div",{className:"w-full max-w-3xl h-[80vh] bg-[#0c0c0c] border border-[#d89853]/30 rounded-lg shadow-[0_0_50px_rgba(0,0,0,0.5)] overflow-hidden relative flex flex-col",onClick:L=>L.stopPropagation(),children:[S.jsx("button",{onClick:()=>pe(!1),className:"absolute top-3 right-3 z-10 text-[#d89853]/60 hover:text-[#d89853] p-1 hover:bg-[#d89853]/10 rounded transition-colors",children:S.jsx(Pn,{size:18})}),S.jsx(cR,{unlockedNodeIds:t.map(L=>L.id),onClose:()=>pe(!1),onViewNode:L=>{pe(!1),e(L)}})]})})}),S.jsx(pt,{children:c&&S.jsx(fe.div,{initial:c.id.includes("confession")?{opacity:0,scale:1.2,filter:"brightness(2)"}:{opacity:0,y:50,scale:.95},animate:c.id.includes("confession")?{opacity:1,scale:1,filter:"brightness(1)",transition:{type:"spring",bounce:.4,duration:.6}}:{opacity:1,y:0,scale:1,transition:{duration:.3}},exit:{opacity:0,y:50,scale:.95},className:"fixed inset-0 z-50 flex items-center justify-center p-4 md:p-12 bg-black/80 backdrop-blur-md",onClick:()=>e(""),children:S.jsxs("div",{className:"w-full max-w-4xl max-h-full bg-[#0c0505] border border-[#d89853]/30 rounded-lg shadow-[0_0_50px_rgba(0,0,0,0.8)] overflow-hidden relative flex flex-col",onClick:L=>L.stopPropagation(),children:[S.jsx("button",{onClick:()=>e(""),className:"absolute top-4 right-4 z-50 p-2 text-[#c85a3f]/60 hover:text-[#c85a3f] hover:bg-[#c85a3f]/10 rounded-full transition-all",children:S.jsx(Pn,{size:24})}),S.jsx("div",{className:"overflow-y-auto custom-scrollbar",children:S.jsx(fR,{node:c,onShatter:p,onCollectClue:T})})]})},c.id)})]}),!J&&S.jsx(fe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"absolute bottom-8 left-0 w-full flex justify-center z-20 pointer-events-none",children:S.jsxs("div",{className:"flex items-center gap-8 md:gap-16 text-[10px] text-[#d89853]/50 tracking-widest uppercase font-semibold pointer-events-auto bg-black/20 backdrop-blur-sm px-8 py-2 rounded-full border border-[#d89853]/10",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"w-1.5 h-1.5 bg-[#c85a3f] rounded-full animate-pulse shadow-[0_0_5px_#c85a3f]"}),""]}),S.jsx("div",{children:": 84%"}),S.jsx("div",{children:": "})]})}),S.jsx(pR,{isOpen:q,onClose:()=>z(!1),collectedClueIds:R,collectedAttachments:w,onCollectAttachment:A}),S.jsx(hR,{isOpen:Q,onClose:()=>Z(!1),unlockedArchiveIds:x,onUnlockArchive:_,collectedClues:g,onCollectClue:T,collectedYears:h,onConsumeKeywords:b,collectedAttachments:w,onCollectAttachment:A})]})},gR=[{id:"capone",keyword:"capone",title:"",currentLayer:Ne.SURFACE,position:{x:window.innerWidth*.4,y:window.innerHeight*.45},layers:{[Ne.SURFACE]:{event:"FBI",attitude:"",visual:"https://picsum.photos/seed/robert/800/450"},[Ne.DEEP]:{event:"",attitude:"",visual:"https://picsum.photos/seed/badge/800/450"},[Ne.CORE]:{event:"''",attitude:""}},connectedTo:["luciano","gbos"]},{id:"luciano",keyword:"luciano",title:"",currentLayer:Ne.SURFACE,position:{x:window.innerWidth*.6,y:window.innerHeight*.3},layers:{[Ne.SURFACE]:{event:"",attitude:"",visual:"https://picsum.photos/seed/luciano/800/450"},[Ne.DEEP]:{event:"''needle",attitude:" he "}},connectedTo:["gbos"]},{id:"gbos",keyword:"gbos",title:"G.B.O.S.",currentLayer:Ne.SURFACE,position:{x:window.innerWidth*.5,y:window.innerHeight*.7},layers:{[Ne.SURFACE]:{event:"''",attitude:"",visual:"https://picsum.photos/seed/soup_v/800/450"},[Ne.DEEP]:{event:"''",attitude:""}},connectedTo:["capone"]},{id:"confession_1",keyword:"confession",title:" No.1",currentLayer:Ne.SURFACE,position:{x:window.innerWidth*.7,y:window.innerHeight*.6},layers:{[Ne.SURFACE]:{event:`''

Deep Cover

1971`,attitude:"",visual:"/assets/incident-report.jpg"},[Ne.DEEP]:{event:`''

''

''''`,attitude:"",visual:"https://picsum.photos/seed/prison/800/450"},[Ne.CORE]:{event:`''

''''

1971`,attitude:"",visual:"https://picsum.photos/seed/smile/800/450"}},connectedTo:["capone","luciano"]},{id:"confession_2",keyword:"confession",title:" No.2",currentLayer:Ne.SURFACE,position:{x:window.innerWidth*.8,y:window.innerHeight*.5},layers:{[Ne.SURFACE]:{event:`''



`,attitude:"",visual:"/assets/case-files.jpg"},[Ne.DEEP]:{event:`

''`,attitude:"",visual:"/assets/road-trip.jpg"},[Ne.CORE]:{event:`1968

`,attitude:"",visual:"/assets/car-graveyard.jpg"}},connectedTo:["confession_1","capone"]}];var yR={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let vR,TR;function xR(){return{geminiUrl:vR,vertexUrl:TR}}function SR(t,e,i,s){var a,u;if(!(t!=null&&t.baseUrl)){const c=xR();return e?(a=c.vertexUrl)!==null&&a!==void 0?a:i:(u=c.geminiUrl)!==null&&u!==void 0?u:s}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gn{}function te(t,e){const i=/\{([^}]+)\}/g;return t.replace(i,(s,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const u=e[a];return u!=null?String(u):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function d(t,e,i){for(let u=0;u<e.length-1;u++){const c=e[u];if(c.endsWith("[]")){const p=c.slice(0,-2);if(!(p in t))if(Array.isArray(i))t[p]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(t[p])){const g=t[p];if(Array.isArray(i))for(let h=0;h<g.length;h++){const v=g[h];d(v,e.slice(u+1),i[h])}else for(const h of g)d(h,e.slice(u+1),i)}return}else if(c.endsWith("[0]")){const p=c.slice(0,-3);p in t||(t[p]=[{}]);const g=t[p];d(g[0],e.slice(u+1),i);return}(!t[c]||typeof t[c]!="object")&&(t[c]={}),t=t[c]}const s=e[e.length-1],a=t[s];if(a!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===a)return;if(typeof a=="object"&&typeof i=="object"&&a!==null&&i!==null)Object.assign(a,i);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(t,i):t[s]=i}function f(t,e,i=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let s=0;s<e.length;s++){if(typeof t!="object"||t===null)return i;const a=e[s];if(a.endsWith("[]")){const u=a.slice(0,-2);if(u in t){const c=t[u];return Array.isArray(c)?c.map(p=>f(p,e.slice(s+1),i)):i}else return i}else t=t[a]}return t}catch(s){if(s instanceof TypeError)return i;throw s}}function ER(t,e){for(const[i,s]of Object.entries(e)){const a=i.split("."),u=s.split("."),c=new Set;let p=-1;for(let g=0;g<a.length;g++)if(a[g]==="*"){p=g;break}if(p!==-1&&u.length>p)for(let g=p;g<u.length;g++){const h=u[g];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&c.add(h)}Ef(t,a,u,0,c)}}function Ef(t,e,i,s,a){if(s>=e.length||typeof t!="object"||t===null)return;const u=e[s];if(u.endsWith("[]")){const c=u.slice(0,-2),p=t;if(c in p&&Array.isArray(p[c]))for(const g of p[c])Ef(g,e,i,s+1,a)}else if(u==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const c=t,p=Object.keys(c).filter(h=>!h.startsWith("_")&&!a.has(h)),g={};for(const h of p)g[h]=c[h];for(const[h,v]of Object.entries(g)){const T=[];for(const x of i.slice(s))x==="*"?T.push(h):T.push(x);d(c,T,v)}for(const h of p)delete c[h]}}else{const c=t;u in c&&Ef(c[u],e,i,s+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yd(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _R(t){const e={},i=f(t,["operationName"]);i!=null&&d(e,["operationName"],i);const s=f(t,["resourceName"]);return s!=null&&d(e,["_url","resourceName"],s),e}function CR(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const s=f(t,["metadata"]);s!=null&&d(e,["metadata"],s);const a=f(t,["done"]);a!=null&&d(e,["done"],a);const u=f(t,["error"]);u!=null&&d(e,["error"],u);const c=f(t,["response","generateVideoResponse"]);return c!=null&&d(e,["response"],bR(c)),e}function AR(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const s=f(t,["metadata"]);s!=null&&d(e,["metadata"],s);const a=f(t,["done"]);a!=null&&d(e,["done"],a);const u=f(t,["error"]);u!=null&&d(e,["error"],u);const c=f(t,["response"]);return c!=null&&d(e,["response"],NR(c)),e}function bR(t){const e={},i=f(t,["generatedSamples"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>RR(c))),d(e,["generatedVideos"],u)}const s=f(t,["raiMediaFilteredCount"]);s!=null&&d(e,["raiMediaFilteredCount"],s);const a=f(t,["raiMediaFilteredReasons"]);return a!=null&&d(e,["raiMediaFilteredReasons"],a),e}function NR(t){const e={},i=f(t,["videos"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>wR(c))),d(e,["generatedVideos"],u)}const s=f(t,["raiMediaFilteredCount"]);s!=null&&d(e,["raiMediaFilteredCount"],s);const a=f(t,["raiMediaFilteredReasons"]);return a!=null&&d(e,["raiMediaFilteredReasons"],a),e}function RR(t){const e={},i=f(t,["video"]);return i!=null&&d(e,["video"],PR(i)),e}function wR(t){const e={},i=f(t,["_self"]);return i!=null&&d(e,["video"],VR(i)),e}function MR(t){const e={},i=f(t,["operationName"]);return i!=null&&d(e,["_url","operationName"],i),e}function DR(t){const e={},i=f(t,["operationName"]);return i!=null&&d(e,["_url","operationName"],i),e}function IR(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const s=f(t,["metadata"]);s!=null&&d(e,["metadata"],s);const a=f(t,["done"]);a!=null&&d(e,["done"],a);const u=f(t,["error"]);u!=null&&d(e,["error"],u);const c=f(t,["response"]);return c!=null&&d(e,["response"],UR(c)),e}function UR(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["parent"]);s!=null&&d(e,["parent"],s);const a=f(t,["documentName"]);return a!=null&&d(e,["documentName"],a),e}function vx(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const s=f(t,["metadata"]);s!=null&&d(e,["metadata"],s);const a=f(t,["done"]);a!=null&&d(e,["done"],a);const u=f(t,["error"]);u!=null&&d(e,["error"],u);const c=f(t,["response"]);return c!=null&&d(e,["response"],LR(c)),e}function LR(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["parent"]);s!=null&&d(e,["parent"],s);const a=f(t,["documentName"]);return a!=null&&d(e,["documentName"],a),e}function PR(t){const e={},i=f(t,["uri"]);i!=null&&d(e,["uri"],i);const s=f(t,["encodedVideo"]);s!=null&&d(e,["videoBytes"],yd(s));const a=f(t,["encoding"]);return a!=null&&d(e,["mimeType"],a),e}function VR(t){const e={},i=f(t,["gcsUri"]);i!=null&&d(e,["uri"],i);const s=f(t,["bytesBase64Encoded"]);s!=null&&d(e,["videoBytes"],yd(s));const a=f(t,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var oy;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(oy||(oy={}));var sy;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(sy||(sy={}));var ly;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(ly||(ly={}));var Gt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Gt||(Gt={}));var ay;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(ay||(ay={}));var ry;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(ry||(ry={}));var uy;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(uy||(uy={}));var cy;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(cy||(cy={}));var fy;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(fy||(fy={}));var dy;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(dy||(dy={}));var py;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(py||(py={}));var hy;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(hy||(hy={}));var my;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(my||(my={}));var gy;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(gy||(gy={}));var yy;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(yy||(yy={}));var vy;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(vy||(vy={}));var Ty;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Ty||(Ty={}));var xy;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(xy||(xy={}));var Sy;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Sy||(Sy={}));var Wa;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Wa||(Wa={}));var Ey;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Ey||(Ey={}));var _y;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(_y||(_y={}));var Cy;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Cy||(Cy={}));var _f;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(_f||(_f={}));var Ay;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Ay||(Ay={}));var by;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(by||(by={}));var Ny;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Ny||(Ny={}));var Ry;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Ry||(Ry={}));var wy;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(wy||(wy={}));var My;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(My||(My={}));var Dy;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Dy||(Dy={}));var Iy;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Iy||(Iy={}));var Uy;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Uy||(Uy={}));var Ly;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Ly||(Ly={}));var Py;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Py||(Py={}));var Vy;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Vy||(Vy={}));var ky;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(ky||(ky={}));var Gy;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Gy||(Gy={}));var By;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(By||(By={}));var Hy;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Hy||(Hy={}));var zy;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(zy||(zy={}));var Oy;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Oy||(Oy={}));var qy;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(qy||(qy={}));var Fy;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Fy||(Fy={}));var Yy;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Yy||(Yy={}));var Jy;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Jy||(Jy={}));var Ky;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Ky||(Ky={}));var Xy;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Xy||(Xy={}));var Qy;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Qy||(Qy={}));var $y;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})($y||($y={}));var Zy;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Zy||(Zy={}));var jy;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(jy||(jy={}));var Wy;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Wy||(Wy={}));var ev;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(ev||(ev={}));var tv;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(tv||(tv={}));var Lo;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Lo||(Lo={}));class Cf{constructor(e){const i={};for(const s of e.headers.entries())i[s[0]]=s[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class Os{get text(){var e,i,s,a,u,c,p,g;if(((a=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const T=[];for(const x of(g=(p=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||p===void 0?void 0:p.parts)!==null&&g!==void 0?g:[]){for(const[_,b]of Object.entries(x))_!=="text"&&_!=="thought"&&_!=="thoughtSignature"&&(b!==null||b!==void 0)&&T.push(_);if(typeof x.text=="string"){if(typeof x.thought=="boolean"&&x.thought)continue;v=!0,h+=x.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var e,i,s,a,u,c,p,g;if(((a=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const T of(g=(p=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||p===void 0?void 0:p.parts)!==null&&g!==void 0?g:[]){for(const[x,_]of Object.entries(T))x!=="inlineData"&&(_!==null||_!==void 0)&&v.push(x);T.inlineData&&typeof T.inlineData.data=="string"&&(h+=atob(T.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,i,s,a,u,c,p,g;if(((a=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(g=(p=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||p===void 0?void 0:p.parts)===null||g===void 0?void 0:g.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var e,i,s,a,u,c,p,g,h;if(((a=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(g=(p=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||p===void 0?void 0:p.parts)===null||g===void 0?void 0:g.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,i,s,a,u,c,p,g,h;if(((a=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(g=(p=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||p===void 0?void 0:p.parts)===null||g===void 0?void 0:g.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.output}}class nv{}class iv{}class kR{}class GR{}class BR{}class HR{}class ov{}class sv{}class lv{}class zR{}class er{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const s=new er;let a;const u=e;return i?a=AR(u):a=CR(u),Object.assign(s,a),s}}class av{}class rv{}class uv{}class cv{}class OR{}class qR{}class FR{}class vd{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const s=new vd,u=IR(e);return Object.assign(s,u),s}}class YR{}class JR{}class KR{}class fv{}class XR{get text(){var e,i,s;let a="",u=!1;const c=[];for(const p of(s=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&s!==void 0?s:[]){for(const[g,h]of Object.entries(p))g!=="text"&&g!=="thought"&&h!==null&&c.push(g);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;u=!0,a+=p.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?a:void 0}get data(){var e,i,s;let a="";const u=[];for(const c of(s=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&s!==void 0?s:[]){for(const[p,g]of Object.entries(c))p!=="inlineData"&&g!==null&&u.push(p);c.inlineData&&typeof c.inlineData.data=="string"&&(a+=atob(c.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class QR{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Td{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const s=new Td,u=vx(e);return Object.assign(s,u),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Me(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Tx(t,e){const i=Me(t,e);return i?i.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}`:i.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${i}`:i:""}function xx(t){return Array.isArray(t)?t.map(e=>tr(e)):[tr(t)]}function tr(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Sx(t){const e=tr(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Ex(t){const e=tr(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function dv(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function _x(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>dv(e)):[dv(t)]}function Af(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function pv(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function hv(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function yt(t){if(t==null)throw new Error("ContentUnion is required");return Af(t)?t:{role:"user",parts:_x(t)}}function xd(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const s=yt(i);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(t.isVertexAI()){const i=yt(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>yt(i)):[yt(e)]}function Wt(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(pv(t)||hv(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[yt(t)]}const e=[],i=[],s=Af(t[0]);for(const a of t){const u=Af(a);if(u!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)e.push(a);else{if(pv(a)||hv(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(a)}}return s||e.push({role:"user",parts:_x(i)}),e}function $R(t,e){t.includes("null")&&(e.nullable=!0);const i=t.filter(s=>s!=="null");if(i.length===1)e.type=Object.values(Gt).includes(i[0].toUpperCase())?i[0].toUpperCase():Gt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const s of i)e.anyOf.push({type:Object.values(Gt).includes(s.toUpperCase())?s.toUpperCase():Gt.TYPE_UNSPECIFIED})}}function Vo(t){const e={},i=["items"],s=["anyOf"],a=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=t.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(e.nullable=!0,t=u[1]):u[1].type==="null"&&(e.nullable=!0,t=u[0])),t.type instanceof Array&&$R(t.type,e);for(const[c,p]of Object.entries(t))if(p!=null)if(c=="type"){if(p==="null")throw new Error("type: null can not be the only possible type for the field.");if(p instanceof Array)continue;e.type=Object.values(Gt).includes(p.toUpperCase())?p.toUpperCase():Gt.TYPE_UNSPECIFIED}else if(i.includes(c))e[c]=Vo(p);else if(s.includes(c)){const g=[];for(const h of p){if(h.type=="null"){e.nullable=!0;continue}g.push(Vo(h))}e[c]=g}else if(a.includes(c)){const g={};for(const[h,v]of Object.entries(p))g[h]=Vo(v);e[c]=g}else{if(c==="additionalProperties")continue;e[c]=p}return e}function Sd(t){return Vo(t)}function Ed(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function _d(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function qo(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Vo(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Vo(e.response));return t}function Fo(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of t)e.push(i);return e}function ZR(t,e,i,s=1){const a=!e.startsWith(`${i}/`)&&e.split("/").length===s;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:a?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}/${e}`:e:a?`${i}/${e}`:e}function Bn(t,e){if(typeof e!="string")throw new Error("name must be a string");return ZR(t,e,"cachedContents")}function Cx(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function mi(t){return yd(t)}function jR(t){return t!=null&&typeof t=="object"&&"name"in t}function WR(t){return t!=null&&typeof t=="object"&&"video"in t}function ew(t){return t!=null&&typeof t=="object"&&"uri"in t}function Ax(t){var e;let i;if(jR(t)&&(i=t.name),!(ew(t)&&(i=t.uri,i===void 0))&&!(WR(t)&&(i=(e=t.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof t=="string"&&(i=t),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const a=i.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${i}`);i=a[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function bx(t,e){let i;return t.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function Nx(t){for(const e of["models","tunedModels","publisherModels"])if(tw(t,e))return t[e];return[]}function tw(t,e){return t!==null&&typeof t=="object"&&e in t}function nw(t,e={}){const i=t,s={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(s.responseJsonSchema=i.outputSchema),e.behavior&&(s.behavior=e.behavior),{functionDeclarations:[s]}}function iw(t,e={}){const i=[],s=new Set;for(const a of t){const u=a.name;if(s.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);s.add(u);const c=nw(a,e);c.functionDeclarations&&i.push(...c.functionDeclarations)}return{functionDeclarations:i}}function Rx(t,e){let i;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))i={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))i={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))i={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:e}}else i=e;const s=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,a=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(t.isVertexAI()){if(a>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function ow(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function wx(t){if(typeof t!="object"||t===null)return{};const e=t,i=e.inlinedResponses;if(typeof i!="object"||i===null)return t;const a=i.inlinedResponses;if(!Array.isArray(a)||a.length===0)return t;let u=!1;for(const c of a){if(typeof c!="object"||c===null)continue;const g=c.response;if(typeof g!="object"||g===null)continue;if(g.embedding!==void 0){u=!0;break}}return u&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Yo(t,e){const i=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function Mx(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sw(t){const e={},i=f(t,["responsesFile"]);i!=null&&d(e,["fileName"],i);const s=f(t,["inlinedResponses","inlinedResponses"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>Bw(c))),d(e,["inlinedResponses"],u)}const a=f(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>c)),d(e,["inlinedEmbedContentResponses"],u)}return e}function lw(t){const e={},i=f(t,["predictionsFormat"]);i!=null&&d(e,["format"],i);const s=f(t,["gcsDestination","outputUriPrefix"]);s!=null&&d(e,["gcsUri"],s);const a=f(t,["bigqueryDestination","outputUri"]);return a!=null&&d(e,["bigqueryUri"],a),e}function aw(t){const e={},i=f(t,["format"]);i!=null&&d(e,["predictionsFormat"],i);const s=f(t,["gcsUri"]);s!=null&&d(e,["gcsDestination","outputUriPrefix"],s);const a=f(t,["bigqueryUri"]);if(a!=null&&d(e,["bigqueryDestination","outputUri"],a),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(f(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Oa(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const s=f(t,["metadata","displayName"]);s!=null&&d(e,["displayName"],s);const a=f(t,["metadata","state"]);a!=null&&d(e,["state"],Mx(a));const u=f(t,["metadata","createTime"]);u!=null&&d(e,["createTime"],u);const c=f(t,["metadata","endTime"]);c!=null&&d(e,["endTime"],c);const p=f(t,["metadata","updateTime"]);p!=null&&d(e,["updateTime"],p);const g=f(t,["metadata","model"]);g!=null&&d(e,["model"],g);const h=f(t,["metadata","output"]);return h!=null&&d(e,["dest"],sw(wx(h))),e}function bf(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const s=f(t,["displayName"]);s!=null&&d(e,["displayName"],s);const a=f(t,["state"]);a!=null&&d(e,["state"],Mx(a));const u=f(t,["error"]);u!=null&&d(e,["error"],u);const c=f(t,["createTime"]);c!=null&&d(e,["createTime"],c);const p=f(t,["startTime"]);p!=null&&d(e,["startTime"],p);const g=f(t,["endTime"]);g!=null&&d(e,["endTime"],g);const h=f(t,["updateTime"]);h!=null&&d(e,["updateTime"],h);const v=f(t,["model"]);v!=null&&d(e,["model"],v);const T=f(t,["inputConfig"]);T!=null&&d(e,["src"],rw(T));const x=f(t,["outputConfig"]);x!=null&&d(e,["dest"],lw(wx(x)));const _=f(t,["completionStats"]);return _!=null&&d(e,["completionStats"],_),e}function rw(t){const e={},i=f(t,["instancesFormat"]);i!=null&&d(e,["format"],i);const s=f(t,["gcsSource","uris"]);s!=null&&d(e,["gcsUri"],s);const a=f(t,["bigquerySource","inputUri"]);return a!=null&&d(e,["bigqueryUri"],a),e}function uw(t,e){const i={};if(f(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=f(e,["fileName"]);s!=null&&d(i,["fileName"],s);const a=f(e,["inlinedRequests"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>Gw(t,c))),d(i,["requests","requests"],u)}return i}function cw(t){const e={},i=f(t,["format"]);i!=null&&d(e,["instancesFormat"],i);const s=f(t,["gcsUri"]);s!=null&&d(e,["gcsSource","uris"],s);const a=f(t,["bigqueryUri"]);if(a!=null&&d(e,["bigquerySource","inputUri"],a),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function fw(t){const e={},i=f(t,["data"]);if(i!=null&&d(e,["data"],i),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function dw(t,e){const i={},s=f(e,["name"]);return s!=null&&d(i,["_url","name"],Yo(t,s)),i}function pw(t,e){const i={},s=f(e,["name"]);return s!=null&&d(i,["_url","name"],Yo(t,s)),i}function hw(t){const e={},i=f(t,["content"]);i!=null&&d(e,["content"],i);const s=f(t,["citationMetadata"]);s!=null&&d(e,["citationMetadata"],mw(s));const a=f(t,["tokenCount"]);a!=null&&d(e,["tokenCount"],a);const u=f(t,["finishReason"]);u!=null&&d(e,["finishReason"],u);const c=f(t,["avgLogprobs"]);c!=null&&d(e,["avgLogprobs"],c);const p=f(t,["groundingMetadata"]);p!=null&&d(e,["groundingMetadata"],p);const g=f(t,["index"]);g!=null&&d(e,["index"],g);const h=f(t,["logprobsResult"]);h!=null&&d(e,["logprobsResult"],h);const v=f(t,["safetyRatings"]);if(v!=null){let x=v;Array.isArray(x)&&(x=x.map(_=>_)),d(e,["safetyRatings"],x)}const T=f(t,["urlContextMetadata"]);return T!=null&&d(e,["urlContextMetadata"],T),e}function mw(t){const e={},i=f(t,["citationSources"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),d(e,["citations"],s)}return e}function Dx(t){const e={},i=f(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>Jw(u))),d(e,["parts"],a)}const s=f(t,["role"]);return s!=null&&d(e,["role"],s),e}function gw(t,e){const i={},s=f(t,["displayName"]);if(e!==void 0&&s!=null&&d(e,["batch","displayName"],s),f(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function yw(t,e){const i={},s=f(t,["displayName"]);e!==void 0&&s!=null&&d(e,["displayName"],s);const a=f(t,["dest"]);return e!==void 0&&a!=null&&d(e,["outputConfig"],aw(ow(a))),i}function mv(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Me(t,s));const a=f(e,["src"]);a!=null&&d(i,["batch","inputConfig"],uw(t,Rx(t,a)));const u=f(e,["config"]);return u!=null&&gw(u,i),i}function vw(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["model"],Me(t,s));const a=f(e,["src"]);a!=null&&d(i,["inputConfig"],cw(Rx(t,a)));const u=f(e,["config"]);return u!=null&&yw(u,i),i}function Tw(t,e){const i={},s=f(t,["displayName"]);return e!==void 0&&s!=null&&d(e,["batch","displayName"],s),i}function xw(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Me(t,s));const a=f(e,["src"]);a!=null&&d(i,["batch","inputConfig"],Nw(t,a));const u=f(e,["config"]);return u!=null&&Tw(u,i),i}function Sw(t,e){const i={},s=f(e,["name"]);return s!=null&&d(i,["_url","name"],Yo(t,s)),i}function Ew(t,e){const i={},s=f(e,["name"]);return s!=null&&d(i,["_url","name"],Yo(t,s)),i}function _w(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["name"]);s!=null&&d(e,["name"],s);const a=f(t,["done"]);a!=null&&d(e,["done"],a);const u=f(t,["error"]);return u!=null&&d(e,["error"],u),e}function Cw(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["name"]);s!=null&&d(e,["name"],s);const a=f(t,["done"]);a!=null&&d(e,["done"],a);const u=f(t,["error"]);return u!=null&&d(e,["error"],u),e}function Aw(t,e){const i={},s=f(e,["contents"]);if(s!=null){let u=xd(t,s);Array.isArray(u)&&(u=u.map(c=>c)),d(i,["requests[]","request","content"],u)}const a=f(e,["config"]);return a!=null&&(d(i,["_self"],bw(a,i)),ER(i,{"requests[].*":"requests[].request.*"})),i}function bw(t,e){const i={},s=f(t,["taskType"]);e!==void 0&&s!=null&&d(e,["requests[]","taskType"],s);const a=f(t,["title"]);e!==void 0&&a!=null&&d(e,["requests[]","title"],a);const u=f(t,["outputDimensionality"]);if(e!==void 0&&u!=null&&d(e,["requests[]","outputDimensionality"],u),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function Nw(t,e){const i={},s=f(e,["fileName"]);s!=null&&d(i,["file_name"],s);const a=f(e,["inlinedRequests"]);return a!=null&&d(i,["requests"],Aw(t,a)),i}function Rw(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function ww(t){const e={},i=f(t,["id"]);i!=null&&d(e,["id"],i);const s=f(t,["args"]);s!=null&&d(e,["args"],s);const a=f(t,["name"]);if(a!=null&&d(e,["name"],a),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Mw(t){const e={},i=f(t,["mode"]);i!=null&&d(e,["mode"],i);const s=f(t,["allowedFunctionNames"]);if(s!=null&&d(e,["allowedFunctionNames"],s),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Dw(t,e,i){const s={},a=f(e,["systemInstruction"]);i!==void 0&&a!=null&&d(i,["systemInstruction"],Dx(yt(a)));const u=f(e,["temperature"]);u!=null&&d(s,["temperature"],u);const c=f(e,["topP"]);c!=null&&d(s,["topP"],c);const p=f(e,["topK"]);p!=null&&d(s,["topK"],p);const g=f(e,["candidateCount"]);g!=null&&d(s,["candidateCount"],g);const h=f(e,["maxOutputTokens"]);h!=null&&d(s,["maxOutputTokens"],h);const v=f(e,["stopSequences"]);v!=null&&d(s,["stopSequences"],v);const T=f(e,["responseLogprobs"]);T!=null&&d(s,["responseLogprobs"],T);const x=f(e,["logprobs"]);x!=null&&d(s,["logprobs"],x);const _=f(e,["presencePenalty"]);_!=null&&d(s,["presencePenalty"],_);const b=f(e,["frequencyPenalty"]);b!=null&&d(s,["frequencyPenalty"],b);const w=f(e,["seed"]);w!=null&&d(s,["seed"],w);const A=f(e,["responseMimeType"]);A!=null&&d(s,["responseMimeType"],A);const R=f(e,["responseSchema"]);R!=null&&d(s,["responseSchema"],Sd(R));const P=f(e,["responseJsonSchema"]);if(P!=null&&d(s,["responseJsonSchema"],P),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const U=f(e,["safetySettings"]);if(i!==void 0&&U!=null){let re=U;Array.isArray(re)&&(re=re.map(ye=>Kw(ye))),d(i,["safetySettings"],re)}const J=f(e,["tools"]);if(i!==void 0&&J!=null){let re=Fo(J);Array.isArray(re)&&(re=re.map(ye=>Qw(qo(ye)))),d(i,["tools"],re)}const H=f(e,["toolConfig"]);if(i!==void 0&&H!=null&&d(i,["toolConfig"],Xw(H)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const q=f(e,["cachedContent"]);i!==void 0&&q!=null&&d(i,["cachedContent"],Bn(t,q));const z=f(e,["responseModalities"]);z!=null&&d(s,["responseModalities"],z);const Q=f(e,["mediaResolution"]);Q!=null&&d(s,["mediaResolution"],Q);const Z=f(e,["speechConfig"]);if(Z!=null&&d(s,["speechConfig"],Ed(Z)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ie=f(e,["thinkingConfig"]);ie!=null&&d(s,["thinkingConfig"],ie);const pe=f(e,["imageConfig"]);pe!=null&&d(s,["imageConfig"],kw(pe));const ee=f(e,["enableEnhancedCivicAnswers"]);return ee!=null&&d(s,["enableEnhancedCivicAnswers"],ee),s}function Iw(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["candidates"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(h=>hw(h))),d(e,["candidates"],g)}const a=f(t,["modelVersion"]);a!=null&&d(e,["modelVersion"],a);const u=f(t,["promptFeedback"]);u!=null&&d(e,["promptFeedback"],u);const c=f(t,["responseId"]);c!=null&&d(e,["responseId"],c);const p=f(t,["usageMetadata"]);return p!=null&&d(e,["usageMetadata"],p),e}function Uw(t,e){const i={},s=f(e,["name"]);return s!=null&&d(i,["_url","name"],Yo(t,s)),i}function Lw(t,e){const i={},s=f(e,["name"]);return s!=null&&d(i,["_url","name"],Yo(t,s)),i}function Pw(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=f(t,["enableWidget"]);return i!=null&&d(e,["enableWidget"],i),e}function Vw(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=f(t,["timeRangeFilter"]);return i!=null&&d(e,["timeRangeFilter"],i),e}function kw(t){const e={},i=f(t,["aspectRatio"]);i!=null&&d(e,["aspectRatio"],i);const s=f(t,["imageSize"]);if(s!=null&&d(e,["imageSize"],s),f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Gw(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["request","model"],Me(t,s));const a=f(e,["contents"]);if(a!=null){let p=Wt(a);Array.isArray(p)&&(p=p.map(g=>Dx(g))),d(i,["request","contents"],p)}const u=f(e,["metadata"]);u!=null&&d(i,["metadata"],u);const c=f(e,["config"]);return c!=null&&d(i,["request","generationConfig"],Dw(t,c,f(i,["request"],{}))),i}function Bw(t){const e={},i=f(t,["response"]);i!=null&&d(e,["response"],Iw(i));const s=f(t,["error"]);return s!=null&&d(e,["error"],s),e}function Hw(t,e){const i={},s=f(t,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const a=f(t,["pageToken"]);if(e!==void 0&&a!=null&&d(e,["_query","pageToken"],a),f(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function zw(t,e){const i={},s=f(t,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const a=f(t,["pageToken"]);e!==void 0&&a!=null&&d(e,["_query","pageToken"],a);const u=f(t,["filter"]);return e!==void 0&&u!=null&&d(e,["_query","filter"],u),i}function Ow(t){const e={},i=f(t,["config"]);return i!=null&&Hw(i,e),e}function qw(t){const e={},i=f(t,["config"]);return i!=null&&zw(i,e),e}function Fw(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const a=f(t,["operations"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>Oa(c))),d(e,["batchJobs"],u)}return e}function Yw(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const a=f(t,["batchPredictionJobs"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>bf(c))),d(e,["batchJobs"],u)}return e}function Jw(t){const e={},i=f(t,["mediaResolution"]);i!=null&&d(e,["mediaResolution"],i);const s=f(t,["codeExecutionResult"]);s!=null&&d(e,["codeExecutionResult"],s);const a=f(t,["executableCode"]);a!=null&&d(e,["executableCode"],a);const u=f(t,["fileData"]);u!=null&&d(e,["fileData"],Rw(u));const c=f(t,["functionCall"]);c!=null&&d(e,["functionCall"],ww(c));const p=f(t,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const g=f(t,["inlineData"]);g!=null&&d(e,["inlineData"],fw(g));const h=f(t,["text"]);h!=null&&d(e,["text"],h);const v=f(t,["thought"]);v!=null&&d(e,["thought"],v);const T=f(t,["thoughtSignature"]);T!=null&&d(e,["thoughtSignature"],T);const x=f(t,["videoMetadata"]);return x!=null&&d(e,["videoMetadata"],x),e}function Kw(t){const e={},i=f(t,["category"]);if(i!=null&&d(e,["category"],i),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=f(t,["threshold"]);return s!=null&&d(e,["threshold"],s),e}function Xw(t){const e={},i=f(t,["functionCallingConfig"]);i!=null&&d(e,["functionCallingConfig"],Mw(i));const s=f(t,["retrievalConfig"]);return s!=null&&d(e,["retrievalConfig"],s),e}function Qw(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(T=>T)),d(e,["functionDeclarations"],v)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=f(t,["googleSearchRetrieval"]);s!=null&&d(e,["googleSearchRetrieval"],s);const a=f(t,["computerUse"]);a!=null&&d(e,["computerUse"],a);const u=f(t,["fileSearch"]);u!=null&&d(e,["fileSearch"],u);const c=f(t,["codeExecution"]);if(c!=null&&d(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=f(t,["googleMaps"]);p!=null&&d(e,["googleMaps"],Pw(p));const g=f(t,["googleSearch"]);g!=null&&d(e,["googleSearch"],Vw(g));const h=f(t,["urlContext"]);return h!=null&&d(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var kn;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(kn||(kn={}));class Oi{constructor(e,i,s,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,s,a)}init(e,i,s){var a,u;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!s||Object.keys(s).length===0?c={config:{}}:typeof s=="object"?c=Object.assign({},s):c=s,c.config&&(c.config.pageToken=i.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(u=(a=c.config)===null||a===void 0?void 0:a.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $w extends Gn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Oi(kn.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(i),i),this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)}}createInlinedGenerateContentRequest(e){const i=mv(this.apiClient,e),s=i._url,a=te("{model}:batchGenerateContent",s),p=i.batch.inputConfig.requests,g=p.requests,h=[];for(const v of g){const T=Object.assign({},v);if(T.systemInstruction){const x=T.systemInstruction;delete T.systemInstruction;const _=T.request;_.systemInstruction=x,T.request=_}h.push(T)}return p.requests=h,delete i.config,delete i._url,delete i._query,{path:a,body:i}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,i){const s=i?Object.assign({},i):{},a=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${a}`),s.dest===void 0){const u=this.getGcsUri(e),c=this.getBigqueryUri(e);if(u)u.endsWith(".jsonl")?s.dest=`${u.slice(0,-6)}/dest`:s.dest=`${u}_dest_${a}`;else if(c)s.dest=`${c}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(e){var i,s,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=vw(this.apiClient,e);return p=te("batchPredictionJobs",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>bf(v))}else{const h=mv(this.apiClient,e);return p=te("{model}:batchGenerateContent",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>Oa(v))}}async createEmbeddingsInternal(e){var i,s;let a,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=xw(this.apiClient,e);return u=te("{model}:asyncBatchEmbedContent",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),a.then(g=>Oa(g))}}async get(e){var i,s,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=Lw(this.apiClient,e);return p=te("batchPredictionJobs/{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>bf(v))}else{const h=Uw(this.apiClient,e);return p=te("batches/{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>Oa(v))}}async cancel(e){var i,s,a,u;let c="",p={};if(this.apiClient.isVertexAI()){const g=pw(this.apiClient,e);c=te("batchPredictionJobs/{name}:cancel",g._url),p=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}else{const g=dw(this.apiClient,e);c=te("batches/{name}:cancel",g._url),p=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal})}}async listInternal(e){var i,s,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=qw(e);return p=te("batchPredictionJobs",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const T=Yw(v),x=new fv;return Object.assign(x,T),x})}else{const h=Ow(e);return p=te("batches",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const T=Fw(v),x=new fv;return Object.assign(x,T),x})}}async delete(e){var i,s,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=Ew(this.apiClient,e);return p=te("batchPredictionJobs/{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>Cw(v))}else{const h=Sw(this.apiClient,e);return p=te("batches/{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>_w(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zw(t){const e={},i=f(t,["data"]);if(i!=null&&d(e,["data"],i),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function gv(t){const e={},i=f(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>xM(u))),d(e,["parts"],a)}const s=f(t,["role"]);return s!=null&&d(e,["role"],s),e}function jw(t,e){const i={},s=f(t,["ttl"]);e!==void 0&&s!=null&&d(e,["ttl"],s);const a=f(t,["expireTime"]);e!==void 0&&a!=null&&d(e,["expireTime"],a);const u=f(t,["displayName"]);e!==void 0&&u!=null&&d(e,["displayName"],u);const c=f(t,["contents"]);if(e!==void 0&&c!=null){let v=Wt(c);Array.isArray(v)&&(v=v.map(T=>gv(T))),d(e,["contents"],v)}const p=f(t,["systemInstruction"]);e!==void 0&&p!=null&&d(e,["systemInstruction"],gv(yt(p)));const g=f(t,["tools"]);if(e!==void 0&&g!=null){let v=g;Array.isArray(v)&&(v=v.map(T=>EM(T))),d(e,["tools"],v)}const h=f(t,["toolConfig"]);if(e!==void 0&&h!=null&&d(e,["toolConfig"],SM(h)),f(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function Ww(t,e){const i={},s=f(t,["ttl"]);e!==void 0&&s!=null&&d(e,["ttl"],s);const a=f(t,["expireTime"]);e!==void 0&&a!=null&&d(e,["expireTime"],a);const u=f(t,["displayName"]);e!==void 0&&u!=null&&d(e,["displayName"],u);const c=f(t,["contents"]);if(e!==void 0&&c!=null){let T=Wt(c);Array.isArray(T)&&(T=T.map(x=>x)),d(e,["contents"],T)}const p=f(t,["systemInstruction"]);e!==void 0&&p!=null&&d(e,["systemInstruction"],yt(p));const g=f(t,["tools"]);if(e!==void 0&&g!=null){let T=g;Array.isArray(T)&&(T=T.map(x=>_M(x))),d(e,["tools"],T)}const h=f(t,["toolConfig"]);e!==void 0&&h!=null&&d(e,["toolConfig"],h);const v=f(t,["kmsKeyName"]);return e!==void 0&&v!=null&&d(e,["encryption_spec","kmsKeyName"],v),i}function eM(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["model"],Tx(t,s));const a=f(e,["config"]);return a!=null&&jw(a,i),i}function tM(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["model"],Tx(t,s));const a=f(e,["config"]);return a!=null&&Ww(a,i),i}function nM(t,e){const i={},s=f(e,["name"]);return s!=null&&d(i,["_url","name"],Bn(t,s)),i}function iM(t,e){const i={},s=f(e,["name"]);return s!=null&&d(i,["_url","name"],Bn(t,s)),i}function oM(t){const e={},i=f(t,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function sM(t){const e={},i=f(t,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function lM(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function aM(t){const e={},i=f(t,["id"]);i!=null&&d(e,["id"],i);const s=f(t,["args"]);s!=null&&d(e,["args"],s);const a=f(t,["name"]);if(a!=null&&d(e,["name"],a),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function rM(t){const e={},i=f(t,["mode"]);i!=null&&d(e,["mode"],i);const s=f(t,["allowedFunctionNames"]);if(s!=null&&d(e,["allowedFunctionNames"],s),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function uM(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=f(t,["description"]);i!=null&&d(e,["description"],i);const s=f(t,["name"]);s!=null&&d(e,["name"],s);const a=f(t,["parameters"]);a!=null&&d(e,["parameters"],a);const u=f(t,["parametersJsonSchema"]);u!=null&&d(e,["parametersJsonSchema"],u);const c=f(t,["response"]);c!=null&&d(e,["response"],c);const p=f(t,["responseJsonSchema"]);return p!=null&&d(e,["responseJsonSchema"],p),e}function cM(t,e){const i={},s=f(e,["name"]);return s!=null&&d(i,["_url","name"],Bn(t,s)),i}function fM(t,e){const i={},s=f(e,["name"]);return s!=null&&d(i,["_url","name"],Bn(t,s)),i}function dM(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=f(t,["enableWidget"]);return i!=null&&d(e,["enableWidget"],i),e}function pM(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=f(t,["timeRangeFilter"]);return i!=null&&d(e,["timeRangeFilter"],i),e}function hM(t,e){const i={},s=f(t,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const a=f(t,["pageToken"]);return e!==void 0&&a!=null&&d(e,["_query","pageToken"],a),i}function mM(t,e){const i={},s=f(t,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const a=f(t,["pageToken"]);return e!==void 0&&a!=null&&d(e,["_query","pageToken"],a),i}function gM(t){const e={},i=f(t,["config"]);return i!=null&&hM(i,e),e}function yM(t){const e={},i=f(t,["config"]);return i!=null&&mM(i,e),e}function vM(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const a=f(t,["cachedContents"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>c)),d(e,["cachedContents"],u)}return e}function TM(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const a=f(t,["cachedContents"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>c)),d(e,["cachedContents"],u)}return e}function xM(t){const e={},i=f(t,["mediaResolution"]);i!=null&&d(e,["mediaResolution"],i);const s=f(t,["codeExecutionResult"]);s!=null&&d(e,["codeExecutionResult"],s);const a=f(t,["executableCode"]);a!=null&&d(e,["executableCode"],a);const u=f(t,["fileData"]);u!=null&&d(e,["fileData"],lM(u));const c=f(t,["functionCall"]);c!=null&&d(e,["functionCall"],aM(c));const p=f(t,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const g=f(t,["inlineData"]);g!=null&&d(e,["inlineData"],Zw(g));const h=f(t,["text"]);h!=null&&d(e,["text"],h);const v=f(t,["thought"]);v!=null&&d(e,["thought"],v);const T=f(t,["thoughtSignature"]);T!=null&&d(e,["thoughtSignature"],T);const x=f(t,["videoMetadata"]);return x!=null&&d(e,["videoMetadata"],x),e}function SM(t){const e={},i=f(t,["functionCallingConfig"]);i!=null&&d(e,["functionCallingConfig"],rM(i));const s=f(t,["retrievalConfig"]);return s!=null&&d(e,["retrievalConfig"],s),e}function EM(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(T=>T)),d(e,["functionDeclarations"],v)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=f(t,["googleSearchRetrieval"]);s!=null&&d(e,["googleSearchRetrieval"],s);const a=f(t,["computerUse"]);a!=null&&d(e,["computerUse"],a);const u=f(t,["fileSearch"]);u!=null&&d(e,["fileSearch"],u);const c=f(t,["codeExecution"]);if(c!=null&&d(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=f(t,["googleMaps"]);p!=null&&d(e,["googleMaps"],dM(p));const g=f(t,["googleSearch"]);g!=null&&d(e,["googleSearch"],pM(g));const h=f(t,["urlContext"]);return h!=null&&d(e,["urlContext"],h),e}function _M(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let T=i;Array.isArray(T)&&(T=T.map(x=>uM(x))),d(e,["functionDeclarations"],T)}const s=f(t,["retrieval"]);s!=null&&d(e,["retrieval"],s);const a=f(t,["googleSearchRetrieval"]);a!=null&&d(e,["googleSearchRetrieval"],a);const u=f(t,["computerUse"]);if(u!=null&&d(e,["computerUse"],u),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=f(t,["codeExecution"]);c!=null&&d(e,["codeExecution"],c);const p=f(t,["enterpriseWebSearch"]);p!=null&&d(e,["enterpriseWebSearch"],p);const g=f(t,["googleMaps"]);g!=null&&d(e,["googleMaps"],g);const h=f(t,["googleSearch"]);h!=null&&d(e,["googleSearch"],h);const v=f(t,["urlContext"]);return v!=null&&d(e,["urlContext"],v),e}function CM(t,e){const i={},s=f(t,["ttl"]);e!==void 0&&s!=null&&d(e,["ttl"],s);const a=f(t,["expireTime"]);return e!==void 0&&a!=null&&d(e,["expireTime"],a),i}function AM(t,e){const i={},s=f(t,["ttl"]);e!==void 0&&s!=null&&d(e,["ttl"],s);const a=f(t,["expireTime"]);return e!==void 0&&a!=null&&d(e,["expireTime"],a),i}function bM(t,e){const i={},s=f(e,["name"]);s!=null&&d(i,["_url","name"],Bn(t,s));const a=f(e,["config"]);return a!=null&&CM(a,i),i}function NM(t,e){const i={},s=f(e,["name"]);s!=null&&d(i,["_url","name"],Bn(t,s));const a=f(e,["config"]);return a!=null&&AM(a,i),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RM extends Gn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Oi(kn.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(i),i)}async create(e){var i,s,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=tM(this.apiClient,e);return p=te("cachedContents",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const h=eM(this.apiClient,e);return p=te("cachedContents",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async get(e){var i,s,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=fM(this.apiClient,e);return p=te("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const h=cM(this.apiClient,e);return p=te("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async delete(e){var i,s,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=iM(this.apiClient,e);return p=te("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const T=sM(v),x=new uv;return Object.assign(x,T),x})}else{const h=nM(this.apiClient,e);return p=te("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const T=oM(v),x=new uv;return Object.assign(x,T),x})}}async update(e){var i,s,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=NM(this.apiClient,e);return p=te("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const h=bM(this.apiClient,e);return p=te("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async listInternal(e){var i,s,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=yM(e);return p=te("cachedContents",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const T=TM(v),x=new cv;return Object.assign(x,T),x})}else{const h=gM(e);return p=te("cachedContents",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const T=vM(v),x=new cv;return Object.assign(x,T),x})}}}function nr(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(i[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(i[s[a]]=t[s[a]]);return i}function yv(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],s=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function me(t){return this instanceof me?(this.v=t,this):new me(t)}function ln(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=i.apply(t,e||[]),a,u=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(_){return function(b){return Promise.resolve(b).then(_,T)}}function p(_,b){s[_]&&(a[_]=function(w){return new Promise(function(A,R){u.push([_,w,A,R])>1||g(_,w)})},b&&(a[_]=b(a[_])))}function g(_,b){try{h(s[_](b))}catch(w){x(u[0][3],w)}}function h(_){_.value instanceof me?Promise.resolve(_.value.v).then(v,T):x(u[0][2],_)}function v(_){g("next",_)}function T(_){g("throw",_)}function x(_,b){_(b),u.shift(),u.length&&g(u[0][0],u[0][1])}}function an(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof yv=="function"?yv(t):t[Symbol.iterator](),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(u){i[u]=t[u]&&function(c){return new Promise(function(p,g){c=t[u](c),a(p,g,c.done,c.value)})}}function a(u,c,p,g){Promise.resolve(g).then(function(h){u({value:h,done:p})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wM(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const i=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:Ix(i)}function Ix(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function MM(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function vv(t){if(t===void 0||t.length===0)return[];const e=[],i=t.length;let s=0;for(;s<i;)if(t[s].role==="user")e.push(t[s]),s++;else{const a=[];let u=!0;for(;s<i&&t[s].role==="model";)a.push(t[s]),u&&!Ix(t[s])&&(u=!1),s++;u?e.push(...a):e.pop()}return e}class DM{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new IM(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class IM{constructor(e,i,s,a={},u=[]){this.apiClient=e,this.modelsModule=i,this.model=s,this.config=a,this.history=u,this.sendPromise=Promise.resolve(),MM(u)}async sendMessage(e){var i;await this.sendPromise;const s=yt(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var u,c,p;const g=await a,h=(c=(u=g.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content,v=g.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let x=[];v!=null&&(x=(p=v.slice(T))!==null&&p!==void 0?p:[]);const _=h?[h]:[];this.recordHistory(s,_,x)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var i;await this.sendPromise;const s=yt(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const u=await a;return this.processStreamResponse(u,s)}getHistory(e=!1){const i=e?vv(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){return ln(this,arguments,function*(){var a,u,c,p,g,h;const v=[];try{for(var T=!0,x=an(e),_;_=yield me(x.next()),a=_.done,!a;T=!0){p=_.value,T=!1;const b=p;if(wM(b)){const w=(h=(g=b.candidates)===null||g===void 0?void 0:g[0])===null||h===void 0?void 0:h.content;w!==void 0&&v.push(w)}yield yield me(b)}}catch(b){u={error:b}}finally{try{!T&&!a&&(c=x.return)&&(yield me(c.call(x)))}finally{if(u)throw u.error}}this.recordHistory(i,v)})}recordHistory(e,i,s){let a=[];i.length>0&&i.every(u=>u.role!==void 0)?a=i:a.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...vv(s)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fr extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,fr.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UM(t){const e={},i=f(t,["file"]);return i!=null&&d(e,["file"],i),e}function LM(t){const e={},i=f(t,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function PM(t){const e={},i=f(t,["name"]);return i!=null&&d(e,["_url","file"],Ax(i)),e}function VM(t){const e={},i=f(t,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function kM(t){const e={},i=f(t,["name"]);return i!=null&&d(e,["_url","file"],Ax(i)),e}function GM(t,e){const i={},s=f(t,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const a=f(t,["pageToken"]);return e!==void 0&&a!=null&&d(e,["_query","pageToken"],a),i}function BM(t){const e={},i=f(t,["config"]);return i!=null&&GM(i,e),e}function HM(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const a=f(t,["files"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>c)),d(e,["files"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zM extends Gn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Oi(kn.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>i)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var i,s;let a,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=BM(e);return u=te("files",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:g.headers},v})),a.then(g=>{const h=HM(g),v=new YR;return Object.assign(v,h),v})}}async createInternal(e){var i,s;let a,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=UM(e);return u=te("upload/v1beta/files",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),a.then(g=>{const h=LM(g),v=new JR;return Object.assign(v,h),v})}}async get(e){var i,s;let a,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=kM(e);return u=te("files/{file}",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(e){var i,s;let a,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=PM(e);return u=te("files/{file}",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:g.headers},v})),a.then(g=>{const h=VM(g),v=new KR;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qa(t){const e={},i=f(t,["data"]);if(i!=null&&d(e,["data"],i),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function OM(t){const e={},i=f(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>o2(u))),d(e,["parts"],a)}const s=f(t,["role"]);return s!=null&&d(e,["role"],s),e}function qM(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function FM(t){const e={},i=f(t,["id"]);i!=null&&d(e,["id"],i);const s=f(t,["args"]);s!=null&&d(e,["args"],s);const a=f(t,["name"]);if(a!=null&&d(e,["name"],a),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function YM(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=f(t,["description"]);i!=null&&d(e,["description"],i);const s=f(t,["name"]);s!=null&&d(e,["name"],s);const a=f(t,["parameters"]);a!=null&&d(e,["parameters"],a);const u=f(t,["parametersJsonSchema"]);u!=null&&d(e,["parametersJsonSchema"],u);const c=f(t,["response"]);c!=null&&d(e,["response"],c);const p=f(t,["responseJsonSchema"]);return p!=null&&d(e,["responseJsonSchema"],p),e}function JM(t){const e={},i=f(t,["modelSelectionConfig"]);i!=null&&d(e,["modelConfig"],i);const s=f(t,["responseJsonSchema"]);s!=null&&d(e,["responseJsonSchema"],s);const a=f(t,["audioTimestamp"]);a!=null&&d(e,["audioTimestamp"],a);const u=f(t,["candidateCount"]);u!=null&&d(e,["candidateCount"],u);const c=f(t,["enableAffectiveDialog"]);c!=null&&d(e,["enableAffectiveDialog"],c);const p=f(t,["frequencyPenalty"]);p!=null&&d(e,["frequencyPenalty"],p);const g=f(t,["logprobs"]);g!=null&&d(e,["logprobs"],g);const h=f(t,["maxOutputTokens"]);h!=null&&d(e,["maxOutputTokens"],h);const v=f(t,["mediaResolution"]);v!=null&&d(e,["mediaResolution"],v);const T=f(t,["presencePenalty"]);T!=null&&d(e,["presencePenalty"],T);const x=f(t,["responseLogprobs"]);x!=null&&d(e,["responseLogprobs"],x);const _=f(t,["responseMimeType"]);_!=null&&d(e,["responseMimeType"],_);const b=f(t,["responseModalities"]);b!=null&&d(e,["responseModalities"],b);const w=f(t,["responseSchema"]);w!=null&&d(e,["responseSchema"],w);const A=f(t,["routingConfig"]);A!=null&&d(e,["routingConfig"],A);const R=f(t,["seed"]);R!=null&&d(e,["seed"],R);const P=f(t,["speechConfig"]);P!=null&&d(e,["speechConfig"],P);const U=f(t,["stopSequences"]);U!=null&&d(e,["stopSequences"],U);const J=f(t,["temperature"]);J!=null&&d(e,["temperature"],J);const H=f(t,["thinkingConfig"]);H!=null&&d(e,["thinkingConfig"],H);const q=f(t,["topK"]);q!=null&&d(e,["topK"],q);const z=f(t,["topP"]);if(z!=null&&d(e,["topP"],z),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function KM(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=f(t,["enableWidget"]);return i!=null&&d(e,["enableWidget"],i),e}function XM(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=f(t,["timeRangeFilter"]);return i!=null&&d(e,["timeRangeFilter"],i),e}function QM(t,e){const i={},s=f(t,["generationConfig"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig"],s);const a=f(t,["responseModalities"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","responseModalities"],a);const u=f(t,["temperature"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","temperature"],u);const c=f(t,["topP"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","topP"],c);const p=f(t,["topK"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","topK"],p);const g=f(t,["maxOutputTokens"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","maxOutputTokens"],g);const h=f(t,["mediaResolution"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","mediaResolution"],h);const v=f(t,["seed"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","seed"],v);const T=f(t,["speechConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","speechConfig"],_d(T));const x=f(t,["thinkingConfig"]);e!==void 0&&x!=null&&d(e,["setup","generationConfig","thinkingConfig"],x);const _=f(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],_);const b=f(t,["systemInstruction"]);e!==void 0&&b!=null&&d(e,["setup","systemInstruction"],OM(yt(b)));const w=f(t,["tools"]);if(e!==void 0&&w!=null){let q=Fo(w);Array.isArray(q)&&(q=q.map(z=>l2(qo(z)))),d(e,["setup","tools"],q)}const A=f(t,["sessionResumption"]);e!==void 0&&A!=null&&d(e,["setup","sessionResumption"],s2(A));const R=f(t,["inputAudioTranscription"]);e!==void 0&&R!=null&&d(e,["setup","inputAudioTranscription"],R);const P=f(t,["outputAudioTranscription"]);e!==void 0&&P!=null&&d(e,["setup","outputAudioTranscription"],P);const U=f(t,["realtimeInputConfig"]);e!==void 0&&U!=null&&d(e,["setup","realtimeInputConfig"],U);const J=f(t,["contextWindowCompression"]);e!==void 0&&J!=null&&d(e,["setup","contextWindowCompression"],J);const H=f(t,["proactivity"]);if(e!==void 0&&H!=null&&d(e,["setup","proactivity"],H),f(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function $M(t,e){const i={},s=f(t,["generationConfig"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig"],JM(s));const a=f(t,["responseModalities"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","responseModalities"],a);const u=f(t,["temperature"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","temperature"],u);const c=f(t,["topP"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","topP"],c);const p=f(t,["topK"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","topK"],p);const g=f(t,["maxOutputTokens"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","maxOutputTokens"],g);const h=f(t,["mediaResolution"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","mediaResolution"],h);const v=f(t,["seed"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","seed"],v);const T=f(t,["speechConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","speechConfig"],_d(T));const x=f(t,["thinkingConfig"]);e!==void 0&&x!=null&&d(e,["setup","generationConfig","thinkingConfig"],x);const _=f(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],_);const b=f(t,["systemInstruction"]);e!==void 0&&b!=null&&d(e,["setup","systemInstruction"],yt(b));const w=f(t,["tools"]);if(e!==void 0&&w!=null){let z=Fo(w);Array.isArray(z)&&(z=z.map(Q=>a2(qo(Q)))),d(e,["setup","tools"],z)}const A=f(t,["sessionResumption"]);e!==void 0&&A!=null&&d(e,["setup","sessionResumption"],A);const R=f(t,["inputAudioTranscription"]);e!==void 0&&R!=null&&d(e,["setup","inputAudioTranscription"],R);const P=f(t,["outputAudioTranscription"]);e!==void 0&&P!=null&&d(e,["setup","outputAudioTranscription"],P);const U=f(t,["realtimeInputConfig"]);e!==void 0&&U!=null&&d(e,["setup","realtimeInputConfig"],U);const J=f(t,["contextWindowCompression"]);e!==void 0&&J!=null&&d(e,["setup","contextWindowCompression"],J);const H=f(t,["proactivity"]);e!==void 0&&H!=null&&d(e,["setup","proactivity"],H);const q=f(t,["explicitVadSignal"]);return e!==void 0&&q!=null&&d(e,["setup","explicitVadSignal"],q),i}function ZM(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["setup","model"],Me(t,s));const a=f(e,["config"]);return a!=null&&d(i,["config"],QM(a,i)),i}function jM(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["setup","model"],Me(t,s));const a=f(e,["config"]);return a!=null&&d(i,["config"],$M(a,i)),i}function WM(t){const e={},i=f(t,["musicGenerationConfig"]);return i!=null&&d(e,["musicGenerationConfig"],i),e}function e2(t){const e={},i=f(t,["weightedPrompts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),d(e,["weightedPrompts"],s)}return e}function t2(t){const e={},i=f(t,["media"]);if(i!=null){let h=xx(i);Array.isArray(h)&&(h=h.map(v=>qa(v))),d(e,["mediaChunks"],h)}const s=f(t,["audio"]);s!=null&&d(e,["audio"],qa(Ex(s)));const a=f(t,["audioStreamEnd"]);a!=null&&d(e,["audioStreamEnd"],a);const u=f(t,["video"]);u!=null&&d(e,["video"],qa(Sx(u)));const c=f(t,["text"]);c!=null&&d(e,["text"],c);const p=f(t,["activityStart"]);p!=null&&d(e,["activityStart"],p);const g=f(t,["activityEnd"]);return g!=null&&d(e,["activityEnd"],g),e}function n2(t){const e={},i=f(t,["media"]);if(i!=null){let h=xx(i);Array.isArray(h)&&(h=h.map(v=>v)),d(e,["mediaChunks"],h)}const s=f(t,["audio"]);s!=null&&d(e,["audio"],Ex(s));const a=f(t,["audioStreamEnd"]);a!=null&&d(e,["audioStreamEnd"],a);const u=f(t,["video"]);u!=null&&d(e,["video"],Sx(u));const c=f(t,["text"]);c!=null&&d(e,["text"],c);const p=f(t,["activityStart"]);p!=null&&d(e,["activityStart"],p);const g=f(t,["activityEnd"]);return g!=null&&d(e,["activityEnd"],g),e}function i2(t){const e={},i=f(t,["setupComplete"]);i!=null&&d(e,["setupComplete"],i);const s=f(t,["serverContent"]);s!=null&&d(e,["serverContent"],s);const a=f(t,["toolCall"]);a!=null&&d(e,["toolCall"],a);const u=f(t,["toolCallCancellation"]);u!=null&&d(e,["toolCallCancellation"],u);const c=f(t,["usageMetadata"]);c!=null&&d(e,["usageMetadata"],r2(c));const p=f(t,["goAway"]);p!=null&&d(e,["goAway"],p);const g=f(t,["sessionResumptionUpdate"]);g!=null&&d(e,["sessionResumptionUpdate"],g);const h=f(t,["voiceActivityDetectionSignal"]);return h!=null&&d(e,["voiceActivityDetectionSignal"],h),e}function o2(t){const e={},i=f(t,["mediaResolution"]);i!=null&&d(e,["mediaResolution"],i);const s=f(t,["codeExecutionResult"]);s!=null&&d(e,["codeExecutionResult"],s);const a=f(t,["executableCode"]);a!=null&&d(e,["executableCode"],a);const u=f(t,["fileData"]);u!=null&&d(e,["fileData"],qM(u));const c=f(t,["functionCall"]);c!=null&&d(e,["functionCall"],FM(c));const p=f(t,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const g=f(t,["inlineData"]);g!=null&&d(e,["inlineData"],qa(g));const h=f(t,["text"]);h!=null&&d(e,["text"],h);const v=f(t,["thought"]);v!=null&&d(e,["thought"],v);const T=f(t,["thoughtSignature"]);T!=null&&d(e,["thoughtSignature"],T);const x=f(t,["videoMetadata"]);return x!=null&&d(e,["videoMetadata"],x),e}function s2(t){const e={},i=f(t,["handle"]);if(i!=null&&d(e,["handle"],i),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function l2(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(T=>T)),d(e,["functionDeclarations"],v)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=f(t,["googleSearchRetrieval"]);s!=null&&d(e,["googleSearchRetrieval"],s);const a=f(t,["computerUse"]);a!=null&&d(e,["computerUse"],a);const u=f(t,["fileSearch"]);u!=null&&d(e,["fileSearch"],u);const c=f(t,["codeExecution"]);if(c!=null&&d(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=f(t,["googleMaps"]);p!=null&&d(e,["googleMaps"],KM(p));const g=f(t,["googleSearch"]);g!=null&&d(e,["googleSearch"],XM(g));const h=f(t,["urlContext"]);return h!=null&&d(e,["urlContext"],h),e}function a2(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let T=i;Array.isArray(T)&&(T=T.map(x=>YM(x))),d(e,["functionDeclarations"],T)}const s=f(t,["retrieval"]);s!=null&&d(e,["retrieval"],s);const a=f(t,["googleSearchRetrieval"]);a!=null&&d(e,["googleSearchRetrieval"],a);const u=f(t,["computerUse"]);if(u!=null&&d(e,["computerUse"],u),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=f(t,["codeExecution"]);c!=null&&d(e,["codeExecution"],c);const p=f(t,["enterpriseWebSearch"]);p!=null&&d(e,["enterpriseWebSearch"],p);const g=f(t,["googleMaps"]);g!=null&&d(e,["googleMaps"],g);const h=f(t,["googleSearch"]);h!=null&&d(e,["googleSearch"],h);const v=f(t,["urlContext"]);return v!=null&&d(e,["urlContext"],v),e}function r2(t){const e={},i=f(t,["promptTokenCount"]);i!=null&&d(e,["promptTokenCount"],i);const s=f(t,["cachedContentTokenCount"]);s!=null&&d(e,["cachedContentTokenCount"],s);const a=f(t,["candidatesTokenCount"]);a!=null&&d(e,["responseTokenCount"],a);const u=f(t,["toolUsePromptTokenCount"]);u!=null&&d(e,["toolUsePromptTokenCount"],u);const c=f(t,["thoughtsTokenCount"]);c!=null&&d(e,["thoughtsTokenCount"],c);const p=f(t,["totalTokenCount"]);p!=null&&d(e,["totalTokenCount"],p);const g=f(t,["promptTokensDetails"]);if(g!=null){let _=g;Array.isArray(_)&&(_=_.map(b=>b)),d(e,["promptTokensDetails"],_)}const h=f(t,["cacheTokensDetails"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(b=>b)),d(e,["cacheTokensDetails"],_)}const v=f(t,["candidatesTokensDetails"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(b=>b)),d(e,["responseTokensDetails"],_)}const T=f(t,["toolUsePromptTokensDetails"]);if(T!=null){let _=T;Array.isArray(_)&&(_=_.map(b=>b)),d(e,["toolUsePromptTokensDetails"],_)}const x=f(t,["trafficType"]);return x!=null&&d(e,["trafficType"],x),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function u2(t){const e={},i=f(t,["data"]);if(i!=null&&d(e,["data"],i),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function c2(t){const e={},i=f(t,["content"]);i!=null&&d(e,["content"],i);const s=f(t,["citationMetadata"]);s!=null&&d(e,["citationMetadata"],f2(s));const a=f(t,["tokenCount"]);a!=null&&d(e,["tokenCount"],a);const u=f(t,["finishReason"]);u!=null&&d(e,["finishReason"],u);const c=f(t,["avgLogprobs"]);c!=null&&d(e,["avgLogprobs"],c);const p=f(t,["groundingMetadata"]);p!=null&&d(e,["groundingMetadata"],p);const g=f(t,["index"]);g!=null&&d(e,["index"],g);const h=f(t,["logprobsResult"]);h!=null&&d(e,["logprobsResult"],h);const v=f(t,["safetyRatings"]);if(v!=null){let x=v;Array.isArray(x)&&(x=x.map(_=>_)),d(e,["safetyRatings"],x)}const T=f(t,["urlContextMetadata"]);return T!=null&&d(e,["urlContextMetadata"],T),e}function f2(t){const e={},i=f(t,["citationSources"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),d(e,["citations"],s)}return e}function d2(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Me(t,s));const a=f(e,["contents"]);if(a!=null){let u=Wt(a);Array.isArray(u)&&(u=u.map(c=>c)),d(i,["contents"],u)}return i}function p2(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["tokensInfo"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>u)),d(e,["tokensInfo"],a)}return e}function h2(t){const e={},i=f(t,["values"]);i!=null&&d(e,["values"],i);const s=f(t,["statistics"]);return s!=null&&d(e,["statistics"],m2(s)),e}function m2(t){const e={},i=f(t,["truncated"]);i!=null&&d(e,["truncated"],i);const s=f(t,["token_count"]);return s!=null&&d(e,["tokenCount"],s),e}function dr(t){const e={},i=f(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>CD(u))),d(e,["parts"],a)}const s=f(t,["role"]);return s!=null&&d(e,["role"],s),e}function g2(t){const e={},i=f(t,["controlType"]);i!=null&&d(e,["controlType"],i);const s=f(t,["enableControlImageComputation"]);return s!=null&&d(e,["computeControl"],s),e}function y2(t){const e={};if(f(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function v2(t,e){const i={},s=f(t,["systemInstruction"]);e!==void 0&&s!=null&&d(e,["systemInstruction"],yt(s));const a=f(t,["tools"]);if(e!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>Vx(p))),d(e,["tools"],c)}const u=f(t,["generationConfig"]);return e!==void 0&&u!=null&&d(e,["generationConfig"],uD(u)),i}function T2(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Me(t,s));const a=f(e,["contents"]);if(a!=null){let c=Wt(a);Array.isArray(c)&&(c=c.map(p=>dr(p))),d(i,["contents"],c)}const u=f(e,["config"]);return u!=null&&y2(u),i}function x2(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Me(t,s));const a=f(e,["contents"]);if(a!=null){let c=Wt(a);Array.isArray(c)&&(c=c.map(p=>p)),d(i,["contents"],c)}const u=f(e,["config"]);return u!=null&&v2(u,i),i}function S2(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["totalTokens"]);s!=null&&d(e,["totalTokens"],s);const a=f(t,["cachedContentTokenCount"]);return a!=null&&d(e,["cachedContentTokenCount"],a),e}function E2(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["totalTokens"]);return s!=null&&d(e,["totalTokens"],s),e}function _2(t,e){const i={},s=f(e,["model"]);return s!=null&&d(i,["_url","name"],Me(t,s)),i}function C2(t,e){const i={},s=f(e,["model"]);return s!=null&&d(i,["_url","name"],Me(t,s)),i}function A2(t){const e={},i=f(t,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function b2(t){const e={},i=f(t,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}function N2(t,e){const i={},s=f(t,["outputGcsUri"]);e!==void 0&&s!=null&&d(e,["parameters","storageUri"],s);const a=f(t,["negativePrompt"]);e!==void 0&&a!=null&&d(e,["parameters","negativePrompt"],a);const u=f(t,["numberOfImages"]);e!==void 0&&u!=null&&d(e,["parameters","sampleCount"],u);const c=f(t,["aspectRatio"]);e!==void 0&&c!=null&&d(e,["parameters","aspectRatio"],c);const p=f(t,["guidanceScale"]);e!==void 0&&p!=null&&d(e,["parameters","guidanceScale"],p);const g=f(t,["seed"]);e!==void 0&&g!=null&&d(e,["parameters","seed"],g);const h=f(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&d(e,["parameters","safetySetting"],h);const v=f(t,["personGeneration"]);e!==void 0&&v!=null&&d(e,["parameters","personGeneration"],v);const T=f(t,["includeSafetyAttributes"]);e!==void 0&&T!=null&&d(e,["parameters","includeSafetyAttributes"],T);const x=f(t,["includeRaiReason"]);e!==void 0&&x!=null&&d(e,["parameters","includeRaiReason"],x);const _=f(t,["language"]);e!==void 0&&_!=null&&d(e,["parameters","language"],_);const b=f(t,["outputMimeType"]);e!==void 0&&b!=null&&d(e,["parameters","outputOptions","mimeType"],b);const w=f(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&d(e,["parameters","outputOptions","compressionQuality"],w);const A=f(t,["addWatermark"]);e!==void 0&&A!=null&&d(e,["parameters","addWatermark"],A);const R=f(t,["labels"]);e!==void 0&&R!=null&&d(e,["labels"],R);const P=f(t,["editMode"]);e!==void 0&&P!=null&&d(e,["parameters","editMode"],P);const U=f(t,["baseSteps"]);return e!==void 0&&U!=null&&d(e,["parameters","editConfig","baseSteps"],U),i}function R2(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Me(t,s));const a=f(e,["prompt"]);a!=null&&d(i,["instances[0]","prompt"],a);const u=f(e,["referenceImages"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(g=>MD(g))),d(i,["instances[0]","referenceImages"],p)}const c=f(e,["config"]);return c!=null&&N2(c,i),i}function w2(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["predictions"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>pr(u))),d(e,["generatedImages"],a)}return e}function M2(t,e){const i={},s=f(t,["taskType"]);e!==void 0&&s!=null&&d(e,["requests[]","taskType"],s);const a=f(t,["title"]);e!==void 0&&a!=null&&d(e,["requests[]","title"],a);const u=f(t,["outputDimensionality"]);if(e!==void 0&&u!=null&&d(e,["requests[]","outputDimensionality"],u),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function D2(t,e){const i={},s=f(t,["taskType"]);e!==void 0&&s!=null&&d(e,["instances[]","task_type"],s);const a=f(t,["title"]);e!==void 0&&a!=null&&d(e,["instances[]","title"],a);const u=f(t,["outputDimensionality"]);e!==void 0&&u!=null&&d(e,["parameters","outputDimensionality"],u);const c=f(t,["mimeType"]);e!==void 0&&c!=null&&d(e,["instances[]","mimeType"],c);const p=f(t,["autoTruncate"]);return e!==void 0&&p!=null&&d(e,["parameters","autoTruncate"],p),i}function I2(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Me(t,s));const a=f(e,["contents"]);if(a!=null){let p=xd(t,a);Array.isArray(p)&&(p=p.map(g=>g)),d(i,["requests[]","content"],p)}const u=f(e,["config"]);u!=null&&M2(u,i);const c=f(e,["model"]);return c!==void 0&&d(i,["requests[]","model"],Me(t,c)),i}function U2(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Me(t,s));const a=f(e,["contents"]);if(a!=null){let c=xd(t,a);Array.isArray(c)&&(c=c.map(p=>p)),d(i,["instances[]","content"],c)}const u=f(e,["config"]);return u!=null&&D2(u,i),i}function L2(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["embeddings"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>c)),d(e,["embeddings"],u)}const a=f(t,["metadata"]);return a!=null&&d(e,["metadata"],a),e}function P2(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["predictions[]","embeddings"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>h2(c))),d(e,["embeddings"],u)}const a=f(t,["metadata"]);return a!=null&&d(e,["metadata"],a),e}function V2(t){const e={},i=f(t,["endpoint"]);i!=null&&d(e,["name"],i);const s=f(t,["deployedModelId"]);return s!=null&&d(e,["deployedModelId"],s),e}function k2(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function G2(t){const e={},i=f(t,["id"]);i!=null&&d(e,["id"],i);const s=f(t,["args"]);s!=null&&d(e,["args"],s);const a=f(t,["name"]);if(a!=null&&d(e,["name"],a),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function B2(t){const e={},i=f(t,["mode"]);i!=null&&d(e,["mode"],i);const s=f(t,["allowedFunctionNames"]);if(s!=null&&d(e,["allowedFunctionNames"],s),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function H2(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=f(t,["description"]);i!=null&&d(e,["description"],i);const s=f(t,["name"]);s!=null&&d(e,["name"],s);const a=f(t,["parameters"]);a!=null&&d(e,["parameters"],a);const u=f(t,["parametersJsonSchema"]);u!=null&&d(e,["parametersJsonSchema"],u);const c=f(t,["response"]);c!=null&&d(e,["response"],c);const p=f(t,["responseJsonSchema"]);return p!=null&&d(e,["responseJsonSchema"],p),e}function z2(t,e,i){const s={},a=f(e,["systemInstruction"]);i!==void 0&&a!=null&&d(i,["systemInstruction"],dr(yt(a)));const u=f(e,["temperature"]);u!=null&&d(s,["temperature"],u);const c=f(e,["topP"]);c!=null&&d(s,["topP"],c);const p=f(e,["topK"]);p!=null&&d(s,["topK"],p);const g=f(e,["candidateCount"]);g!=null&&d(s,["candidateCount"],g);const h=f(e,["maxOutputTokens"]);h!=null&&d(s,["maxOutputTokens"],h);const v=f(e,["stopSequences"]);v!=null&&d(s,["stopSequences"],v);const T=f(e,["responseLogprobs"]);T!=null&&d(s,["responseLogprobs"],T);const x=f(e,["logprobs"]);x!=null&&d(s,["logprobs"],x);const _=f(e,["presencePenalty"]);_!=null&&d(s,["presencePenalty"],_);const b=f(e,["frequencyPenalty"]);b!=null&&d(s,["frequencyPenalty"],b);const w=f(e,["seed"]);w!=null&&d(s,["seed"],w);const A=f(e,["responseMimeType"]);A!=null&&d(s,["responseMimeType"],A);const R=f(e,["responseSchema"]);R!=null&&d(s,["responseSchema"],Sd(R));const P=f(e,["responseJsonSchema"]);if(P!=null&&d(s,["responseJsonSchema"],P),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const U=f(e,["safetySettings"]);if(i!==void 0&&U!=null){let re=U;Array.isArray(re)&&(re=re.map(ye=>DD(ye))),d(i,["safetySettings"],re)}const J=f(e,["tools"]);if(i!==void 0&&J!=null){let re=Fo(J);Array.isArray(re)&&(re=re.map(ye=>GD(qo(ye)))),d(i,["tools"],re)}const H=f(e,["toolConfig"]);if(i!==void 0&&H!=null&&d(i,["toolConfig"],kD(H)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const q=f(e,["cachedContent"]);i!==void 0&&q!=null&&d(i,["cachedContent"],Bn(t,q));const z=f(e,["responseModalities"]);z!=null&&d(s,["responseModalities"],z);const Q=f(e,["mediaResolution"]);Q!=null&&d(s,["mediaResolution"],Q);const Z=f(e,["speechConfig"]);if(Z!=null&&d(s,["speechConfig"],Ed(Z)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ie=f(e,["thinkingConfig"]);ie!=null&&d(s,["thinkingConfig"],ie);const pe=f(e,["imageConfig"]);pe!=null&&d(s,["imageConfig"],hD(pe));const ee=f(e,["enableEnhancedCivicAnswers"]);return ee!=null&&d(s,["enableEnhancedCivicAnswers"],ee),s}function O2(t,e,i){const s={},a=f(e,["systemInstruction"]);i!==void 0&&a!=null&&d(i,["systemInstruction"],yt(a));const u=f(e,["temperature"]);u!=null&&d(s,["temperature"],u);const c=f(e,["topP"]);c!=null&&d(s,["topP"],c);const p=f(e,["topK"]);p!=null&&d(s,["topK"],p);const g=f(e,["candidateCount"]);g!=null&&d(s,["candidateCount"],g);const h=f(e,["maxOutputTokens"]);h!=null&&d(s,["maxOutputTokens"],h);const v=f(e,["stopSequences"]);v!=null&&d(s,["stopSequences"],v);const T=f(e,["responseLogprobs"]);T!=null&&d(s,["responseLogprobs"],T);const x=f(e,["logprobs"]);x!=null&&d(s,["logprobs"],x);const _=f(e,["presencePenalty"]);_!=null&&d(s,["presencePenalty"],_);const b=f(e,["frequencyPenalty"]);b!=null&&d(s,["frequencyPenalty"],b);const w=f(e,["seed"]);w!=null&&d(s,["seed"],w);const A=f(e,["responseMimeType"]);A!=null&&d(s,["responseMimeType"],A);const R=f(e,["responseSchema"]);R!=null&&d(s,["responseSchema"],Sd(R));const P=f(e,["responseJsonSchema"]);P!=null&&d(s,["responseJsonSchema"],P);const U=f(e,["routingConfig"]);U!=null&&d(s,["routingConfig"],U);const J=f(e,["modelSelectionConfig"]);J!=null&&d(s,["modelConfig"],J);const H=f(e,["safetySettings"]);if(i!==void 0&&H!=null){let L=H;Array.isArray(L)&&(L=L.map($=>$)),d(i,["safetySettings"],L)}const q=f(e,["tools"]);if(i!==void 0&&q!=null){let L=Fo(q);Array.isArray(L)&&(L=L.map($=>Vx(qo($)))),d(i,["tools"],L)}const z=f(e,["toolConfig"]);i!==void 0&&z!=null&&d(i,["toolConfig"],z);const Q=f(e,["labels"]);i!==void 0&&Q!=null&&d(i,["labels"],Q);const Z=f(e,["cachedContent"]);i!==void 0&&Z!=null&&d(i,["cachedContent"],Bn(t,Z));const ie=f(e,["responseModalities"]);ie!=null&&d(s,["responseModalities"],ie);const pe=f(e,["mediaResolution"]);pe!=null&&d(s,["mediaResolution"],pe);const ee=f(e,["speechConfig"]);ee!=null&&d(s,["speechConfig"],Ed(ee));const re=f(e,["audioTimestamp"]);re!=null&&d(s,["audioTimestamp"],re);const ye=f(e,["thinkingConfig"]);ye!=null&&d(s,["thinkingConfig"],ye);const Ge=f(e,["imageConfig"]);if(Ge!=null&&d(s,["imageConfig"],mD(Ge)),f(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return s}function Tv(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Me(t,s));const a=f(e,["contents"]);if(a!=null){let c=Wt(a);Array.isArray(c)&&(c=c.map(p=>dr(p))),d(i,["contents"],c)}const u=f(e,["config"]);return u!=null&&d(i,["generationConfig"],z2(t,u,i)),i}function xv(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Me(t,s));const a=f(e,["contents"]);if(a!=null){let c=Wt(a);Array.isArray(c)&&(c=c.map(p=>p)),d(i,["contents"],c)}const u=f(e,["config"]);return u!=null&&d(i,["generationConfig"],O2(t,u,i)),i}function Sv(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["candidates"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(h=>c2(h))),d(e,["candidates"],g)}const a=f(t,["modelVersion"]);a!=null&&d(e,["modelVersion"],a);const u=f(t,["promptFeedback"]);u!=null&&d(e,["promptFeedback"],u);const c=f(t,["responseId"]);c!=null&&d(e,["responseId"],c);const p=f(t,["usageMetadata"]);return p!=null&&d(e,["usageMetadata"],p),e}function Ev(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["candidates"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(v=>v)),d(e,["candidates"],h)}const a=f(t,["createTime"]);a!=null&&d(e,["createTime"],a);const u=f(t,["modelVersion"]);u!=null&&d(e,["modelVersion"],u);const c=f(t,["promptFeedback"]);c!=null&&d(e,["promptFeedback"],c);const p=f(t,["responseId"]);p!=null&&d(e,["responseId"],p);const g=f(t,["usageMetadata"]);return g!=null&&d(e,["usageMetadata"],g),e}function q2(t,e){const i={};if(f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=f(t,["numberOfImages"]);e!==void 0&&s!=null&&d(e,["parameters","sampleCount"],s);const a=f(t,["aspectRatio"]);e!==void 0&&a!=null&&d(e,["parameters","aspectRatio"],a);const u=f(t,["guidanceScale"]);if(e!==void 0&&u!=null&&d(e,["parameters","guidanceScale"],u),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=f(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&d(e,["parameters","safetySetting"],c);const p=f(t,["personGeneration"]);e!==void 0&&p!=null&&d(e,["parameters","personGeneration"],p);const g=f(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&d(e,["parameters","includeSafetyAttributes"],g);const h=f(t,["includeRaiReason"]);e!==void 0&&h!=null&&d(e,["parameters","includeRaiReason"],h);const v=f(t,["language"]);e!==void 0&&v!=null&&d(e,["parameters","language"],v);const T=f(t,["outputMimeType"]);e!==void 0&&T!=null&&d(e,["parameters","outputOptions","mimeType"],T);const x=f(t,["outputCompressionQuality"]);if(e!==void 0&&x!=null&&d(e,["parameters","outputOptions","compressionQuality"],x),f(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const _=f(t,["imageSize"]);if(e!==void 0&&_!=null&&d(e,["parameters","sampleImageSize"],_),f(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function F2(t,e){const i={},s=f(t,["outputGcsUri"]);e!==void 0&&s!=null&&d(e,["parameters","storageUri"],s);const a=f(t,["negativePrompt"]);e!==void 0&&a!=null&&d(e,["parameters","negativePrompt"],a);const u=f(t,["numberOfImages"]);e!==void 0&&u!=null&&d(e,["parameters","sampleCount"],u);const c=f(t,["aspectRatio"]);e!==void 0&&c!=null&&d(e,["parameters","aspectRatio"],c);const p=f(t,["guidanceScale"]);e!==void 0&&p!=null&&d(e,["parameters","guidanceScale"],p);const g=f(t,["seed"]);e!==void 0&&g!=null&&d(e,["parameters","seed"],g);const h=f(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&d(e,["parameters","safetySetting"],h);const v=f(t,["personGeneration"]);e!==void 0&&v!=null&&d(e,["parameters","personGeneration"],v);const T=f(t,["includeSafetyAttributes"]);e!==void 0&&T!=null&&d(e,["parameters","includeSafetyAttributes"],T);const x=f(t,["includeRaiReason"]);e!==void 0&&x!=null&&d(e,["parameters","includeRaiReason"],x);const _=f(t,["language"]);e!==void 0&&_!=null&&d(e,["parameters","language"],_);const b=f(t,["outputMimeType"]);e!==void 0&&b!=null&&d(e,["parameters","outputOptions","mimeType"],b);const w=f(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&d(e,["parameters","outputOptions","compressionQuality"],w);const A=f(t,["addWatermark"]);e!==void 0&&A!=null&&d(e,["parameters","addWatermark"],A);const R=f(t,["labels"]);e!==void 0&&R!=null&&d(e,["labels"],R);const P=f(t,["imageSize"]);e!==void 0&&P!=null&&d(e,["parameters","sampleImageSize"],P);const U=f(t,["enhancePrompt"]);return e!==void 0&&U!=null&&d(e,["parameters","enhancePrompt"],U),i}function Y2(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Me(t,s));const a=f(e,["prompt"]);a!=null&&d(i,["instances[0]","prompt"],a);const u=f(e,["config"]);return u!=null&&q2(u,i),i}function J2(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Me(t,s));const a=f(e,["prompt"]);a!=null&&d(i,["instances[0]","prompt"],a);const u=f(e,["config"]);return u!=null&&F2(u,i),i}function K2(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>sD(c))),d(e,["generatedImages"],u)}const a=f(t,["positivePromptSafetyAttributes"]);return a!=null&&d(e,["positivePromptSafetyAttributes"],Lx(a)),e}function X2(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>pr(c))),d(e,["generatedImages"],u)}const a=f(t,["positivePromptSafetyAttributes"]);return a!=null&&d(e,["positivePromptSafetyAttributes"],Px(a)),e}function Q2(t,e){const i={},s=f(t,["numberOfVideos"]);if(e!==void 0&&s!=null&&d(e,["parameters","sampleCount"],s),f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=f(t,["durationSeconds"]);if(e!==void 0&&a!=null&&d(e,["parameters","durationSeconds"],a),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=f(t,["aspectRatio"]);e!==void 0&&u!=null&&d(e,["parameters","aspectRatio"],u);const c=f(t,["resolution"]);e!==void 0&&c!=null&&d(e,["parameters","resolution"],c);const p=f(t,["personGeneration"]);if(e!==void 0&&p!=null&&d(e,["parameters","personGeneration"],p),f(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const g=f(t,["negativePrompt"]);e!==void 0&&g!=null&&d(e,["parameters","negativePrompt"],g);const h=f(t,["enhancePrompt"]);if(e!==void 0&&h!=null&&d(e,["parameters","enhancePrompt"],h),f(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=f(t,["lastFrame"]);e!==void 0&&v!=null&&d(e,["instances[0]","lastFrame"],hr(v));const T=f(t,["referenceImages"]);if(e!==void 0&&T!=null){let x=T;Array.isArray(x)&&(x=x.map(_=>ZD(_))),d(e,["instances[0]","referenceImages"],x)}if(f(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(f(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function $2(t,e){const i={},s=f(t,["numberOfVideos"]);e!==void 0&&s!=null&&d(e,["parameters","sampleCount"],s);const a=f(t,["outputGcsUri"]);e!==void 0&&a!=null&&d(e,["parameters","storageUri"],a);const u=f(t,["fps"]);e!==void 0&&u!=null&&d(e,["parameters","fps"],u);const c=f(t,["durationSeconds"]);e!==void 0&&c!=null&&d(e,["parameters","durationSeconds"],c);const p=f(t,["seed"]);e!==void 0&&p!=null&&d(e,["parameters","seed"],p);const g=f(t,["aspectRatio"]);e!==void 0&&g!=null&&d(e,["parameters","aspectRatio"],g);const h=f(t,["resolution"]);e!==void 0&&h!=null&&d(e,["parameters","resolution"],h);const v=f(t,["personGeneration"]);e!==void 0&&v!=null&&d(e,["parameters","personGeneration"],v);const T=f(t,["pubsubTopic"]);e!==void 0&&T!=null&&d(e,["parameters","pubsubTopic"],T);const x=f(t,["negativePrompt"]);e!==void 0&&x!=null&&d(e,["parameters","negativePrompt"],x);const _=f(t,["enhancePrompt"]);e!==void 0&&_!=null&&d(e,["parameters","enhancePrompt"],_);const b=f(t,["generateAudio"]);e!==void 0&&b!=null&&d(e,["parameters","generateAudio"],b);const w=f(t,["lastFrame"]);e!==void 0&&w!=null&&d(e,["instances[0]","lastFrame"],rn(w));const A=f(t,["referenceImages"]);if(e!==void 0&&A!=null){let U=A;Array.isArray(U)&&(U=U.map(J=>jD(J))),d(e,["instances[0]","referenceImages"],U)}const R=f(t,["mask"]);e!==void 0&&R!=null&&d(e,["instances[0]","mask"],$D(R));const P=f(t,["compressionQuality"]);return e!==void 0&&P!=null&&d(e,["parameters","compressionQuality"],P),i}function Z2(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const s=f(t,["metadata"]);s!=null&&d(e,["metadata"],s);const a=f(t,["done"]);a!=null&&d(e,["done"],a);const u=f(t,["error"]);u!=null&&d(e,["error"],u);const c=f(t,["response","generateVideoResponse"]);return c!=null&&d(e,["response"],tD(c)),e}function j2(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const s=f(t,["metadata"]);s!=null&&d(e,["metadata"],s);const a=f(t,["done"]);a!=null&&d(e,["done"],a);const u=f(t,["error"]);u!=null&&d(e,["error"],u);const c=f(t,["response"]);return c!=null&&d(e,["response"],nD(c)),e}function W2(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Me(t,s));const a=f(e,["prompt"]);a!=null&&d(i,["instances[0]","prompt"],a);const u=f(e,["image"]);u!=null&&d(i,["instances[0]","image"],hr(u));const c=f(e,["video"]);c!=null&&d(i,["instances[0]","video"],kx(c));const p=f(e,["source"]);p!=null&&iD(p,i);const g=f(e,["config"]);return g!=null&&Q2(g,i),i}function eD(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Me(t,s));const a=f(e,["prompt"]);a!=null&&d(i,["instances[0]","prompt"],a);const u=f(e,["image"]);u!=null&&d(i,["instances[0]","image"],rn(u));const c=f(e,["video"]);c!=null&&d(i,["instances[0]","video"],Gx(c));const p=f(e,["source"]);p!=null&&oD(p,i);const g=f(e,["config"]);return g!=null&&$2(g,i),i}function tD(t){const e={},i=f(t,["generatedSamples"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>aD(c))),d(e,["generatedVideos"],u)}const s=f(t,["raiMediaFilteredCount"]);s!=null&&d(e,["raiMediaFilteredCount"],s);const a=f(t,["raiMediaFilteredReasons"]);return a!=null&&d(e,["raiMediaFilteredReasons"],a),e}function nD(t){const e={},i=f(t,["videos"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>rD(c))),d(e,["generatedVideos"],u)}const s=f(t,["raiMediaFilteredCount"]);s!=null&&d(e,["raiMediaFilteredCount"],s);const a=f(t,["raiMediaFilteredReasons"]);return a!=null&&d(e,["raiMediaFilteredReasons"],a),e}function iD(t,e){const i={},s=f(t,["prompt"]);e!==void 0&&s!=null&&d(e,["instances[0]","prompt"],s);const a=f(t,["image"]);e!==void 0&&a!=null&&d(e,["instances[0]","image"],hr(a));const u=f(t,["video"]);return e!==void 0&&u!=null&&d(e,["instances[0]","video"],kx(u)),i}function oD(t,e){const i={},s=f(t,["prompt"]);e!==void 0&&s!=null&&d(e,["instances[0]","prompt"],s);const a=f(t,["image"]);e!==void 0&&a!=null&&d(e,["instances[0]","image"],rn(a));const u=f(t,["video"]);return e!==void 0&&u!=null&&d(e,["instances[0]","video"],Gx(u)),i}function sD(t){const e={},i=f(t,["_self"]);i!=null&&d(e,["image"],gD(i));const s=f(t,["raiFilteredReason"]);s!=null&&d(e,["raiFilteredReason"],s);const a=f(t,["_self"]);return a!=null&&d(e,["safetyAttributes"],Lx(a)),e}function pr(t){const e={},i=f(t,["_self"]);i!=null&&d(e,["image"],Ux(i));const s=f(t,["raiFilteredReason"]);s!=null&&d(e,["raiFilteredReason"],s);const a=f(t,["_self"]);a!=null&&d(e,["safetyAttributes"],Px(a));const u=f(t,["prompt"]);return u!=null&&d(e,["enhancedPrompt"],u),e}function lD(t){const e={},i=f(t,["_self"]);i!=null&&d(e,["mask"],Ux(i));const s=f(t,["labels"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>u)),d(e,["labels"],a)}return e}function aD(t){const e={},i=f(t,["video"]);return i!=null&&d(e,["video"],XD(i)),e}function rD(t){const e={},i=f(t,["_self"]);return i!=null&&d(e,["video"],QD(i)),e}function uD(t){const e={},i=f(t,["modelSelectionConfig"]);i!=null&&d(e,["modelConfig"],i);const s=f(t,["responseJsonSchema"]);s!=null&&d(e,["responseJsonSchema"],s);const a=f(t,["audioTimestamp"]);a!=null&&d(e,["audioTimestamp"],a);const u=f(t,["candidateCount"]);u!=null&&d(e,["candidateCount"],u);const c=f(t,["enableAffectiveDialog"]);c!=null&&d(e,["enableAffectiveDialog"],c);const p=f(t,["frequencyPenalty"]);p!=null&&d(e,["frequencyPenalty"],p);const g=f(t,["logprobs"]);g!=null&&d(e,["logprobs"],g);const h=f(t,["maxOutputTokens"]);h!=null&&d(e,["maxOutputTokens"],h);const v=f(t,["mediaResolution"]);v!=null&&d(e,["mediaResolution"],v);const T=f(t,["presencePenalty"]);T!=null&&d(e,["presencePenalty"],T);const x=f(t,["responseLogprobs"]);x!=null&&d(e,["responseLogprobs"],x);const _=f(t,["responseMimeType"]);_!=null&&d(e,["responseMimeType"],_);const b=f(t,["responseModalities"]);b!=null&&d(e,["responseModalities"],b);const w=f(t,["responseSchema"]);w!=null&&d(e,["responseSchema"],w);const A=f(t,["routingConfig"]);A!=null&&d(e,["routingConfig"],A);const R=f(t,["seed"]);R!=null&&d(e,["seed"],R);const P=f(t,["speechConfig"]);P!=null&&d(e,["speechConfig"],P);const U=f(t,["stopSequences"]);U!=null&&d(e,["stopSequences"],U);const J=f(t,["temperature"]);J!=null&&d(e,["temperature"],J);const H=f(t,["thinkingConfig"]);H!=null&&d(e,["thinkingConfig"],H);const q=f(t,["topK"]);q!=null&&d(e,["topK"],q);const z=f(t,["topP"]);if(z!=null&&d(e,["topP"],z),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function cD(t,e){const i={},s=f(e,["model"]);return s!=null&&d(i,["_url","name"],Me(t,s)),i}function fD(t,e){const i={},s=f(e,["model"]);return s!=null&&d(i,["_url","name"],Me(t,s)),i}function dD(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=f(t,["enableWidget"]);return i!=null&&d(e,["enableWidget"],i),e}function pD(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=f(t,["timeRangeFilter"]);return i!=null&&d(e,["timeRangeFilter"],i),e}function hD(t){const e={},i=f(t,["aspectRatio"]);i!=null&&d(e,["aspectRatio"],i);const s=f(t,["imageSize"]);if(s!=null&&d(e,["imageSize"],s),f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function mD(t){const e={},i=f(t,["aspectRatio"]);i!=null&&d(e,["aspectRatio"],i);const s=f(t,["imageSize"]);s!=null&&d(e,["imageSize"],s);const a=f(t,["outputMimeType"]);a!=null&&d(e,["imageOutputOptions","mimeType"],a);const u=f(t,["outputCompressionQuality"]);return u!=null&&d(e,["imageOutputOptions","compressionQuality"],u),e}function gD(t){const e={},i=f(t,["bytesBase64Encoded"]);i!=null&&d(e,["imageBytes"],mi(i));const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function Ux(t){const e={},i=f(t,["gcsUri"]);i!=null&&d(e,["gcsUri"],i);const s=f(t,["bytesBase64Encoded"]);s!=null&&d(e,["imageBytes"],mi(s));const a=f(t,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}function hr(t){const e={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=f(t,["imageBytes"]);i!=null&&d(e,["bytesBase64Encoded"],mi(i));const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function rn(t){const e={},i=f(t,["gcsUri"]);i!=null&&d(e,["gcsUri"],i);const s=f(t,["imageBytes"]);s!=null&&d(e,["bytesBase64Encoded"],mi(s));const a=f(t,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}function yD(t,e,i){const s={},a=f(e,["pageSize"]);i!==void 0&&a!=null&&d(i,["_query","pageSize"],a);const u=f(e,["pageToken"]);i!==void 0&&u!=null&&d(i,["_query","pageToken"],u);const c=f(e,["filter"]);i!==void 0&&c!=null&&d(i,["_query","filter"],c);const p=f(e,["queryBase"]);return i!==void 0&&p!=null&&d(i,["_url","models_url"],bx(t,p)),s}function vD(t,e,i){const s={},a=f(e,["pageSize"]);i!==void 0&&a!=null&&d(i,["_query","pageSize"],a);const u=f(e,["pageToken"]);i!==void 0&&u!=null&&d(i,["_query","pageToken"],u);const c=f(e,["filter"]);i!==void 0&&c!=null&&d(i,["_query","filter"],c);const p=f(e,["queryBase"]);return i!==void 0&&p!=null&&d(i,["_url","models_url"],bx(t,p)),s}function TD(t,e){const i={},s=f(e,["config"]);return s!=null&&yD(t,s,i),i}function xD(t,e){const i={},s=f(e,["config"]);return s!=null&&vD(t,s,i),i}function SD(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const a=f(t,["_self"]);if(a!=null){let u=Nx(a);Array.isArray(u)&&(u=u.map(c=>Nf(c))),d(e,["models"],u)}return e}function ED(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const a=f(t,["_self"]);if(a!=null){let u=Nx(a);Array.isArray(u)&&(u=u.map(c=>Rf(c))),d(e,["models"],u)}return e}function _D(t){const e={},i=f(t,["maskMode"]);i!=null&&d(e,["maskMode"],i);const s=f(t,["segmentationClasses"]);s!=null&&d(e,["maskClasses"],s);const a=f(t,["maskDilation"]);return a!=null&&d(e,["dilation"],a),e}function Nf(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const s=f(t,["displayName"]);s!=null&&d(e,["displayName"],s);const a=f(t,["description"]);a!=null&&d(e,["description"],a);const u=f(t,["version"]);u!=null&&d(e,["version"],u);const c=f(t,["_self"]);c!=null&&d(e,["tunedModelInfo"],BD(c));const p=f(t,["inputTokenLimit"]);p!=null&&d(e,["inputTokenLimit"],p);const g=f(t,["outputTokenLimit"]);g!=null&&d(e,["outputTokenLimit"],g);const h=f(t,["supportedGenerationMethods"]);h!=null&&d(e,["supportedActions"],h);const v=f(t,["temperature"]);v!=null&&d(e,["temperature"],v);const T=f(t,["maxTemperature"]);T!=null&&d(e,["maxTemperature"],T);const x=f(t,["topP"]);x!=null&&d(e,["topP"],x);const _=f(t,["topK"]);_!=null&&d(e,["topK"],_);const b=f(t,["thinking"]);return b!=null&&d(e,["thinking"],b),e}function Rf(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const s=f(t,["displayName"]);s!=null&&d(e,["displayName"],s);const a=f(t,["description"]);a!=null&&d(e,["description"],a);const u=f(t,["versionId"]);u!=null&&d(e,["version"],u);const c=f(t,["deployedModels"]);if(c!=null){let T=c;Array.isArray(T)&&(T=T.map(x=>V2(x))),d(e,["endpoints"],T)}const p=f(t,["labels"]);p!=null&&d(e,["labels"],p);const g=f(t,["_self"]);g!=null&&d(e,["tunedModelInfo"],HD(g));const h=f(t,["defaultCheckpointId"]);h!=null&&d(e,["defaultCheckpointId"],h);const v=f(t,["checkpoints"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(x=>x)),d(e,["checkpoints"],T)}return e}function CD(t){const e={},i=f(t,["mediaResolution"]);i!=null&&d(e,["mediaResolution"],i);const s=f(t,["codeExecutionResult"]);s!=null&&d(e,["codeExecutionResult"],s);const a=f(t,["executableCode"]);a!=null&&d(e,["executableCode"],a);const u=f(t,["fileData"]);u!=null&&d(e,["fileData"],k2(u));const c=f(t,["functionCall"]);c!=null&&d(e,["functionCall"],G2(c));const p=f(t,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const g=f(t,["inlineData"]);g!=null&&d(e,["inlineData"],u2(g));const h=f(t,["text"]);h!=null&&d(e,["text"],h);const v=f(t,["thought"]);v!=null&&d(e,["thought"],v);const T=f(t,["thoughtSignature"]);T!=null&&d(e,["thoughtSignature"],T);const x=f(t,["videoMetadata"]);return x!=null&&d(e,["videoMetadata"],x),e}function AD(t){const e={},i=f(t,["productImage"]);return i!=null&&d(e,["image"],rn(i)),e}function bD(t,e){const i={},s=f(t,["numberOfImages"]);e!==void 0&&s!=null&&d(e,["parameters","sampleCount"],s);const a=f(t,["baseSteps"]);e!==void 0&&a!=null&&d(e,["parameters","baseSteps"],a);const u=f(t,["outputGcsUri"]);e!==void 0&&u!=null&&d(e,["parameters","storageUri"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&d(e,["parameters","seed"],c);const p=f(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&d(e,["parameters","safetySetting"],p);const g=f(t,["personGeneration"]);e!==void 0&&g!=null&&d(e,["parameters","personGeneration"],g);const h=f(t,["addWatermark"]);e!==void 0&&h!=null&&d(e,["parameters","addWatermark"],h);const v=f(t,["outputMimeType"]);e!==void 0&&v!=null&&d(e,["parameters","outputOptions","mimeType"],v);const T=f(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&d(e,["parameters","outputOptions","compressionQuality"],T);const x=f(t,["enhancePrompt"]);e!==void 0&&x!=null&&d(e,["parameters","enhancePrompt"],x);const _=f(t,["labels"]);return e!==void 0&&_!=null&&d(e,["labels"],_),i}function ND(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Me(t,s));const a=f(e,["source"]);a!=null&&wD(a,i);const u=f(e,["config"]);return u!=null&&bD(u,i),i}function RD(t){const e={},i=f(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>pr(a))),d(e,["generatedImages"],s)}return e}function wD(t,e){const i={},s=f(t,["prompt"]);e!==void 0&&s!=null&&d(e,["instances[0]","prompt"],s);const a=f(t,["personImage"]);e!==void 0&&a!=null&&d(e,["instances[0]","personImage","image"],rn(a));const u=f(t,["productImages"]);if(e!==void 0&&u!=null){let c=u;Array.isArray(c)&&(c=c.map(p=>AD(p))),d(e,["instances[0]","productImages"],c)}return i}function MD(t){const e={},i=f(t,["referenceImage"]);i!=null&&d(e,["referenceImage"],rn(i));const s=f(t,["referenceId"]);s!=null&&d(e,["referenceId"],s);const a=f(t,["referenceType"]);a!=null&&d(e,["referenceType"],a);const u=f(t,["maskImageConfig"]);u!=null&&d(e,["maskImageConfig"],_D(u));const c=f(t,["controlImageConfig"]);c!=null&&d(e,["controlImageConfig"],g2(c));const p=f(t,["styleImageConfig"]);p!=null&&d(e,["styleImageConfig"],p);const g=f(t,["subjectImageConfig"]);return g!=null&&d(e,["subjectImageConfig"],g),e}function Lx(t){const e={},i=f(t,["safetyAttributes","categories"]);i!=null&&d(e,["categories"],i);const s=f(t,["safetyAttributes","scores"]);s!=null&&d(e,["scores"],s);const a=f(t,["contentType"]);return a!=null&&d(e,["contentType"],a),e}function Px(t){const e={},i=f(t,["safetyAttributes","categories"]);i!=null&&d(e,["categories"],i);const s=f(t,["safetyAttributes","scores"]);s!=null&&d(e,["scores"],s);const a=f(t,["contentType"]);return a!=null&&d(e,["contentType"],a),e}function DD(t){const e={},i=f(t,["category"]);if(i!=null&&d(e,["category"],i),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=f(t,["threshold"]);return s!=null&&d(e,["threshold"],s),e}function ID(t){const e={},i=f(t,["image"]);return i!=null&&d(e,["image"],rn(i)),e}function UD(t,e){const i={},s=f(t,["mode"]);e!==void 0&&s!=null&&d(e,["parameters","mode"],s);const a=f(t,["maxPredictions"]);e!==void 0&&a!=null&&d(e,["parameters","maxPredictions"],a);const u=f(t,["confidenceThreshold"]);e!==void 0&&u!=null&&d(e,["parameters","confidenceThreshold"],u);const c=f(t,["maskDilation"]);e!==void 0&&c!=null&&d(e,["parameters","maskDilation"],c);const p=f(t,["binaryColorThreshold"]);e!==void 0&&p!=null&&d(e,["parameters","binaryColorThreshold"],p);const g=f(t,["labels"]);return e!==void 0&&g!=null&&d(e,["labels"],g),i}function LD(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Me(t,s));const a=f(e,["source"]);a!=null&&VD(a,i);const u=f(e,["config"]);return u!=null&&UD(u,i),i}function PD(t){const e={},i=f(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>lD(a))),d(e,["generatedMasks"],s)}return e}function VD(t,e){const i={},s=f(t,["prompt"]);e!==void 0&&s!=null&&d(e,["instances[0]","prompt"],s);const a=f(t,["image"]);e!==void 0&&a!=null&&d(e,["instances[0]","image"],rn(a));const u=f(t,["scribbleImage"]);return e!==void 0&&u!=null&&d(e,["instances[0]","scribble"],ID(u)),i}function kD(t){const e={},i=f(t,["functionCallingConfig"]);i!=null&&d(e,["functionCallingConfig"],B2(i));const s=f(t,["retrievalConfig"]);return s!=null&&d(e,["retrievalConfig"],s),e}function GD(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(T=>T)),d(e,["functionDeclarations"],v)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=f(t,["googleSearchRetrieval"]);s!=null&&d(e,["googleSearchRetrieval"],s);const a=f(t,["computerUse"]);a!=null&&d(e,["computerUse"],a);const u=f(t,["fileSearch"]);u!=null&&d(e,["fileSearch"],u);const c=f(t,["codeExecution"]);if(c!=null&&d(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=f(t,["googleMaps"]);p!=null&&d(e,["googleMaps"],dD(p));const g=f(t,["googleSearch"]);g!=null&&d(e,["googleSearch"],pD(g));const h=f(t,["urlContext"]);return h!=null&&d(e,["urlContext"],h),e}function Vx(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let T=i;Array.isArray(T)&&(T=T.map(x=>H2(x))),d(e,["functionDeclarations"],T)}const s=f(t,["retrieval"]);s!=null&&d(e,["retrieval"],s);const a=f(t,["googleSearchRetrieval"]);a!=null&&d(e,["googleSearchRetrieval"],a);const u=f(t,["computerUse"]);if(u!=null&&d(e,["computerUse"],u),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=f(t,["codeExecution"]);c!=null&&d(e,["codeExecution"],c);const p=f(t,["enterpriseWebSearch"]);p!=null&&d(e,["enterpriseWebSearch"],p);const g=f(t,["googleMaps"]);g!=null&&d(e,["googleMaps"],g);const h=f(t,["googleSearch"]);h!=null&&d(e,["googleSearch"],h);const v=f(t,["urlContext"]);return v!=null&&d(e,["urlContext"],v),e}function BD(t){const e={},i=f(t,["baseModel"]);i!=null&&d(e,["baseModel"],i);const s=f(t,["createTime"]);s!=null&&d(e,["createTime"],s);const a=f(t,["updateTime"]);return a!=null&&d(e,["updateTime"],a),e}function HD(t){const e={},i=f(t,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&d(e,["baseModel"],i);const s=f(t,["createTime"]);s!=null&&d(e,["createTime"],s);const a=f(t,["updateTime"]);return a!=null&&d(e,["updateTime"],a),e}function zD(t,e){const i={},s=f(t,["displayName"]);e!==void 0&&s!=null&&d(e,["displayName"],s);const a=f(t,["description"]);e!==void 0&&a!=null&&d(e,["description"],a);const u=f(t,["defaultCheckpointId"]);return e!==void 0&&u!=null&&d(e,["defaultCheckpointId"],u),i}function OD(t,e){const i={},s=f(t,["displayName"]);e!==void 0&&s!=null&&d(e,["displayName"],s);const a=f(t,["description"]);e!==void 0&&a!=null&&d(e,["description"],a);const u=f(t,["defaultCheckpointId"]);return e!==void 0&&u!=null&&d(e,["defaultCheckpointId"],u),i}function qD(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","name"],Me(t,s));const a=f(e,["config"]);return a!=null&&zD(a,i),i}function FD(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Me(t,s));const a=f(e,["config"]);return a!=null&&OD(a,i),i}function YD(t,e){const i={},s=f(t,["outputGcsUri"]);e!==void 0&&s!=null&&d(e,["parameters","storageUri"],s);const a=f(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&d(e,["parameters","safetySetting"],a);const u=f(t,["personGeneration"]);e!==void 0&&u!=null&&d(e,["parameters","personGeneration"],u);const c=f(t,["includeRaiReason"]);e!==void 0&&c!=null&&d(e,["parameters","includeRaiReason"],c);const p=f(t,["outputMimeType"]);e!==void 0&&p!=null&&d(e,["parameters","outputOptions","mimeType"],p);const g=f(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&d(e,["parameters","outputOptions","compressionQuality"],g);const h=f(t,["enhanceInputImage"]);e!==void 0&&h!=null&&d(e,["parameters","upscaleConfig","enhanceInputImage"],h);const v=f(t,["imagePreservationFactor"]);e!==void 0&&v!=null&&d(e,["parameters","upscaleConfig","imagePreservationFactor"],v);const T=f(t,["labels"]);e!==void 0&&T!=null&&d(e,["labels"],T);const x=f(t,["numberOfImages"]);e!==void 0&&x!=null&&d(e,["parameters","sampleCount"],x);const _=f(t,["mode"]);return e!==void 0&&_!=null&&d(e,["parameters","mode"],_),i}function JD(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["_url","model"],Me(t,s));const a=f(e,["image"]);a!=null&&d(i,["instances[0]","image"],rn(a));const u=f(e,["upscaleFactor"]);u!=null&&d(i,["parameters","upscaleConfig","upscaleFactor"],u);const c=f(e,["config"]);return c!=null&&YD(c,i),i}function KD(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["predictions"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>pr(u))),d(e,["generatedImages"],a)}return e}function XD(t){const e={},i=f(t,["uri"]);i!=null&&d(e,["uri"],i);const s=f(t,["encodedVideo"]);s!=null&&d(e,["videoBytes"],mi(s));const a=f(t,["encoding"]);return a!=null&&d(e,["mimeType"],a),e}function QD(t){const e={},i=f(t,["gcsUri"]);i!=null&&d(e,["uri"],i);const s=f(t,["bytesBase64Encoded"]);s!=null&&d(e,["videoBytes"],mi(s));const a=f(t,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}function $D(t){const e={},i=f(t,["image"]);i!=null&&d(e,["_self"],rn(i));const s=f(t,["maskMode"]);return s!=null&&d(e,["maskMode"],s),e}function ZD(t){const e={},i=f(t,["image"]);i!=null&&d(e,["image"],hr(i));const s=f(t,["referenceType"]);return s!=null&&d(e,["referenceType"],s),e}function jD(t){const e={},i=f(t,["image"]);i!=null&&d(e,["image"],rn(i));const s=f(t,["referenceType"]);return s!=null&&d(e,["referenceType"],s),e}function kx(t){const e={},i=f(t,["uri"]);i!=null&&d(e,["uri"],i);const s=f(t,["videoBytes"]);s!=null&&d(e,["encodedVideo"],mi(s));const a=f(t,["mimeType"]);return a!=null&&d(e,["encoding"],a),e}function Gx(t){const e={},i=f(t,["uri"]);i!=null&&d(e,["gcsUri"],i);const s=f(t,["videoBytes"]);s!=null&&d(e,["bytesBase64Encoded"],mi(s));const a=f(t,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WD(t,e){const i={},s=f(t,["displayName"]);return e!==void 0&&s!=null&&d(e,["displayName"],s),i}function eI(t){const e={},i=f(t,["config"]);return i!=null&&WD(i,e),e}function tI(t,e){const i={},s=f(t,["force"]);return e!==void 0&&s!=null&&d(e,["_query","force"],s),i}function nI(t){const e={},i=f(t,["name"]);i!=null&&d(e,["_url","name"],i);const s=f(t,["config"]);return s!=null&&tI(s,e),e}function iI(t){const e={},i=f(t,["name"]);return i!=null&&d(e,["_url","name"],i),e}function oI(t,e){const i={},s=f(t,["customMetadata"]);if(e!==void 0&&s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>c)),d(e,["customMetadata"],u)}const a=f(t,["chunkingConfig"]);return e!==void 0&&a!=null&&d(e,["chunkingConfig"],a),i}function sI(t){const e={},i=f(t,["name"]);i!=null&&d(e,["name"],i);const s=f(t,["metadata"]);s!=null&&d(e,["metadata"],s);const a=f(t,["done"]);a!=null&&d(e,["done"],a);const u=f(t,["error"]);u!=null&&d(e,["error"],u);const c=f(t,["response"]);return c!=null&&d(e,["response"],aI(c)),e}function lI(t){const e={},i=f(t,["fileSearchStoreName"]);i!=null&&d(e,["_url","file_search_store_name"],i);const s=f(t,["fileName"]);s!=null&&d(e,["fileName"],s);const a=f(t,["config"]);return a!=null&&oI(a,e),e}function aI(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["parent"]);s!=null&&d(e,["parent"],s);const a=f(t,["documentName"]);return a!=null&&d(e,["documentName"],a),e}function rI(t,e){const i={},s=f(t,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const a=f(t,["pageToken"]);return e!==void 0&&a!=null&&d(e,["_query","pageToken"],a),i}function uI(t){const e={},i=f(t,["config"]);return i!=null&&rI(i,e),e}function cI(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const a=f(t,["fileSearchStores"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>c)),d(e,["fileSearchStores"],u)}return e}function Bx(t,e){const i={},s=f(t,["mimeType"]);e!==void 0&&s!=null&&d(e,["mimeType"],s);const a=f(t,["displayName"]);e!==void 0&&a!=null&&d(e,["displayName"],a);const u=f(t,["customMetadata"]);if(e!==void 0&&u!=null){let p=u;Array.isArray(p)&&(p=p.map(g=>g)),d(e,["customMetadata"],p)}const c=f(t,["chunkingConfig"]);return e!==void 0&&c!=null&&d(e,["chunkingConfig"],c),i}function fI(t){const e={},i=f(t,["fileSearchStoreName"]);i!=null&&d(e,["_url","file_search_store_name"],i);const s=f(t,["config"]);return s!=null&&Bx(s,e),e}function dI(t){const e={},i=f(t,["sdkHttpResponse"]);return i!=null&&d(e,["sdkHttpResponse"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pI="Content-Type",hI="X-Server-Timeout",mI="User-Agent",wf="x-goog-api-client",gI="1.34.0",yI=`google-genai-sdk/${gI}`,vI="v1beta1",TI="v1beta";class xI{constructor(e){var i,s;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:vI,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:TI,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&s.push(e.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,s){const a=[this.getRequestUrlInternal(i)];return s&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,i,s);if(e.queryParams)for(const[c,p]of Object.entries(e.queryParams))a.searchParams.append(c,String(p));let u={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=e.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,i,a.toString(),e.abortSignal),this.unaryApiCall(a,u,e.httpMethod)}patchHttpOptions(e,i){const s=JSON.parse(JSON.stringify(e));for(const[a,u]of Object.entries(i))typeof u=="object"?s[a]=Object.assign(Object.assign({},s[a]),u):u!==void 0&&(s[a]=u);return s}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,i,s);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let u={};return u.body=e.body,u=await this.includeExtraHttpOptionsToRequestInit(u,i,a.toString(),e.abortSignal),this.streamApiCall(a,u,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,s,a){if(i&&i.timeout||a){const u=new AbortController,c=u.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const p=setTimeout(()=>u.abort(),i.timeout);p&&typeof p.unref=="function"&&p.unref()}a&&a.addEventListener("abort",()=>{u.abort()}),e.signal=c}return i&&i.extraBody!==null&&SI(e,i.extraBody),e.headers=await this.getHeadersInternal(i,s),e}async unaryApiCall(e,i,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:s})).then(async a=>(await _v(a),new Cf(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,i,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:s})).then(async a=>(await _v(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){return ln(this,arguments,function*(){var s;const a=(s=e==null?void 0:e.body)===null||s===void 0?void 0:s.getReader(),u=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let c="";const p="data:",g=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:v}=yield me(a.read());if(h){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const T=u.decode(v,{stream:!0});try{const b=JSON.parse(T);if("error"in b){const w=JSON.parse(JSON.stringify(b.error)),A=w.status,R=w.code,P=`got status: ${A}. ${JSON.stringify(b)}`;if(R>=400&&R<600)throw new fr({message:P,status:R})}}catch(b){if(b.name==="ApiError")throw b}c+=T;let x=-1,_=0;for(;;){x=-1,_=0;for(const A of g){const R=c.indexOf(A);R!==-1&&(x===-1||R<x)&&(x=R,_=A.length)}if(x===-1)break;const b=c.substring(0,x);c=c.substring(x+_);const w=b.trim();if(w.startsWith(p)){const A=w.substring(p.length).trim();try{const R=new Response(A,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield me(new Cf(R))}catch(R){throw new Error(`exception parsing stream chunk ${A}. ${R}`)}}}}}finally{a.releaseLock()}})}async apiCall(e,i){return fetch(e,i).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const e={},i=yI+" "+this.clientOptions.userAgentExtra;return e[mI]=i,e[wf]=i,e[pI]="application/json",e}async getHeadersInternal(e,i){const s=new Headers;if(e&&e.headers){for(const[a,u]of Object.entries(e.headers))s.append(a,u);e.timeout&&e.timeout>0&&s.append(hI,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,i),s}getFileName(e){var i;let s="";return typeof e=="string"&&(s=e.replace(/[/\\]+$/,""),s=(i=s.split(/[/\\]/).pop())!==null&&i!==void 0?i:""),s}async uploadFile(e,i){var s;const a={};i!=null&&(a.mimeType=i.mimeType,a.name=i.name,a.displayName=i.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const u=this.clientOptions.uploader,c=await u.stat(e);a.sizeBytes=String(c.size);const p=(s=i==null?void 0:i.mimeType)!==null&&s!==void 0?s:c.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=p;const g={file:a},h=this.getFileName(e),v=te("upload/v1beta/files",g._url),T=await this.fetchUploadUrl(v,a.sizeBytes,a.mimeType,h,g,i==null?void 0:i.httpOptions);return u.upload(e,T,this)}async uploadFileToFileSearchStore(e,i,s){var a;const u=this.clientOptions.uploader,c=await u.stat(i),p=String(c.size),g=(a=s==null?void 0:s.mimeType)!==null&&a!==void 0?a:c.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${e}:uploadToFileSearchStore`,v=this.getFileName(i),T={};s!=null&&Bx(s,T);const x=await this.fetchUploadUrl(h,p,g,v,T,s==null?void 0:s.httpOptions);return u.uploadToFileSearchStore(i,x,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i,s,a,u,c){var p;let g={};c?g=c:g={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i}`,"X-Goog-Upload-Header-Content-Type":`${s}`},a?{"X-Goog-Upload-File-Name":a}:{})};const h=await this.request({path:e,body:JSON.stringify(u),httpMethod:"POST",httpOptions:g});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(p=h==null?void 0:h.headers)===null||p===void 0?void 0:p["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function _v(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const i=t.status;let s;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?s=await t.json():s={error:{message:await t.text(),code:t.status,status:t.statusText}};const a=JSON.stringify(s);throw i>=400&&i<600?new fr({message:a,status:i}):new Error(a)}}function SI(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof t.body=="string"&&t.body.length>0)try{const u=JSON.parse(t.body);if(typeof u=="object"&&u!==null&&!Array.isArray(u))i=u;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(u,c){const p=Object.assign({},u);for(const g in c)if(Object.prototype.hasOwnProperty.call(c,g)){const h=c[g],v=p[g];h&&typeof h=="object"&&!Array.isArray(h)&&v&&typeof v=="object"&&!Array.isArray(v)?p[g]=s(v,h):(v&&h&&typeof v!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${g}". Original type: ${typeof v}, New type: ${typeof h}. Overwriting.`),p[g]=h)}return p}const a=s(i,e);t.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const EI="mcp_used/unknown";let _I=!1;function Hx(t){for(const e of t)if(CI(e)||typeof e=="object"&&"inputSchema"in e)return!0;return _I}function zx(t){var e;const i=(e=t[wf])!==null&&e!==void 0?e:"";t[wf]=(i+` ${EI}`).trimStart()}function CI(t){return t!==null&&typeof t=="object"&&t instanceof Cd}function AI(t){return ln(this,arguments,function*(i,s=100){let a,u=0;for(;u<s;){const c=yield me(i.listTools({cursor:a}));for(const p of c.tools)yield yield me(p),u++;if(!c.nextCursor)break;a=c.nextCursor}})}class Cd{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new Cd(e,i)}async initialize(){var e,i,s,a;if(this.mcpTools.length>0)return;const u={},c=[];for(const v of this.mcpClients)try{for(var p=!0,g=(i=void 0,an(AI(v))),h;h=await g.next(),e=h.done,!e;p=!0){a=h.value,p=!1;const T=a;c.push(T);const x=T.name;if(u[x])throw new Error(`Duplicate function name ${x} found in MCP tools. Please ensure function names are unique.`);u[x]=v}}catch(T){i={error:T}}finally{try{!p&&!e&&(s=g.return)&&await s.call(g)}finally{if(i)throw i.error}}this.mcpTools=c,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),iw(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const s of e)if(s.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[s.name];let u;this.config.timeout&&(u={timeout:this.config.timeout});const c=await a.callTool({name:s.name,arguments:s.args},void 0,u);i.push({functionResponse:{name:s.name,response:c.isError?{error:c}:c}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function bI(t,e,i){const s=new QR;let a;i.data instanceof Blob?a=JSON.parse(await i.data.text()):a=JSON.parse(i.data),Object.assign(s,a),e(s)}class NI{constructor(e,i,s){this.apiClient=e,this.auth=i,this.webSocketFactory=s}async connect(e){var i,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),c=MI(this.apiClient.getDefaultHeaders()),p=this.apiClient.getApiKey(),g=`${a}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${p}`;let h=()=>{};const v=new Promise(U=>{h=U}),T=e.callbacks,x=function(){h({})},_=this.apiClient,b={onopen:x,onmessage:U=>{bI(_,T.onmessage,U)},onerror:(i=T==null?void 0:T.onerror)!==null&&i!==void 0?i:function(U){},onclose:(s=T==null?void 0:T.onclose)!==null&&s!==void 0?s:function(U){}},w=this.webSocketFactory.create(g,wI(c),b);w.connect(),await v;const P={setup:{model:Me(this.apiClient,e.model)}};return w.send(JSON.stringify(P)),new RI(w,this.apiClient)}}class RI{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=e2(e);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=WM(e);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const i={playbackControl:e};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(Lo.PLAY)}pause(){this.sendPlaybackControl(Lo.PAUSE)}stop(){this.sendPlaybackControl(Lo.STOP)}resetContext(){this.sendPlaybackControl(Lo.RESET_CONTEXT)}close(){this.conn.close()}}function wI(t){const e={};return t.forEach((i,s)=>{e[s]=i}),e}function MI(t){const e=new Headers;for(const[i,s]of Object.entries(t))e.append(i,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DI="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function II(t,e,i){const s=new XR;let a;i.data instanceof Blob?a=await i.data.text():i.data instanceof ArrayBuffer?a=new TextDecoder().decode(i.data):a=i.data;const u=JSON.parse(a);if(t.isVertexAI()){const c=i2(u);Object.assign(s,c)}else Object.assign(s,u);e(s)}class UI{constructor(e,i,s){this.apiClient=e,this.auth=i,this.webSocketFactory=s,this.music=new NI(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,s,a,u,c,p;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const g=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const T=this.apiClient.getHeaders();e.config&&e.config.tools&&Hx(e.config.tools)&&zx(T);const x=kI(T);if(this.apiClient.isVertexAI())v=`${g}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(x,v);else{const Z=this.apiClient.getApiKey();let ie="BidiGenerateContent",pe="key";Z!=null&&Z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ie="BidiGenerateContentConstrained",pe="access_token"),v=`${g}/ws/google.ai.generativelanguage.${h}.GenerativeService.${ie}?${pe}=${Z}`}let _=()=>{};const b=new Promise(Z=>{_=Z}),w=e.callbacks,A=function(){var Z;(Z=w==null?void 0:w.onopen)===null||Z===void 0||Z.call(w),_({})},R=this.apiClient,P={onopen:A,onmessage:Z=>{II(R,w.onmessage,Z)},onerror:(i=w==null?void 0:w.onerror)!==null&&i!==void 0?i:function(Z){},onclose:(s=w==null?void 0:w.onclose)!==null&&s!==void 0?s:function(Z){}},U=this.webSocketFactory.create(v,VI(x),P);U.connect(),await b;let J=Me(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&J.startsWith("publishers/")){const Z=this.apiClient.getProject(),ie=this.apiClient.getLocation();J=`projects/${Z}/locations/${ie}/`+J}let H={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Wa.AUDIO]}:e.config.responseModalities=[Wa.AUDIO]),!((u=e.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const q=(p=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&p!==void 0?p:[],z=[];for(const Z of q)if(this.isCallableTool(Z)){const ie=Z;z.push(await ie.tool())}else z.push(Z);z.length>0&&(e.config.tools=z);const Q={model:J,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?H=jM(this.apiClient,Q):H=ZM(this.apiClient,Q),delete H.config,U.send(JSON.stringify(H)),new PI(U,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const LI={turnComplete:!0};class PI{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let s=[];try{s=Wt(i.turns),e.isVertexAI()||(s=s.map(a=>dr(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:s,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let s=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?s=i.functionResponses:s=[i.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const u of s){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!e.isVertexAI()&&!("id"in u))throw new Error(DI)}return{toolResponse:{functionResponses:s}}}sendClientContent(e){e=Object.assign(Object.assign({},LI),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:n2(e)}:i={realtimeInput:t2(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function VI(t){const e={};return t.forEach((i,s)=>{e[s]=i}),e}function kI(t){const e=new Headers;for(const[i,s]of Object.entries(t))e.append(i,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cv=10;function Av(t){var e,i,s;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const c of(i=t==null?void 0:t.tools)!==null&&i!==void 0?i:[])if(ko(c)){a=!0;break}if(!a)return!0;const u=(s=t==null?void 0:t.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function ko(t){return"callTool"in t&&typeof t.callTool=="function"}function GI(t){var e,i,s;return(s=(i=(e=t.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(a=>ko(a)))!==null&&s!==void 0?s:!1}function bv(t){var e;const i=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((s,a)=>{if(ko(s))return;const u=s;u.functionDeclarations&&u.functionDeclarations.length>0&&i.push(a)}),i}function Nv(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BI extends Gn{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var s,a,u,c,p;const g=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!GI(i)||Av(i.config))return await this.generateContentInternal(g);const h=bv(i);if(h.length>0){const w=h.map(A=>`tools[${A}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${w}.`)}let v,T;const x=Wt(g.contents),_=(u=(a=(s=g.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&u!==void 0?u:Cv;let b=0;for(;b<_&&(v=await this.generateContentInternal(g),!(!v.functionCalls||v.functionCalls.length===0));){const w=v.candidates[0].content,A=[];for(const R of(p=(c=i.config)===null||c===void 0?void 0:c.tools)!==null&&p!==void 0?p:[])if(ko(R)){const U=await R.callTool(v.functionCalls);A.push(...U)}b++,T={role:"user",parts:A},g.contents=Wt(g.contents),g.contents.push(w),g.contents.push(T),Nv(g.config)&&(x.push(w),x.push(T))}return Nv(g.config)&&(v.automaticFunctionCallingHistory=x),v},this.generateContentStream=async i=>{var s,a,u,c,p;if(this.maybeMoveToResponseJsonSchem(i),Av(i.config)){const T=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(T)}const g=bv(i);if(g.length>0){const T=g.map(x=>`tools[${x}]`).join(", ");throw new Error(`Incompatible tools found at ${T}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(u=(a=(s=i==null?void 0:i.config)===null||s===void 0?void 0:s.toolConfig)===null||a===void 0?void 0:a.functionCallingConfig)===null||u===void 0?void 0:u.streamFunctionCallArguments,v=(p=(c=i==null?void 0:i.config)===null||c===void 0?void 0:c.automaticFunctionCalling)===null||p===void 0?void 0:p.disable;if(h&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(s=>{var a;let u;const c=[];if(s!=null&&s.generatedImages)for(const g of s.generatedImages)g&&(g!=null&&g.safetyAttributes)&&((a=g==null?void 0:g.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?u=g==null?void 0:g.safetyAttributes:c.push(g);let p;return u?p={generatedImages:c,positivePromptSafetyAttributes:u,sdkHttpResponse:s.sdkHttpResponse}:p={generatedImages:c,sdkHttpResponse:s.sdkHttpResponse},p}),this.list=async i=>{var s;const c={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((s=c.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new Oi(kn.PAGED_ITEM_MODELS,p=>this.listInternal(p),await this.listInternal(c),c)},this.editImage=async i=>{const s={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(s.referenceImages=i.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async i=>{let s={numberOfImages:1,mode:"upscale"};i.config&&(s=Object.assign(Object.assign({},s),i.config));const a={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:s};return await this.upscaleImageInternal(a)},this.generateVideos=async i=>{var s,a,u,c,p,g;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=i.video)===null||s===void 0)&&s.uri&&(!((a=i.video)===null||a===void 0)&&a.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((c=(u=i.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.uri&&(!((g=(p=i.source)===null||p===void 0?void 0:p.video)===null||g===void 0)&&g.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,s,a;const u=(i=e.config)===null||i===void 0?void 0:i.tools;if(!u)return e;const c=await Promise.all(u.map(async g=>ko(g)?await g.tool():g)),p={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(p.config.tools=c,e.config&&e.config.tools&&Hx(e.config.tools)){const g=(a=(s=e.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&a!==void 0?a:{};let h=Object.assign({},g);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),zx(h),p.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return p}async initAfcToolsMap(e){var i,s,a;const u=new Map;for(const c of(s=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&s!==void 0?s:[])if(ko(c)){const p=c,g=await p.tool();for(const h of(a=g.functionDeclarations)!==null&&a!==void 0?a:[]){if(!h.name)throw new Error("Function declaration name is required.");if(u.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);u.set(h.name,p)}}return u}async processAfcStream(e){var i,s,a;const u=(a=(s=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&a!==void 0?a:Cv;let c=!1,p=0;const g=await this.initAfcToolsMap(e);return(function(h,v,T){return ln(this,arguments,function*(){for(var x,_,b,w,A,R;p<u;){c&&(p++,c=!1);const H=yield me(h.processParamsMaybeAddMcpUsage(T)),q=yield me(h.generateContentStreamInternal(H)),z=[],Q=[];try{for(var P=!0,U=(_=void 0,an(q)),J;J=yield me(U.next()),x=J.done,!x;P=!0){w=J.value,P=!1;const Z=w;if(yield yield me(Z),Z.candidates&&(!((A=Z.candidates[0])===null||A===void 0)&&A.content)){Q.push(Z.candidates[0].content);for(const ie of(R=Z.candidates[0].content.parts)!==null&&R!==void 0?R:[])if(p<u&&ie.functionCall){if(!ie.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ie.functionCall.name)){const pe=yield me(v.get(ie.functionCall.name).callTool([ie.functionCall]));z.push(...pe)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ie.functionCall.name}`)}}}}catch(Z){_={error:Z}}finally{try{!P&&!x&&(b=U.return)&&(yield me(b.call(U)))}finally{if(_)throw _.error}}if(z.length>0){c=!0;const Z=new Os;Z.candidates=[{content:{role:"user",parts:z}}],yield yield me(Z);const ie=[];ie.push(...Q),ie.push({role:"user",parts:z});const pe=Wt(T.contents).concat(ie);T.contents=pe}else break}})})(this,g,e)}async generateContentInternal(e){var i,s,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=xv(this.apiClient,e);return p=te("{model}:generateContent",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const T=Ev(v),x=new Os;return Object.assign(x,T),x})}else{const h=Tv(this.apiClient,e);return p=te("{model}:generateContent",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const T=Sv(v),x=new Os;return Object.assign(x,T),x})}}async generateContentStreamInternal(e){var i,s,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=xv(this.apiClient,e);return p=te("{model}:streamGenerateContent?alt=sse",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.requestStream({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),c.then(function(T){return ln(this,arguments,function*(){var x,_,b,w;try{for(var A=!0,R=an(T),P;P=yield me(R.next()),x=P.done,!x;A=!0){w=P.value,A=!1;const U=w,J=Ev(yield me(U.json()));J.sdkHttpResponse={headers:U.headers};const H=new Os;Object.assign(H,J),yield yield me(H)}}catch(U){_={error:U}}finally{try{!A&&!x&&(b=R.return)&&(yield me(b.call(R)))}finally{if(_)throw _.error}}})})}else{const h=Tv(this.apiClient,e);return p=te("{model}:streamGenerateContent?alt=sse",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.requestStream({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}),c.then(function(T){return ln(this,arguments,function*(){var x,_,b,w;try{for(var A=!0,R=an(T),P;P=yield me(R.next()),x=P.done,!x;A=!0){w=P.value,A=!1;const U=w,J=Sv(yield me(U.json()));J.sdkHttpResponse={headers:U.headers};const H=new Os;Object.assign(H,J),yield yield me(H)}}catch(U){_={error:U}}finally{try{!A&&!x&&(b=R.return)&&(yield me(b.call(R)))}finally{if(_)throw _.error}}})})}}async embedContent(e){var i,s,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=U2(this.apiClient,e);return p=te("{model}:predict",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const T=P2(v),x=new nv;return Object.assign(x,T),x})}else{const h=I2(this.apiClient,e);return p=te("{model}:batchEmbedContents",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const T=L2(v),x=new nv;return Object.assign(x,T),x})}}async generateImagesInternal(e){var i,s,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=J2(this.apiClient,e);return p=te("{model}:predict",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const T=X2(v),x=new iv;return Object.assign(x,T),x})}else{const h=Y2(this.apiClient,e);return p=te("{model}:predict",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const T=K2(v),x=new iv;return Object.assign(x,T),x})}}async editImageInternal(e){var i,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const p=R2(this.apiClient,e);return u=te("{model}:predict",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:g.headers},v})),a.then(g=>{const h=w2(g),v=new kR;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const p=JD(this.apiClient,e);return u=te("{model}:predict",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:g.headers},v})),a.then(g=>{const h=KD(g),v=new GR;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var i,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const p=ND(this.apiClient,e);return u=te("{model}:predict",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),a.then(g=>{const h=RD(g),v=new BR;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var i,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const p=LD(this.apiClient,e);return u=te("{model}:predict",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),a.then(g=>{const h=PD(g),v=new HR;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,s,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=fD(this.apiClient,e);return p=te("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Rf(v))}else{const h=cD(this.apiClient,e);return p=te("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>Nf(v))}}async listInternal(e){var i,s,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=xD(this.apiClient,e);return p=te("{models_url}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const T=ED(v),x=new ov;return Object.assign(x,T),x})}else{const h=TD(this.apiClient,e);return p=te("{models_url}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const T=SD(v),x=new ov;return Object.assign(x,T),x})}}async update(e){var i,s,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=FD(this.apiClient,e);return p=te("{model}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Rf(v))}else{const h=qD(this.apiClient,e);return p=te("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>Nf(v))}}async delete(e){var i,s,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=C2(this.apiClient,e);return p=te("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const T=b2(v),x=new sv;return Object.assign(x,T),x})}else{const h=_2(this.apiClient,e);return p=te("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const T=A2(v),x=new sv;return Object.assign(x,T),x})}}async countTokens(e){var i,s,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=x2(this.apiClient,e);return p=te("{model}:countTokens",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const T=E2(v),x=new lv;return Object.assign(x,T),x})}else{const h=T2(this.apiClient,e);return p=te("{model}:countTokens",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const T=S2(v),x=new lv;return Object.assign(x,T),x})}}async computeTokens(e){var i,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const p=d2(this.apiClient,e);return u=te("{model}:computeTokens",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:g.headers},v})),a.then(g=>{const h=p2(g),v=new zR;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,s,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=eD(this.apiClient,e);return p=te("{model}:predictLongRunning",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const T=j2(v),x=new er;return Object.assign(x,T),x})}else{const h=W2(this.apiClient,e);return p=te("{model}:predictLongRunning",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c.then(v=>{const T=Z2(v),x=new er;return Object.assign(x,T),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HI extends Gn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,s=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let u;s&&"httpOptions"in s&&(u=s.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:u}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:s});return i._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(e){const i=e.operation,s=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let u;s&&"httpOptions"in s&&(u=s.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:u}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:s});return i._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(e){var i,s,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=DR(e);return p=te("{operationName}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c}else{const h=MR(e);return p=te("{operationName}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),c}}async fetchPredictVideosOperationInternal(e){var i,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const p=_R(e);return u=te("{resourceName}:fetchPredictOperation",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zI(t){const e={},i=f(t,["data"]);if(i!=null&&d(e,["data"],i),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function OI(t){const e={},i=f(t,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>ZI(u))),d(e,["parts"],a)}const s=f(t,["role"]);return s!=null&&d(e,["role"],s),e}function qI(t,e,i){const s={},a=f(e,["expireTime"]);i!==void 0&&a!=null&&d(i,["expireTime"],a);const u=f(e,["newSessionExpireTime"]);i!==void 0&&u!=null&&d(i,["newSessionExpireTime"],u);const c=f(e,["uses"]);i!==void 0&&c!=null&&d(i,["uses"],c);const p=f(e,["liveConnectConstraints"]);i!==void 0&&p!=null&&d(i,["bidiGenerateContentSetup"],$I(t,p));const g=f(e,["lockAdditionalFields"]);return i!==void 0&&g!=null&&d(i,["fieldMask"],g),s}function FI(t,e){const i={},s=f(e,["config"]);return s!=null&&d(i,["config"],qI(t,s,i)),i}function YI(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(t,["fileUri"]);i!=null&&d(e,["fileUri"],i);const s=f(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function JI(t){const e={},i=f(t,["id"]);i!=null&&d(e,["id"],i);const s=f(t,["args"]);s!=null&&d(e,["args"],s);const a=f(t,["name"]);if(a!=null&&d(e,["name"],a),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function KI(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=f(t,["enableWidget"]);return i!=null&&d(e,["enableWidget"],i),e}function XI(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=f(t,["timeRangeFilter"]);return i!=null&&d(e,["timeRangeFilter"],i),e}function QI(t,e){const i={},s=f(t,["generationConfig"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig"],s);const a=f(t,["responseModalities"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","responseModalities"],a);const u=f(t,["temperature"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","temperature"],u);const c=f(t,["topP"]);e!==void 0&&c!=null&&d(e,["setup","generationConfig","topP"],c);const p=f(t,["topK"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","topK"],p);const g=f(t,["maxOutputTokens"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","maxOutputTokens"],g);const h=f(t,["mediaResolution"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","mediaResolution"],h);const v=f(t,["seed"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","seed"],v);const T=f(t,["speechConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","speechConfig"],_d(T));const x=f(t,["thinkingConfig"]);e!==void 0&&x!=null&&d(e,["setup","generationConfig","thinkingConfig"],x);const _=f(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],_);const b=f(t,["systemInstruction"]);e!==void 0&&b!=null&&d(e,["setup","systemInstruction"],OI(yt(b)));const w=f(t,["tools"]);if(e!==void 0&&w!=null){let q=Fo(w);Array.isArray(q)&&(q=q.map(z=>WI(qo(z)))),d(e,["setup","tools"],q)}const A=f(t,["sessionResumption"]);e!==void 0&&A!=null&&d(e,["setup","sessionResumption"],jI(A));const R=f(t,["inputAudioTranscription"]);e!==void 0&&R!=null&&d(e,["setup","inputAudioTranscription"],R);const P=f(t,["outputAudioTranscription"]);e!==void 0&&P!=null&&d(e,["setup","outputAudioTranscription"],P);const U=f(t,["realtimeInputConfig"]);e!==void 0&&U!=null&&d(e,["setup","realtimeInputConfig"],U);const J=f(t,["contextWindowCompression"]);e!==void 0&&J!=null&&d(e,["setup","contextWindowCompression"],J);const H=f(t,["proactivity"]);if(e!==void 0&&H!=null&&d(e,["setup","proactivity"],H),f(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function $I(t,e){const i={},s=f(e,["model"]);s!=null&&d(i,["setup","model"],Me(t,s));const a=f(e,["config"]);return a!=null&&d(i,["config"],QI(a,i)),i}function ZI(t){const e={},i=f(t,["mediaResolution"]);i!=null&&d(e,["mediaResolution"],i);const s=f(t,["codeExecutionResult"]);s!=null&&d(e,["codeExecutionResult"],s);const a=f(t,["executableCode"]);a!=null&&d(e,["executableCode"],a);const u=f(t,["fileData"]);u!=null&&d(e,["fileData"],YI(u));const c=f(t,["functionCall"]);c!=null&&d(e,["functionCall"],JI(c));const p=f(t,["functionResponse"]);p!=null&&d(e,["functionResponse"],p);const g=f(t,["inlineData"]);g!=null&&d(e,["inlineData"],zI(g));const h=f(t,["text"]);h!=null&&d(e,["text"],h);const v=f(t,["thought"]);v!=null&&d(e,["thought"],v);const T=f(t,["thoughtSignature"]);T!=null&&d(e,["thoughtSignature"],T);const x=f(t,["videoMetadata"]);return x!=null&&d(e,["videoMetadata"],x),e}function jI(t){const e={},i=f(t,["handle"]);if(i!=null&&d(e,["handle"],i),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function WI(t){const e={},i=f(t,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(T=>T)),d(e,["functionDeclarations"],v)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=f(t,["googleSearchRetrieval"]);s!=null&&d(e,["googleSearchRetrieval"],s);const a=f(t,["computerUse"]);a!=null&&d(e,["computerUse"],a);const u=f(t,["fileSearch"]);u!=null&&d(e,["fileSearch"],u);const c=f(t,["codeExecution"]);if(c!=null&&d(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=f(t,["googleMaps"]);p!=null&&d(e,["googleMaps"],KI(p));const g=f(t,["googleSearch"]);g!=null&&d(e,["googleSearch"],XI(g));const h=f(t,["urlContext"]);return h!=null&&d(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function e5(t){const e=[];for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const s=t[i];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const a=Object.keys(s).map(u=>`${i}.${u}`);e.push(...a)}else e.push(i)}return e.join(",")}function t5(t,e){let i=null;const s=t.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const u=s.setup;typeof u=="object"&&u!==null?(t.bidiGenerateContentSetup=u,i=u):delete t.bidiGenerateContentSetup}else s!==void 0&&delete t.bidiGenerateContentSetup;const a=t.fieldMask;if(i){const u=e5(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)u?t.fieldMask=u:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let p=[];a.length>0&&(p=a.map(h=>c.includes(h)?`generationConfig.${h}`:h));const g=[];u&&g.push(u),p.length>0&&g.push(...p),g.length>0?t.fieldMask=g.join(","):delete t.fieldMask}else delete t.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?t.fieldMask=a.join(","):delete t.fieldMask;return t}class n5 extends Gn{constructor(e){super(),this.apiClient=e}async create(e){var i,s;let a,u="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const p=FI(this.apiClient,e);u=te("auth_tokens",p._url),c=p._query,delete p.config,delete p._url,delete p._query;const g=t5(p,e.config);return a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function i5(t,e){const i={},s=f(t,["force"]);return e!==void 0&&s!=null&&d(e,["_query","force"],s),i}function o5(t){const e={},i=f(t,["name"]);i!=null&&d(e,["_url","name"],i);const s=f(t,["config"]);return s!=null&&i5(s,e),e}function s5(t){const e={},i=f(t,["name"]);return i!=null&&d(e,["_url","name"],i),e}function l5(t,e){const i={},s=f(t,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const a=f(t,["pageToken"]);return e!==void 0&&a!=null&&d(e,["_query","pageToken"],a),i}function a5(t){const e={},i=f(t,["parent"]);i!=null&&d(e,["_url","parent"],i);const s=f(t,["config"]);return s!=null&&l5(s,e),e}function r5(t){const e={},i=f(t,["sdkHttpResponse"]);i!=null&&d(e,["sdkHttpResponse"],i);const s=f(t,["nextPageToken"]);s!=null&&d(e,["nextPageToken"],s);const a=f(t,["documents"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>c)),d(e,["documents"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class u5 extends Gn{constructor(e){super(),this.apiClient=e,this.list=async i=>new Oi(kn.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:i.parent,config:s.config}),await this.listInternal(i),i)}async get(e){var i,s;let a,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=s5(e);return u=te("{name}",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(e){var i,s;let a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=o5(e);a=te("{name}",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var i,s;let a,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=a5(e);return u=te("{parent}/documents",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),a.then(g=>{const h=r5(g),v=new OR;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class c5 extends Gn{constructor(e,i=new u5(e)){super(),this.apiClient=e,this.documents=i,this.list=async(s={})=>new Oi(kn.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(s),s)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var i,s;let a,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=eI(e);return u=te("fileSearchStores",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async get(e){var i,s;let a,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=iI(e);return u=te("{name}",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(e){var i,s;let a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=nI(e);a=te("{name}",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var i,s;let a,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=uI(e);return u=te("fileSearchStores",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),a.then(g=>{const h=cI(g),v=new qR;return Object.assign(v,h),v})}}async uploadToFileSearchStoreInternal(e){var i,s;let a,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=fI(e);return u=te("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),a.then(g=>{const h=dI(g),v=new FR;return Object.assign(v,h),v})}}async importFile(e){var i,s;let a,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=lI(e);return u=te("{file_search_store_name}:importFile",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),a.then(g=>{const h=sI(g),v=new vd;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Ox=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return Ox=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),i=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^i()&15>>+s/4).toString(16))};const f5=()=>Ox();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mf(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Df=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class en extends Error{}class xt extends en{constructor(e,i,s,a){super(`${xt.makeMessage(e,i,s)}`),this.status=e,this.headers=a,this.error=i}static makeMessage(e,i,s){const a=i!=null&&i.message?typeof i.message=="string"?i.message:JSON.stringify(i.message):i?JSON.stringify(i):s;return e&&a?`${e} ${a}`:e?`${e} status code (no body)`:a||"(no status code or body)"}static generate(e,i,s,a){if(!e||!a)return new mr({message:s,cause:Df(i)});const u=i;return e===400?new Fx(e,u,s,a):e===401?new Yx(e,u,s,a):e===403?new Jx(e,u,s,a):e===404?new Kx(e,u,s,a):e===409?new Xx(e,u,s,a):e===422?new Qx(e,u,s,a):e===429?new $x(e,u,s,a):e>=500?new Zx(e,u,s,a):new xt(e,u,s,a)}}class If extends xt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class mr extends xt{constructor({message:e,cause:i}){super(void 0,void 0,e||"Connection error.",void 0),i&&(this.cause=i)}}class qx extends mr{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Fx extends xt{}class Yx extends xt{}class Jx extends xt{}class Kx extends xt{}class Xx extends xt{}class Qx extends xt{}class $x extends xt{}class Zx extends xt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const d5=/^[a-z][a-z0-9+.-]*:/i,p5=t=>d5.test(t);let Uf=t=>(Uf=Array.isArray,Uf(t));const h5=Uf;let m5=h5;const Rv=m5;function g5(t){if(!t)return!0;for(const e in t)return!1;return!0}function y5(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const v5=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new en(`${t} must be an integer`);if(e<0)throw new en(`${t} must be a positive integer`);return e},T5=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const x5=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ro="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function S5(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const E5=()=>{var t,e,i,s,a;const u=S5();if(u==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ro,"X-Stainless-OS":Mv(Deno.build.os),"X-Stainless-Arch":wv(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ro,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(u==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ro,"X-Stainless-OS":Mv((i=globalThis.process.platform)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Arch":wv((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(a=globalThis.process.version)!==null&&a!==void 0?a:"unknown"};const c=_5();return c?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ro,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${c.browser}`,"X-Stainless-Runtime-Version":c.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ro,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function _5(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:i}of t){const s=i.exec(navigator.userAgent);if(s){const a=s[1]||0,u=s[2]||0,c=s[3]||0;return{browser:e,version:`${a}.${u}.${c}`}}}return null}const wv=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Mv=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let La;const C5=()=>La??(La=E5());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function A5(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function jx(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function b5(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return jx({start(){},async pull(i){const{done:s,value:a}=await e.next();s?i.close():i.enqueue(a)},async cancel(){var i;await((i=e.return)===null||i===void 0?void 0:i.call(e))}})}function Wx(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const i=await e.read();return i!=null&&i.done&&e.releaseLock(),i}catch(i){throw e.releaseLock(),i}},async return(){const i=e.cancel();return e.releaseLock(),await i,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function N5(t){var e,i;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((i=(e=t[Symbol.asyncIterator]()).return)===null||i===void 0?void 0:i.call(e));return}const s=t.getReader(),a=s.cancel();s.releaseLock(),await a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const R5=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eS=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,i=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(i?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function nf(t,e,i){return eS(),new File(t,e??"unknown_file",i)}function w5(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const M5=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tS=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",D5=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&tS(t),I5=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function U5(t,e,i){if(eS(),t=await t,D5(t))return t instanceof File?t:nf([await t.arrayBuffer()],t.name);if(I5(t)){const a=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),nf(await Lf(a),e,i)}const s=await Lf(t);if(e||(e=w5(t)),!(i!=null&&i.type)){const a=s.find(u=>typeof u=="object"&&"type"in u&&u.type);typeof a=="string"&&(i=Object.assign(Object.assign({},i),{type:a}))}return nf(s,e,i)}async function Lf(t){var e,i,s,a,u;let c=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)c.push(t);else if(tS(t))c.push(t instanceof Blob?t:await t.arrayBuffer());else if(M5(t))try{for(var p=!0,g=an(t),h;h=await g.next(),e=h.done,!e;p=!0){a=h.value,p=!1;const v=a;c.push(...await Lf(v))}}catch(v){i={error:v}}finally{try{!p&&!e&&(s=g.return)&&await s.call(g)}finally{if(i)throw i.error}}else{const v=(u=t==null?void 0:t.constructor)===null||u===void 0?void 0:u.name;throw new Error(`Unexpected data type: ${typeof t}${v?`; constructor: ${v}`:""}${L5(t)}`)}return c}function L5(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(i=>`"${i}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nS{constructor(e){this._client=e}}nS._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iS(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Dv=Object.freeze(Object.create(null)),P5=(t=iS)=>(function(i,...s){if(i.length===1)return i[0];let a=!1;const u=[],c=i.reduce((v,T,x)=>{var _,b,w;/[?#]/.test(T)&&(a=!0);const A=s[x];let R=(a?encodeURIComponent:t)(""+A);return x!==s.length&&(A==null||typeof A=="object"&&A.toString===((w=Object.getPrototypeOf((b=Object.getPrototypeOf((_=A.hasOwnProperty)!==null&&_!==void 0?_:Dv))!==null&&b!==void 0?b:Dv))===null||w===void 0?void 0:w.toString))&&(R=A+"",u.push({start:v.length+T.length,length:R.length,error:`Value of type ${Object.prototype.toString.call(A).slice(8,-1)} is not a valid path parameter`})),v+T+(x===s.length?"":R)},""),p=c.split(/[?#]/,1)[0],g=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=g.exec(p))!==null;)u.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(u.sort((v,T)=>v.start-T.start),u.length>0){let v=0;const T=u.reduce((x,_)=>{const b=" ".repeat(_.start-v),w="^".repeat(_.length);return v=_.start+_.length,x+b+w},"");throw new en(`Path parameters result in path with invalid segments:
${u.map(x=>x.error).join(`
`)}
${c}
${T}`)}return c}),Pa=P5(iS);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oS extends nS{create(e,i){var s;const{api_version:a=this._client.apiVersion}=e,u=nr(e,["api_version"]);if("model"in u&&"agent_config"in u)throw new en("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in u&&"generation_config"in u)throw new en("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Pa`/${a}/interactions`,Object.assign(Object.assign({body:u},i),{stream:(s=e.stream)!==null&&s!==void 0?s:!1}))}delete(e,i={},s){const{api_version:a=this._client.apiVersion}=i??{};return this._client.delete(Pa`/${a}/interactions/${e}`,s)}cancel(e,i={},s){const{api_version:a=this._client.apiVersion}=i??{};return this._client.post(Pa`/${a}/interactions/${e}/cancel`,s)}get(e,i={},s){var a;const u=i??{},{api_version:c=this._client.apiVersion}=u,p=nr(u,["api_version"]);return this._client.get(Pa`/${c}/interactions/${e}`,Object.assign(Object.assign({query:p},s),{stream:(a=i==null?void 0:i.stream)!==null&&a!==void 0?a:!1}))}}oS._key=Object.freeze(["interactions"]);class sS extends oS{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function V5(t){let e=0;for(const a of t)e+=a.length;const i=new Uint8Array(e);let s=0;for(const a of t)i.set(a,s),s+=a.length;return i}let Va;function Ad(t){let e;return(Va??(e=new globalThis.TextEncoder,Va=e.encode.bind(e)))(t)}let ka;function Iv(t){let e;return(ka??(e=new globalThis.TextDecoder,ka=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gr{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const i=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Ad(e):e;this.buffer=V5([this.buffer,i]);const s=[];let a;for(;(a=k5(this.buffer,this.carriageReturnIndex))!=null;){if(a.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=a.index;continue}if(this.carriageReturnIndex!=null&&(a.index!==this.carriageReturnIndex+1||a.carriage)){s.push(Iv(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const u=this.carriageReturnIndex!==null?a.preceding-1:a.preceding,c=Iv(this.buffer.subarray(0,u));s.push(c),this.buffer=this.buffer.subarray(a.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}gr.NEWLINE_CHARS=new Set([`
`,"\r"]);gr.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function k5(t,e){for(let a=e??0;a<t.length;a++){if(t[a]===10)return{preceding:a,index:a+1,carriage:!1};if(t[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function G5(t){for(let s=0;s<t.length-1;s++){if(t[s]===10&&t[s+1]===10||t[s]===13&&t[s+1]===13)return s+2;if(t[s]===13&&t[s+1]===10&&s+3<t.length&&t[s+2]===13&&t[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ir={off:0,error:200,warn:300,info:400,debug:500},Uv=(t,e,i)=>{if(t){if(y5(ir,t))return t;Tt(i).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(ir))}`)}};function Ks(){}function Ga(t,e,i){return!e||ir[t]>ir[i]?Ks:e[t].bind(e)}const B5={error:Ks,warn:Ks,info:Ks,debug:Ks};let Lv=new WeakMap;function Tt(t){var e;const i=t.logger,s=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!i)return B5;const a=Lv.get(i);if(a&&a[0]===s)return a[1];const u={error:Ga("error",i,s),warn:Ga("warn",i,s),info:Ga("info",i,s),debug:Ga("debug",i,s)};return Lv.set(i,[s,u]),u}const Gi=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,i])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":i]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Po{constructor(e,i,s){this.iterator=e,this.controller=i,this.client=s}static fromSSEResponse(e,i,s){let a=!1;const u=s?Tt(s):console;function c(){return ln(this,arguments,function*(){var g,h,v,T;if(a)throw new en("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let x=!1;try{try{for(var _=!0,b=an(H5(e,i)),w;w=yield me(b.next()),g=w.done,!g;_=!0){T=w.value,_=!1;const A=T;if(!x)if(A.data.startsWith("[DONE]")){x=!0;continue}else try{yield yield me(JSON.parse(A.data))}catch(R){throw u.error("Could not parse message into JSON:",A.data),u.error("From chunk:",A.raw),R}}}catch(A){h={error:A}}finally{try{!_&&!g&&(v=b.return)&&(yield me(v.call(b)))}finally{if(h)throw h.error}}x=!0}catch(A){if(Mf(A))return yield me(void 0);throw A}finally{x||i.abort()}})}return new Po(c,i,s)}static fromReadableStream(e,i,s){let a=!1;function u(){return ln(this,arguments,function*(){var g,h,v,T;const x=new gr,_=Wx(e);try{for(var b=!0,w=an(_),A;A=yield me(w.next()),g=A.done,!g;b=!0){T=A.value,b=!1;const R=T;for(const P of x.decode(R))yield yield me(P)}}catch(R){h={error:R}}finally{try{!b&&!g&&(v=w.return)&&(yield me(v.call(w)))}finally{if(h)throw h.error}}for(const R of x.flush())yield yield me(R)})}function c(){return ln(this,arguments,function*(){var g,h,v,T;if(a)throw new en("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let x=!1;try{try{for(var _=!0,b=an(u()),w;w=yield me(b.next()),g=w.done,!g;_=!0){T=w.value,_=!1;const A=T;x||A&&(yield yield me(JSON.parse(A)))}}catch(A){h={error:A}}finally{try{!_&&!g&&(v=b.return)&&(yield me(v.call(b)))}finally{if(h)throw h.error}}x=!0}catch(A){if(Mf(A))return yield me(void 0);throw A}finally{x||i.abort()}})}return new Po(c,i,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],i=[],s=this.iterator(),a=u=>({next:()=>{if(u.length===0){const c=s.next();e.push(c),i.push(c)}return u.shift()}});return[new Po(()=>a(e),this.controller,this.client),new Po(()=>a(i),this.controller,this.client)]}toReadableStream(){const e=this;let i;return jx({async start(){i=e[Symbol.asyncIterator]()},async pull(s){try{const{value:a,done:u}=await i.next();if(u)return s.close();const c=Ad(JSON.stringify(a)+`
`);s.enqueue(c)}catch(a){s.error(a)}},async cancel(){var s;await((s=i.return)===null||s===void 0?void 0:s.call(i))}})}}function H5(t,e){return ln(this,arguments,function*(){var s,a,u,c;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new en("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new en("Attempted to iterate over a response with no body");const p=new O5,g=new gr,h=Wx(t.body);try{for(var v=!0,T=an(z5(h)),x;x=yield me(T.next()),s=x.done,!s;v=!0){c=x.value,v=!1;const _=c;for(const b of g.decode(_)){const w=p.decode(b);w&&(yield yield me(w))}}}catch(_){a={error:_}}finally{try{!v&&!s&&(u=T.return)&&(yield me(u.call(T)))}finally{if(a)throw a.error}}for(const _ of g.flush()){const b=p.decode(_);b&&(yield yield me(b))}})}function z5(t){return ln(this,arguments,function*(){var i,s,a,u;let c=new Uint8Array;try{for(var p=!0,g=an(t),h;h=yield me(g.next()),i=h.done,!i;p=!0){u=h.value,p=!1;const v=u;if(v==null)continue;const T=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?Ad(v):v;let x=new Uint8Array(c.length+T.length);x.set(c),x.set(T,c.length),c=x;let _;for(;(_=G5(c))!==-1;)yield yield me(c.slice(0,_)),c=c.slice(_)}}catch(v){s={error:v}}finally{try{!p&&!i&&(a=g.return)&&(yield me(a.call(g)))}finally{if(s)throw s.error}}c.length>0&&(yield yield me(c))})}class O5{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const u={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],u}if(this.chunks.push(e),e.startsWith(":"))return null;let[i,s,a]=q5(e,":");return a.startsWith(" ")&&(a=a.substring(1)),i==="event"?this.event=a:i==="data"&&this.data.push(a),null}}function q5(t,e){const i=t.indexOf(e);return i!==-1?[t.substring(0,i),e,t.substring(i+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function F5(t,e){const{response:i,requestLogID:s,retryOfRequestLogID:a,startTime:u}=e,c=await(async()=>{var p;if(e.options.stream)return Tt(t).debug("response",i.status,i.url,i.headers,i.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(i,e.controller,t):Po.fromSSEResponse(i,e.controller,t);if(i.status===204)return null;if(e.options.__binaryResponse)return i;const g=i.headers.get("content-type"),h=(p=g==null?void 0:g.split(";")[0])===null||p===void 0?void 0:p.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?await i.json():await i.text()})();return Tt(t).debug(`[${s}] response parsed`,Gi({retryOfRequestLogID:a,url:i.url,status:i.status,body:c,durationMs:Date.now()-u})),c}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bd extends Promise{constructor(e,i,s=F5){super(a=>{a(null)}),this.responsePromise=i,this.parseResponse=s,this.client=e}_thenUnwrap(e){return new bd(this.client,this.responsePromise,async(i,s)=>e(await this.parseResponse(i,s),s))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,i]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:i}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,i){return this.parse().then(e,i)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lS=Symbol("brand.privateNullableHeaders");function*Y5(t){if(!t)return;if(lS in t){const{values:s,nulls:a}=t;yield*s.entries();for(const u of a)yield[u,null];return}let e=!1,i;t instanceof Headers?i=t.entries():Rv(t)?i=t:(e=!0,i=Object.entries(t??{}));for(let s of i){const a=s[0];if(typeof a!="string")throw new TypeError("expected header name to be a string");const u=Rv(s[1])?s[1]:[s[1]];let c=!1;for(const p of u)p!==void 0&&(e&&!c&&(c=!0,yield[a,null]),yield[a,p])}}const qs=t=>{const e=new Headers,i=new Set;for(const s of t){const a=new Set;for(const[u,c]of Y5(s)){const p=u.toLowerCase();a.has(p)||(e.delete(u),a.add(p)),c===null?(e.delete(u),i.add(p)):(e.append(u,c),i.delete(p))}}return{[lS]:!0,values:e,nulls:i}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const of=t=>{var e,i,s,a,u,c;if(typeof globalThis.process<"u")return(s=(i=(e=yR)===null||e===void 0?void 0:e[t])===null||i===void 0?void 0:i.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(c=(u=(a=globalThis.Deno.env)===null||a===void 0?void 0:a.get)===null||u===void 0?void 0:u.call(a,t))===null||c===void 0?void 0:c.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var aS;class yr{constructor(e){var i,s,a,u,c,p,g,{baseURL:h=of("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(i=of("GEMINI_API_KEY"))!==null&&i!==void 0?i:null,apiVersion:T="v1beta"}=e,x=nr(e,["baseURL","apiKey","apiVersion"]);const _=Object.assign(Object.assign({apiKey:v,apiVersion:T},x),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=_.baseURL,this.timeout=(s=_.timeout)!==null&&s!==void 0?s:yr.DEFAULT_TIMEOUT,this.logger=(a=_.logger)!==null&&a!==void 0?a:console;const b="warn";this.logLevel=b,this.logLevel=(c=(u=Uv(_.logLevel,"ClientOptions.logLevel",this))!==null&&u!==void 0?u:Uv(of("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&c!==void 0?c:b,this.fetchOptions=_.fetchOptions,this.maxRetries=(p=_.maxRetries)!==null&&p!==void 0?p:2,this.fetch=(g=_.fetch)!==null&&g!==void 0?g:A5(),this.encoder=R5,this._options=_,this.apiKey=v,this.apiVersion=T,this.clientAdapter=_.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:i}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!i.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const i=qs([e.headers]);if(!(i.values.has("authorization")||i.values.has("x-goog-api-key"))){if(this.apiKey)return qs([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return qs([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([i,s])=>typeof s<"u").map(([i,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(i)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(i)}=`;throw new en(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Ro}`}defaultIdempotencyKey(){return`stainless-node-retry-${f5()}`}makeStatusError(e,i,s,a){return xt.generate(e,i,s,a)}buildURL(e,i,s){const a=!this.baseURLOverridden()&&s||this.baseURL,u=p5(e)?new URL(e):new URL(a+(a.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),c=this.defaultQuery();return g5(c)||(i=Object.assign(Object.assign({},c),i)),typeof i=="object"&&i&&!Array.isArray(i)&&(u.search=this.stringifyQuery(i)),u.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const i=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${i}`}}async prepareRequest(e,{url:i,options:s}){}get(e,i){return this.methodRequest("get",e,i)}post(e,i){return this.methodRequest("post",e,i)}patch(e,i){return this.methodRequest("patch",e,i)}put(e,i){return this.methodRequest("put",e,i)}delete(e,i){return this.methodRequest("delete",e,i)}methodRequest(e,i,s){return this.request(Promise.resolve(s).then(a=>Object.assign({method:e,path:i},a)))}request(e,i=null){return new bd(this,this.makeRequest(e,i,void 0))}async makeRequest(e,i,s){var a,u,c;const p=await e,g=(a=p.maxRetries)!==null&&a!==void 0?a:this.maxRetries;i==null&&(i=g),await this.prepareOptions(p);const{req:h,url:v,timeout:T}=await this.buildRequest(p,{retryCount:g-i});await this.prepareRequest(h,{url:v,options:p});const x="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),_=s===void 0?"":`, retryOf: ${s}`,b=Date.now();if(Tt(this).debug(`[${x}] sending request`,Gi({retryOfRequestLogID:s,method:p.method,url:v,options:p,headers:h.headers})),!((u=p.signal)===null||u===void 0)&&u.aborted)throw new If;const w=new AbortController,A=await this.fetchWithTimeout(v,h,T,w).catch(Df),R=Date.now();if(A instanceof globalThis.Error){const U=`retrying, ${i} attempts remaining`;if(!((c=p.signal)===null||c===void 0)&&c.aborted)throw new If;const J=Mf(A)||/timed? ?out/i.test(String(A)+("cause"in A?String(A.cause):""));if(i)return Tt(this).info(`[${x}] connection ${J?"timed out":"failed"} - ${U}`),Tt(this).debug(`[${x}] connection ${J?"timed out":"failed"} (${U})`,Gi({retryOfRequestLogID:s,url:v,durationMs:R-b,message:A.message})),this.retryRequest(p,i,s??x);throw Tt(this).info(`[${x}] connection ${J?"timed out":"failed"} - error; no more retries left`),Tt(this).debug(`[${x}] connection ${J?"timed out":"failed"} (error; no more retries left)`,Gi({retryOfRequestLogID:s,url:v,durationMs:R-b,message:A.message})),J?new qx:new mr({cause:A})}const P=`[${x}${_}] ${h.method} ${v} ${A.ok?"succeeded":"failed"} with status ${A.status} in ${R-b}ms`;if(!A.ok){const U=await this.shouldRetry(A);if(i&&U){const Z=`retrying, ${i} attempts remaining`;return await N5(A.body),Tt(this).info(`${P} - ${Z}`),Tt(this).debug(`[${x}] response error (${Z})`,Gi({retryOfRequestLogID:s,url:A.url,status:A.status,headers:A.headers,durationMs:R-b})),this.retryRequest(p,i,s??x,A.headers)}const J=U?"error; no more retries left":"error; not retryable";Tt(this).info(`${P} - ${J}`);const H=await A.text().catch(Z=>Df(Z).message),q=T5(H),z=q?void 0:H;throw Tt(this).debug(`[${x}] response error (${J})`,Gi({retryOfRequestLogID:s,url:A.url,status:A.status,headers:A.headers,message:z,durationMs:Date.now()-b})),this.makeStatusError(A.status,q,z,A.headers)}return Tt(this).info(P),Tt(this).debug(`[${x}] response start`,Gi({retryOfRequestLogID:s,url:A.url,status:A.status,headers:A.headers,durationMs:R-b})),{response:A,options:p,controller:w,requestLogID:x,retryOfRequestLogID:s,startTime:b}}async fetchWithTimeout(e,i,s,a){const u=i||{},{signal:c,method:p}=u,g=nr(u,["signal","method"]);c&&c.addEventListener("abort",()=>a.abort());const h=setTimeout(()=>a.abort(),s),v=globalThis.ReadableStream&&g.body instanceof globalThis.ReadableStream||typeof g.body=="object"&&g.body!==null&&Symbol.asyncIterator in g.body,T=Object.assign(Object.assign(Object.assign({signal:a.signal},v?{duplex:"half"}:{}),{method:"GET"}),g);p&&(T.method=p.toUpperCase());try{return await this.fetch.call(void 0,e,T)}finally{clearTimeout(h)}}async shouldRetry(e){const i=e.headers.get("x-should-retry");return i==="true"?!0:i==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,i,s,a){var u;let c;const p=a==null?void 0:a.get("retry-after-ms");if(p){const h=parseFloat(p);Number.isNaN(h)||(c=h)}const g=a==null?void 0:a.get("retry-after");if(g&&!c){const h=parseFloat(g);Number.isNaN(h)?c=Date.parse(g)-Date.now():c=h*1e3}if(!(c&&0<=c&&c<60*1e3)){const h=(u=e.maxRetries)!==null&&u!==void 0?u:this.maxRetries;c=this.calculateDefaultRetryTimeoutMillis(i,h)}return await x5(c),this.makeRequest(e,i-1,s)}calculateDefaultRetryTimeoutMillis(e,i){const u=i-e,c=Math.min(.5*Math.pow(2,u),8),p=1-Math.random()*.25;return c*p*1e3}async buildRequest(e,{retryCount:i=0}={}){var s,a,u;const c=Object.assign({},e),{method:p,path:g,query:h,defaultBaseURL:v}=c,T=this.buildURL(g,h,v);"timeout"in c&&v5("timeout",c.timeout),c.timeout=(s=c.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:x,body:_}=this.buildBody({options:c}),b=await this.buildHeaders({options:e,method:p,bodyHeaders:x,retryCount:i});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:p,headers:b},c.signal&&{signal:c.signal}),globalThis.ReadableStream&&_ instanceof globalThis.ReadableStream&&{duplex:"half"}),_&&{body:_}),(a=this.fetchOptions)!==null&&a!==void 0?a:{}),(u=c.fetchOptions)!==null&&u!==void 0?u:{}),url:T,timeout:c.timeout}}async buildHeaders({options:e,method:i,bodyHeaders:s,retryCount:a}){let u={};this.idempotencyHeader&&i!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),u[this.idempotencyHeader]=e.idempotencyKey);const c=await this.authHeaders(e);let p=qs([u,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),C5()),this._options.defaultHeaders,s,e.headers,c]);return this.validateHeaders(p),p.values}buildBody({options:{body:e,headers:i}}){if(!e)return{bodyHeaders:void 0,body:void 0};const s=qs([i]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&s.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:b5(e)}:this.encoder({body:e,headers:s})}}yr.DEFAULT_TIMEOUT=6e4;class lt extends yr{constructor(){super(...arguments),this.interactions=new sS(this)}}aS=lt;lt.GeminiNextGenAPIClient=aS;lt.GeminiNextGenAPIClientError=en;lt.APIError=xt;lt.APIConnectionError=mr;lt.APIConnectionTimeoutError=qx;lt.APIUserAbortError=If;lt.NotFoundError=Kx;lt.ConflictError=Xx;lt.RateLimitError=$x;lt.BadRequestError=Fx;lt.AuthenticationError=Yx;lt.InternalServerError=Zx;lt.PermissionDeniedError=Jx;lt.UnprocessableEntityError=Qx;lt.toFile=U5;lt.Interactions=sS;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function J5(t,e){const i={},s=f(t,["name"]);return s!=null&&d(i,["_url","name"],s),i}function K5(t,e){const i={},s=f(t,["name"]);return s!=null&&d(i,["_url","name"],s),i}function X5(t,e){const i={},s=f(t,["sdkHttpResponse"]);return s!=null&&d(i,["sdkHttpResponse"],s),i}function Q5(t,e){const i={},s=f(t,["sdkHttpResponse"]);return s!=null&&d(i,["sdkHttpResponse"],s),i}function $5(t,e,i){const s={};if(f(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=f(t,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&d(e,["displayName"],a),f(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=f(t,["epochCount"]);e!==void 0&&u!=null&&d(e,["tuningTask","hyperparameters","epochCount"],u);const c=f(t,["learningRateMultiplier"]);if(c!=null&&d(s,["tuningTask","hyperparameters","learningRateMultiplier"],c),f(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(f(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const p=f(t,["batchSize"]);e!==void 0&&p!=null&&d(e,["tuningTask","hyperparameters","batchSize"],p);const g=f(t,["learningRate"]);if(e!==void 0&&g!=null&&d(e,["tuningTask","hyperparameters","learningRate"],g),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(f(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return s}function Z5(t,e,i){const s={};let a=f(i,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const _=f(t,["validationDataset"]);e!==void 0&&_!=null&&d(e,["supervisedTuningSpec"],Pv(_))}else if(a==="PREFERENCE_TUNING"){const _=f(t,["validationDataset"]);e!==void 0&&_!=null&&d(e,["preferenceOptimizationSpec"],Pv(_))}const u=f(t,["tunedModelDisplayName"]);e!==void 0&&u!=null&&d(e,["tunedModelDisplayName"],u);const c=f(t,["description"]);e!==void 0&&c!=null&&d(e,["description"],c);let p=f(i,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const _=f(t,["epochCount"]);e!==void 0&&_!=null&&d(e,["supervisedTuningSpec","hyperParameters","epochCount"],_)}else if(p==="PREFERENCE_TUNING"){const _=f(t,["epochCount"]);e!==void 0&&_!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],_)}let g=f(i,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const _=f(t,["learningRateMultiplier"]);e!==void 0&&_!=null&&d(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],_)}else if(g==="PREFERENCE_TUNING"){const _=f(t,["learningRateMultiplier"]);e!==void 0&&_!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],_)}let h=f(i,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const _=f(t,["exportLastCheckpointOnly"]);e!==void 0&&_!=null&&d(e,["supervisedTuningSpec","exportLastCheckpointOnly"],_)}else if(h==="PREFERENCE_TUNING"){const _=f(t,["exportLastCheckpointOnly"]);e!==void 0&&_!=null&&d(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],_)}let v=f(i,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const _=f(t,["adapterSize"]);e!==void 0&&_!=null&&d(e,["supervisedTuningSpec","hyperParameters","adapterSize"],_)}else if(v==="PREFERENCE_TUNING"){const _=f(t,["adapterSize"]);e!==void 0&&_!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],_)}if(f(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(f(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const T=f(t,["labels"]);e!==void 0&&T!=null&&d(e,["labels"],T);const x=f(t,["beta"]);return e!==void 0&&x!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","beta"],x),s}function j5(t,e){const i={},s=f(t,["baseModel"]);s!=null&&d(i,["baseModel"],s);const a=f(t,["preTunedModel"]);a!=null&&d(i,["preTunedModel"],a);const u=f(t,["trainingDataset"]);u!=null&&u3(u);const c=f(t,["config"]);return c!=null&&$5(c,i),i}function W5(t,e){const i={},s=f(t,["baseModel"]);s!=null&&d(i,["baseModel"],s);const a=f(t,["preTunedModel"]);a!=null&&d(i,["preTunedModel"],a);const u=f(t,["trainingDataset"]);u!=null&&c3(u,i,e);const c=f(t,["config"]);return c!=null&&Z5(c,i,e),i}function e3(t,e){const i={},s=f(t,["name"]);return s!=null&&d(i,["_url","name"],s),i}function t3(t,e){const i={},s=f(t,["name"]);return s!=null&&d(i,["_url","name"],s),i}function n3(t,e,i){const s={},a=f(t,["pageSize"]);e!==void 0&&a!=null&&d(e,["_query","pageSize"],a);const u=f(t,["pageToken"]);e!==void 0&&u!=null&&d(e,["_query","pageToken"],u);const c=f(t,["filter"]);return e!==void 0&&c!=null&&d(e,["_query","filter"],c),s}function i3(t,e,i){const s={},a=f(t,["pageSize"]);e!==void 0&&a!=null&&d(e,["_query","pageSize"],a);const u=f(t,["pageToken"]);e!==void 0&&u!=null&&d(e,["_query","pageToken"],u);const c=f(t,["filter"]);return e!==void 0&&c!=null&&d(e,["_query","filter"],c),s}function o3(t,e){const i={},s=f(t,["config"]);return s!=null&&n3(s,i),i}function s3(t,e){const i={},s=f(t,["config"]);return s!=null&&i3(s,i),i}function l3(t,e){const i={},s=f(t,["sdkHttpResponse"]);s!=null&&d(i,["sdkHttpResponse"],s);const a=f(t,["nextPageToken"]);a!=null&&d(i,["nextPageToken"],a);const u=f(t,["tunedModels"]);if(u!=null){let c=u;Array.isArray(c)&&(c=c.map(p=>rS(p))),d(i,["tuningJobs"],c)}return i}function a3(t,e){const i={},s=f(t,["sdkHttpResponse"]);s!=null&&d(i,["sdkHttpResponse"],s);const a=f(t,["nextPageToken"]);a!=null&&d(i,["nextPageToken"],a);const u=f(t,["tuningJobs"]);if(u!=null){let c=u;Array.isArray(c)&&(c=c.map(p=>Pf(p))),d(i,["tuningJobs"],c)}return i}function r3(t,e){const i={},s=f(t,["name"]);s!=null&&d(i,["model"],s);const a=f(t,["name"]);return a!=null&&d(i,["endpoint"],a),i}function u3(t,e){const i={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=f(t,["examples"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>u)),d(i,["examples","examples"],a)}return i}function c3(t,e,i){const s={};let a=f(i,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const c=f(t,["gcsUri"]);e!==void 0&&c!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(a==="PREFERENCE_TUNING"){const c=f(t,["gcsUri"]);e!==void 0&&c!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}let u=f(i,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const c=f(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(u==="PREFERENCE_TUNING"){const c=f(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}if(f(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function rS(t,e){const i={},s=f(t,["sdkHttpResponse"]);s!=null&&d(i,["sdkHttpResponse"],s);const a=f(t,["name"]);a!=null&&d(i,["name"],a);const u=f(t,["state"]);u!=null&&d(i,["state"],Cx(u));const c=f(t,["createTime"]);c!=null&&d(i,["createTime"],c);const p=f(t,["tuningTask","startTime"]);p!=null&&d(i,["startTime"],p);const g=f(t,["tuningTask","completeTime"]);g!=null&&d(i,["endTime"],g);const h=f(t,["updateTime"]);h!=null&&d(i,["updateTime"],h);const v=f(t,["description"]);v!=null&&d(i,["description"],v);const T=f(t,["baseModel"]);T!=null&&d(i,["baseModel"],T);const x=f(t,["_self"]);return x!=null&&d(i,["tunedModel"],r3(x)),i}function Pf(t,e){const i={},s=f(t,["sdkHttpResponse"]);s!=null&&d(i,["sdkHttpResponse"],s);const a=f(t,["name"]);a!=null&&d(i,["name"],a);const u=f(t,["state"]);u!=null&&d(i,["state"],Cx(u));const c=f(t,["createTime"]);c!=null&&d(i,["createTime"],c);const p=f(t,["startTime"]);p!=null&&d(i,["startTime"],p);const g=f(t,["endTime"]);g!=null&&d(i,["endTime"],g);const h=f(t,["updateTime"]);h!=null&&d(i,["updateTime"],h);const v=f(t,["error"]);v!=null&&d(i,["error"],v);const T=f(t,["description"]);T!=null&&d(i,["description"],T);const x=f(t,["baseModel"]);x!=null&&d(i,["baseModel"],x);const _=f(t,["tunedModel"]);_!=null&&d(i,["tunedModel"],_);const b=f(t,["preTunedModel"]);b!=null&&d(i,["preTunedModel"],b);const w=f(t,["supervisedTuningSpec"]);w!=null&&d(i,["supervisedTuningSpec"],w);const A=f(t,["preferenceOptimizationSpec"]);A!=null&&d(i,["preferenceOptimizationSpec"],A);const R=f(t,["tuningDataStats"]);R!=null&&d(i,["tuningDataStats"],R);const P=f(t,["encryptionSpec"]);P!=null&&d(i,["encryptionSpec"],P);const U=f(t,["partnerModelTuningSpec"]);U!=null&&d(i,["partnerModelTuningSpec"],U);const J=f(t,["customBaseModel"]);J!=null&&d(i,["customBaseModel"],J);const H=f(t,["experiment"]);H!=null&&d(i,["experiment"],H);const q=f(t,["labels"]);q!=null&&d(i,["labels"],q);const z=f(t,["outputUri"]);z!=null&&d(i,["outputUri"],z);const Q=f(t,["pipelineJob"]);Q!=null&&d(i,["pipelineJob"],Q);const Z=f(t,["serviceAccount"]);Z!=null&&d(i,["serviceAccount"],Z);const ie=f(t,["tunedModelDisplayName"]);ie!=null&&d(i,["tunedModelDisplayName"],ie);const pe=f(t,["veoTuningSpec"]);return pe!=null&&d(i,["veoTuningSpec"],pe),i}function f3(t,e){const i={},s=f(t,["sdkHttpResponse"]);s!=null&&d(i,["sdkHttpResponse"],s);const a=f(t,["name"]);a!=null&&d(i,["name"],a);const u=f(t,["metadata"]);u!=null&&d(i,["metadata"],u);const c=f(t,["done"]);c!=null&&d(i,["done"],c);const p=f(t,["error"]);return p!=null&&d(i,["error"],p),i}function Pv(t,e){const i={},s=f(t,["gcsUri"]);s!=null&&d(i,["validationDatasetUri"],s);const a=f(t,["vertexDatasetResource"]);return a!=null&&d(i,["validationDatasetUri"],a),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class d3 extends Gn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Oi(kn.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(i),i),this.get=async i=>await this.getInternal(i),this.tune=async i=>{var s;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const a={tunedModelName:i.baseModel};!((s=i.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(a.checkpointId=i.config.preTunedModelCheckpointId);const u=Object.assign(Object.assign({},i),{preTunedModel:a});return u.baseModel=void 0,await this.tuneInternal(u)}else{const a=Object.assign({},i);return await this.tuneInternal(a)}else{const a=Object.assign({},i),u=await this.tuneMldevInternal(a);let c="";return u.metadata!==void 0&&u.metadata.tunedModel!==void 0?c=u.metadata.tunedModel:u.name!==void 0&&u.name.includes("/operations/")&&(c=u.name.split("/operations/")[0]),{name:c,state:_f.JOB_STATE_QUEUED}}}}async getInternal(e){var i,s,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=t3(e);return p=te("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>Pf(v))}else{const h=e3(e);return p=te("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>rS(v))}}async listInternal(e){var i,s,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=s3(e);return p=te("tuningJobs",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const T=a3(v),x=new av;return Object.assign(x,T),x})}else{const h=o3(e);return p=te("tunedModels",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const T=l3(v),x=new av;return Object.assign(x,T),x})}}async cancel(e){var i,s,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=K5(e);return p=te("{name}:cancel",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const T=Q5(v),x=new rv;return Object.assign(x,T),x})}else{const h=J5(e);return p=te("{name}:cancel",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),c.then(v=>{const T=X5(v),x=new rv;return Object.assign(x,T),x})}}async tuneInternal(e){var i,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const p=W5(e,e);return u=te("tuningJobs",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:g.headers},v})),a.then(g=>Pf(g))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,s;let a,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=j5(e);return u=te("tunedModels",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:g.headers},v})),a.then(g=>f3(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class p3{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const h3=1024*1024*8,m3=3,g3=1e3,y3=2,or="x-goog-upload-status";async function v3(t,e,i){var s;const a=await uS(t,e,i),u=await(a==null?void 0:a.json());if(((s=a==null?void 0:a.headers)===null||s===void 0?void 0:s[or])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function T3(t,e,i){var s;const a=await uS(t,e,i),u=await(a==null?void 0:a.json());if(((s=a==null?void 0:a.headers)===null||s===void 0?void 0:s[or])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const c=vx(u),p=new Td;return Object.assign(p,c),p}async function uS(t,e,i){var s,a;let u=0,c=0,p=new Cf(new Response),g="upload";for(u=t.size;c<u;){const h=Math.min(h3,u-c),v=t.slice(c,c+h);c+h>=u&&(g+=", finalize");let T=0,x=g3;for(;T<m3&&(p=await i.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(c),"Content-Length":String(h)}}}),!(!((s=p==null?void 0:p.headers)===null||s===void 0)&&s[or]));)T++,await S3(x),x=x*y3;if(c+=h,((a=p==null?void 0:p.headers)===null||a===void 0?void 0:a[or])!=="active")break;if(u<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return p}async function x3(t){return{size:t.size,type:t.type}}function S3(t){return new Promise(e=>setTimeout(e,t))}class E3{async upload(e,i,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await v3(e,i,s)}async uploadToFileSearchStore(e,i,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await T3(e,i,s)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await x3(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _3{create(e,i,s){return new C3(e,i,s)}}class C3{constructor(e,i,s){this.url=e,this.headers=i,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vv="x-goog-api-key";class A3{constructor(e){this.apiKey=e}async addAuthHeaders(e,i){if(e.get(Vv)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Vv,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const b3="gl-node/";class N3{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const i=new lt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=i.interactions,this._interactions}constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const s=SR(e.httpOptions,e.vertexai,void 0,void 0);s&&(e.httpOptions?e.httpOptions.baseUrl=s:e.httpOptions={baseUrl:s}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const a=new A3(this.apiKey);this.apiClient=new xI({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:b3+"web",uploader:new E3,downloader:new p3}),this.models=new BI(this.apiClient),this.live=new UI(this.apiClient,a,new _3),this.batches=new $w(this.apiClient),this.chats=new DM(this.models,this.apiClient),this.caches=new RM(this.apiClient),this.files=new zM(this.apiClient),this.operations=new HI(this.apiClient),this.authTokens=new n5(this.apiClient),this.tunings=new d3(this.apiClient),this.fileSearchStores=new c5(this.apiClient)}}const R3=new N3({apiKey:"PLACEHOLDER_API_KEY"}),w3=`

capone, luciano, gbos, , , , , , 

1. 
2. 
-  nodeId 
- 
3. 
4.  JSON 

JSON 
- isKeyNode: 
- nodeId:  ID
- analysis: 
- subconsciousNoise: 
`,M3=async t=>{const e=await R3.models.generateContent({model:"gemini-3-flash-preview",contents:`: "${t}"`,config:{systemInstruction:w3,responseMimeType:"application/json",responseSchema:{type:Gt.OBJECT,properties:{isKeyNode:{type:Gt.BOOLEAN},nodeId:{type:Gt.STRING},analysis:{type:Gt.STRING},subconsciousNoise:{type:Gt.STRING}},required:["isKeyNode","analysis","subconsciousNoise"]}}});return JSON.parse(e.text.trim())},D3=()=>{const[t,e]=X.useState({phase:"briefing",unlockedNodeIds:["capone"],activeNodeId:null,passwordEntered:!1,collectedClues:[],collectedYears:[],unlockedPeople:[],unlockedArchiveIds:[],history:[{type:"info",content:"[SYSTEM]: NEURAL LINK ESTABLISHED...",timestamp:Date.now()}]}),[i,s]=X.useState(gR),[a,u]=X.useState(!1),c=X.useCallback(async A=>{u(!0),e(q=>({...q,history:[...q.history,{type:"search",content:A,timestamp:Date.now()}]}));const R=A.toLowerCase(),P=R.includes("maine")||R.includes("")||R.includes(""),U=R.includes("small_bank")||R.includes("")||R.includes("small bank");if(P&&U){setTimeout(()=>{const q=i.find(z=>z.id==="confession_1");q&&e(z=>({...z,activeNodeId:q.id,unlockedNodeIds:Array.from(new Set([...z.unlockedNodeIds,q.id])),collectedClues:z.collectedClues.filter(Q=>!["maine","small_bank","headdress"].includes(Q)),history:[...z.history,{type:"info",content:`[]: ${q.title}`,timestamp:Date.now()},{type:"info",content:"[SYSTEM]: ",timestamp:Date.now()}]})),u(!1)},50);return}const J=R.includes("ohio")||R.includes("")||R.includes(""),H=R.includes("ritual")||R.includes("")||R.includes("");if(J||H){setTimeout(()=>{const q=i.find(z=>z.id==="confession_2");q&&e(z=>({...z,activeNodeId:q.id,unlockedNodeIds:Array.from(new Set([...z.unlockedNodeIds,q.id])),collectedClues:z.collectedClues.filter(Q=>!["ohio","ritual_case"].includes(Q)),history:[...z.history,{type:"info",content:`[]: ${q.title}`,timestamp:Date.now()},{type:"info",content:"[SYSTEM]: ",timestamp:Date.now()}]})),u(!1)},50);return}try{const q=await M3(A);if(q.isKeyNode&&q.nodeId){const z=i.find(Q=>Q.id===q.nodeId);z&&e(Q=>({...Q,activeNodeId:z.id,unlockedNodeIds:Array.from(new Set([...Q.unlockedNodeIds,z.id])),history:[...Q.history,{type:"info",content:`[]: ${z.title} `,timestamp:Date.now()}]}))}else e(z=>({...z,history:[...z.history,{type:"info",content:q.analysis,timestamp:Date.now()}]}))}catch(q){console.error(q),e(z=>({...z,history:[...z.history,{type:"info",content:"",timestamp:Date.now()}]}))}finally{P&&U||J||H||u(!1)}},[i]),p=A=>{s(R=>R.map(P=>{if(P.id===A){let U=P.currentLayer;return P.currentLayer===Ne.SURFACE?U=Ne.DEEP:P.currentLayer===Ne.DEEP&&P.layers[Ne.CORE]&&(U=Ne.CORE),{...P,currentLayer:U}}return P})),e(R=>({...R,history:[...R.history,{type:"shatter",content:"[]: ",timestamp:Date.now()}]}))},g=(A,R)=>{const P=["julip","project","julip_symbol","project_symbol"],U=["nibi","conchar","father","lundgren","morning","robert","robert_capone"],J=["year_1971","year_1968","year_1967"],H=P.includes(A),q=U.includes(A),z=J.includes(A),Q={},Z=[];if(q){let ie=A;(A==="robert"||A==="robert_capone")&&(ie="capone"),t.unlockedPeople.includes(ie)||(Q.unlockedPeople=[...t.unlockedPeople,ie],Z.push({type:"info",content:`[PERSON IDENTIFIED]: ${R} `,timestamp:Date.now()})),t.collectedClues.includes(A)||(Q.collectedClues=[...Q.collectedClues||t.collectedClues,A])}else H?(t.collectedDossierIds.includes(A)||(Q.collectedDossierIds=[...t.collectedDossierIds||[],A],Z.push({type:"info",content:`[EVIDENCE FILED]: ${R} `,timestamp:Date.now()})),A==="julip"&&(t.collectedClues.includes(A)||(Q.collectedClues=[...Q.collectedClues||t.collectedClues,A],Z.push({type:"info",content:`[KEYWORD RECORDED]: ${R} `,timestamp:Date.now()})))):z?t.collectedYears.includes(A)||(Q.collectedYears=[...t.collectedYears,A]):t.collectedClues.includes(A)||(Q.collectedClues=[...t.collectedClues,A],Z.push({type:"info",content:`[KEYWORD RECORDED]: ${R} `,timestamp:Date.now()}));(Object.keys(Q).length>0||Z.length>0)&&e(ie=>({...ie,...Q,history:[...ie.history,...Z]}))},h=A=>{t.unlockedArchiveIds.includes(A)||e(R=>({...R,unlockedArchiveIds:[...R.unlockedArchiveIds,A],history:[...R.history,{type:"info",content:`[ARCHIVE RETRIEVED]: ${A.toUpperCase()}`,timestamp:Date.now()}]}))},v=(A,R)=>{e(P=>({...P,collectedYears:P.collectedYears.filter(U=>!A.includes(U)),collectedClues:P.collectedClues.filter(U=>!R.includes(U)),history:[...P.history,{type:"info",content:"[SYSTEM]: ",timestamp:Date.now()}]}))},T=i.find(A=>A.id===t.activeNodeId),x=i.filter(A=>t.unlockedNodeIds.includes(A.id)),[_,b]=X.useState([]),w=A=>{_.includes(A)||(b(R=>[...R,A]),e(R=>({...R,history:[...R.history,{type:"info",content:"[EVIDENCE ATTACHED]: NEW ITEM IN CLUE FOLDER",timestamp:Date.now()}]})))};return S.jsxs(pt,{mode:"wait",children:[t.phase==="briefing"&&S.jsxs(fe.div,{className:"w-full h-full",exit:{opacity:0,scale:.95,filter:"blur(10px)"},transition:{duration:.5},children:[S.jsx(nR,{onComplete:()=>e(A=>({...A,phase:"briefing-detail"}))}),S.jsx("button",{onClick:()=>e(A=>({...A,phase:"immersion",passwordEntered:!0,unlockedPeople:["father","capone","nibi","conchar"],collectedClues:["julip","chicago","asian_woman","maine","small_bank","missing","father","nibi","conchar","robert"],collectedDossierIds:["julip","project"],collectedYears:["year_1967","year_1968","year_1971"]})),className:"fixed top-4 right-4 z-50 px-4 py-2 bg-red-900/50 hover:bg-red-800 text-red-200 text-xs border border-red-500/50 rounded uppercase tracking-widest backdrop-blur-md transition-colors",children:"Debug: Quick Start"})]},"briefing"),t.phase==="briefing-detail"&&S.jsx(fe.div,{className:"w-full h-full",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,y:-20,filter:"blur(5px)"},transition:{duration:.8},children:S.jsx(iR,{onContinue:()=>e(A=>({...A,phase:"dialogue"})),onCollectClue:g,collectedClues:t.collectedClues,collectedDossierIds:t.collectedDossierIds})},"briefing-detail"),t.phase==="dialogue"&&S.jsx(fe.div,{className:"w-full h-full",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},children:S.jsx(oR,{onComplete:()=>e(A=>({...A,phase:"immersion",passwordEntered:!0})),collectedClues:t.collectedClues,unlockedPeople:t.unlockedPeople})},"dialogue"),t.phase==="immersion"&&S.jsx(fe.div,{className:"w-full h-full",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:S.jsx(mR,{nodes:x,onNodeClick:A=>e(R=>({...R,activeNodeId:A})),activeNodeId:t.activeNodeId,onSearch:c,history:t.history,isProcessing:a,activeNode:T,onShatter:p,collectedClues:t.collectedClues,collectedYears:t.collectedYears,unlockedPeople:t.unlockedPeople,onCollectClue:g,unlockedArchiveIds:t.unlockedArchiveIds,onUnlockArchive:h,onConsumeKeywords:v,collectedAttachments:_,onCollectAttachment:w,collectedDossierIds:t.collectedDossierIds||[]})},"immersion")]})},cS=document.getElementById("root");if(!cS)throw new Error("Could not find root element to mount to");const I3=F_.createRoot(cS);I3.render(S.jsx(Gv.StrictMode,{children:S.jsx(D3,{})}));
